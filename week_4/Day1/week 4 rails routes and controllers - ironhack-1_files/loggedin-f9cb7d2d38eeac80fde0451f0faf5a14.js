var __bind=function(a,b){return function(){return a.apply(b,arguments)}};(function(a){return window.Html5Uploader=function(){function b(a,b){b==null&&(b={}),this.loaded=__bind(this.loaded,this),this.progress=__bind(this.progress,this),this.complete=__bind(this.complete,this),this.error=__bind(this.error,this),this.success=__bind(this.success,this),this._onComplete=__bind(this._onComplete,this),this.onAbort=__bind(this.onAbort,this),this.onLoaded=__bind(this.onLoaded,this),this.onProgress=__bind(this.onProgress,this),this.onComplete=__bind(this.onComplete,this),this.onError=__bind(this.onError,this),this.onSuccess=__bind(this.onSuccess,this),this.onSubmit=__bind(this.onSubmit,this),this.form=document.getElementById(a),this.opts=b,this.formData=null,this.url=this.form.action,this.xhr=null,this._addHandlers()}return b.prototype.onSubmit=function(a){var b;return typeof (b=this.opts).onSubmit=="function"?b.onSubmit(a):void 0},b.prototype.onSuccess=function(a,b){var c;return typeof (c=this.opts).onSuccess=="function"?c.onSuccess(a,b):void 0},b.prototype.onError=function(a,b){var c;return typeof (c=this.opts).onError=="function"?c.onError(a,b):void 0},b.prototype.onComplete=function(a){var b;return typeof (b=this.opts).onComplete=="function"?b.onComplete(a):void 0},b.prototype.onProgress=function(a,b){var c;return typeof (c=this.opts).onProgress=="function"?c.onProgress(a,b):void 0},b.prototype.onLoaded=function(a){var b;return typeof (b=this.opts).onLoaded=="function"?b.onLoaded(a):void 0},b.prototype.onAbort=function(){var a;return typeof (a=this.opts).onAbort=="function"?a.onAbort(event):void 0},b.prototype.abort=function(){return this.xhr.abort(),this.onAbort()},b.prototype._addHandlers=function(){var b=this;return a.elem.bind(this.form,"submit",function(a){return a.preventDefault(),a.stopPropagation(),b.submit(a)})},b.prototype.submit=function(b){return this.onSubmit(b),a.detect.browser.msie&&a.detect.browser.version<=9?this._simpleSubmit():this._ajaxSubmit()},b.prototype._simpleSubmit=function(){return this.form.submit()},b.prototype._ajaxSubmit=function(){return this.formData=new FormData(this.form),this._upload()},b.prototype._upload=function(){return this.xhr=new XMLHttpRequest,this._addXhrHandlers(),this.xhr.open("POST",this.url,!0),this.xhr.send(this.formData)},b.prototype._addXhrHandlers=function(){var a=this;return this.xhr.addEventListener("readystatechange",function(b){if(a.xhr.readyState===4)return a._onComplete()}),this.xhr.upload.addEventListener("progress",function(b){var c,d;return c=b.loaded/b.total,d=Math.round(c*100),a.onProgress(d,b)}),this.xhr.upload.addEventListener("error",function(b){return a.onError(b)})},b.prototype._onComplete=function(){var a,b;this.onComplete(this.xhr);switch(!1){case!(200<=(a=this.xhr.status)&&a<300):return this.onSuccess(this.xhr.response,this.xhr.status);case!(400<=(b=this.xhr.status)&&b<=500):return this.onError(this.xhr.response,this.xhr.status);default:return this.complete(this.xhr)}},b.prototype.success=function(a,b){var c;return typeof (c=this.opts).success=="function"?c.success(a,b):void 0},b.prototype.error=function(a,b){var c;return typeof (c=this.opts).error=="function"?c.error(a,b):void 0},b.prototype.complete=function(a){var b;return typeof (b=this.opts).complete=="function"?b.complete(a):void 0},b.prototype.progress=function(a,b){var c;return typeof (c=this.opts).progress=="function"?c.progress(a,b):void 0},b.prototype.loaded=function(a){var b;return typeof (b=this.opts).loaded=="function"?b.loaded(a):void 0},b}(),window.Html5Progress=function(){function a(a,b){b==null&&(b={percent:0,text:""}),this.progressEl=document.getElementById(a),this.progressBar=this.progressEl.getElementsByClassName("html5-progress-bar")[0],this.progressText=this.progressBar.getElementsByClassName("html5-progress-text")[0],this.update(b.percent,b.text)}return a.prototype.update=function(a,b){var c;return b==null&&(b=""),c=""+(a-100),this.progressBar.style.transform="translateX("+c+"%)",this.progressBar.style.webkitTransform="translateX("+c+"%)",this.progressText.innerHTML="<span>"+b+"</span>"},a}()})(Wistia),function(a,b){function c(a){return J.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function d(a){if(!co[a]){var b=G.body,c=J("<"+a+">").appendTo(b),d=c.css("display");c.remove();if(d==="none"||d===""){cp||(cp=G.createElement("iframe"),cp.frameBorder=cp.width=cp.height=0),b.appendChild(cp);if(!cq||!cp.createElement)cq=(cp.contentWindow||cp.contentDocument).document,cq.write((J.support.boxModel?"<!doctype html>":"")+"<html><body>"),cq.close();c=cq.createElement(a),cq.body.appendChild(c),d=J.css(c,"display"),b.removeChild(cp)}co[a]=d}return co[a]}function e(a,b){var c={};return J.each(cu.concat.apply([],cu.slice(0,b)),function(){c[this]=a}),c}function f(){cv=b}function g(){return setTimeout(f,0),cv=J.now()}function h(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function i(){try{return new a.XMLHttpRequest}catch(b){}}function j(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},f,g,h=d.length,i,j=d[0],k,l,m,n,o;for(f=1;f<h;f++){if(f===1)for(g in a.converters)typeof g=="string"&&(e[g.toLowerCase()]=a.converters[g]);k=j,j=d[f];if(j==="*")j=k;else if(k!=="*"&&k!==j){l=k+" "+j,m=e[l]||e["* "+j];if(!m){o=b;for(n in e){i=n.split(" ");if(i[0]===k||i[0]==="*"){o=e[i[1]+" "+j];if(o){n=e[n],n===!0?m=o:o===!0&&(m=n);break}}}}!m&&!o&&J.error("No conversion from "+l.replace(" "," to ")),m!==!0&&(c=m?m(c):o(n(c)))}}return c}function k(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function l(a,b,c,d){if(J.isArray(b))J.each(b,function(b,e){c||bQ.test(a)?d(a,e):l(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&J.type(b)==="object")for(var e in b)l(a+"["+e+"]",b[e],c,d);else d(a,b)}function m(a,c){var d,e,f=J.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&J.extend(!0,a,e)}function n(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===cd,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=n(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=n(a,c,d,e,"*",g)),l}function o(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(J.isFunction(c)){var d=b.toLowerCase().split(b_),e=0,f=d.length,g,h,i;for(;e<f;e++)g=d[e],i=/^\+/.test(g),i&&(g=g.substr(1)||"*"),h=a[g]=a[g]||[],h[i?"unshift":"push"](c)}}}function p(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?1:0,f=4;if(d>0){if(c!=="border")for(;e<f;e+=2)c||(d-=parseFloat(J.css(a,"padding"+bL[e]))||0),c==="margin"?d+=parseFloat(J.css(a,c+bL[e]))||0:d-=parseFloat(J.css(a,"border"+bL[e]+"Width"))||0;return d+"px"}d=bM(a,b);if(d<0||d==null)d=a.style[b];if(bH.test(d))return d;d=parseFloat(d)||0;if(c)for(;e<f;e+=2)d+=parseFloat(J.css(a,"padding"+bL[e]))||0,c!=="padding"&&(d+=parseFloat(J.css(a,"border"+bL[e]+"Width"))||0),c==="margin"&&(d+=parseFloat(J.css(a,c+bL[e]))||0);return d+"px"}function q(a){var b=G.createElement("div");return bC.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function r(a){var b=(a.nodeName||"").toLowerCase();b==="input"?s(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&J.grep(a.getElementsByTagName("input"),s)}function s(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function t(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function u(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?b.outerHTML=a.outerHTML:c!=="input"||a.type!=="checkbox"&&a.type!=="radio"?c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(J.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function v(a,b){if(b.nodeType===1&&!!J.hasData(a)){var c,d,e,f=J._data(a),g=J._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)J.event.add(b,c,h[c][d])}g.data&&(g.data=J.extend({},g.data))}}function w(a,b){return J.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function x(a){var b=bo.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function y(a,b,c){b=b||0;if(J.isFunction(b))return J.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return J.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=J.grep(a,function(a){return a.nodeType===1});if(bk.test(b))return J.filter(b,d,!c);b=J.filter(b,d)}return J.grep(a,function(a,d){return J.inArray(a,b)>=0===c})}function z(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function A(){return!0}function B(){return!1}function C(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=J._data(a,d);g&&(c==="queue"||!J._data(a,e))&&(c==="mark"||!J._data(a,f))&&setTimeout(function(){!J._data(a,e)&&!J._data(a,f)&&(J.removeData(a,d,!0),g.fire())},0)}function D(a){for(var b in a){if(b==="data"&&J.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function E(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(N,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:J.isNumeric(d)?+d:M.test(d)?J.parseJSON(d):d}catch(f){}J.data(a,c,d)}else d=b}return d}function F(a){var b=K[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var G=a.document,H=a.navigator,I=a.location,J=function(){function c(){if(!d.isReady){try{G.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,i=/\S/,j=/^\s+/,k=/\s+$/,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p=/(?:^|:|,)(?:\s*\[)+/g,q=/(webkit)[ \/]([\w.]+)/,r=/(opera)(?:.*version)?[ \/]([\w.]+)/,s=/(msie) ([\w.]+)/,t=/(mozilla)(?:.*? rv:([\w.]+))?/,u=/-([a-z]|[0-9])/ig,v=/^-ms-/,w=function(a,b){return(b+"").toUpperCase()},x=H.userAgent,y,z,A,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,I=Array.prototype.indexOf,J={};return d.fn=d.prototype={constructor:d,init:function(a,c,e){var f,g,i,j;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!c&&G.body)return this.context=G,this[0]=G.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?f=h.exec(a):f=[null,a,null];if(f&&(f[1]||!c)){if(f[1])return c=c instanceof d?c[0]:c,j=c?c.ownerDocument||c:G,i=l.exec(a),i?d.isPlainObject(c)?(a=[G.createElement(i[1])],d.fn.attr.call(a,c,!0)):a=[j.createElement(i[1])]:(i=d.buildFragment([f[1]],[j]),a=(i.cacheable?d.clone(i.fragment):i.fragment).childNodes),d.merge(this,a);g=G.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return e.find(a);this.length=1,this[0]=g}return this.context=G,this.selector=a,this}return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a)}return d.isFunction(a)?e.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),d.makeArray(a,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();return d.isArray(a)?D.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")"),e},each:function(a,b){return d.each(this,a,b)},ready:function(a){return d.bindReady(),z.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){return a.$===d&&(a.$=f),b&&a.jQuery===d&&(a.jQuery=e),d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(a===!0&&!--d.readyWait||a!==!0&&!d.isReady){if(!G.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;z.fireWith(G,[d]),d.fn.trigger&&d(G).trigger("ready").off("ready")}},bindReady:function(){if(!z){z=d.Callbacks("once memory");if(G.readyState==="complete")return setTimeout(d.ready,1);if(G.addEventListener)G.addEventListener("DOMContentLoaded",A,!1),a.addEventListener("load",d.ready,!1);else if(G.attachEvent){G.attachEvent("onreadystatechange",A),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}G.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):J[B.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var e;for(e in a);return e===b||C.call(a,e)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=d.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(m.test(b.replace(n,"@").replace(o,"]").replace(p,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(c){if(typeof c!="string"||!c)return null;var e,f;try{a.DOMParser?(f=new DOMParser,e=f.parseFromString(c,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(c))}catch(g){e=b}return(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+c),e},noop:function(){},globalEval:function(b){b&&i.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(v,"ms-").replace(u,w)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:F?function(a){return a==null?"":F.call(a)}:function(a){return a==null?"":(a+"").replace(j,"").replace(k,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?D.call(c,a):d.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(I)return I.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,e){var f,g,h=[],i=0,j=a.length,k=a instanceof d||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||d.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,e),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,e),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var e=a[c];c=a,a=e}if(!d.isFunction(a))return b;var f=E.call(arguments,2),g=function(){return a.apply(c,f.concat(E.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||d.guid++,g},access:function(a,c,e,f,g,h,i){var j,k=e==null,l=0,m=a.length;if(e&&typeof e=="object"){for(l in e)d.access(a,c,l,e[l],1,h,f);g=1}else if(f!==b){j=i===b&&d.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(d(a),c)}):(c.call(a,f),c=null));if(c)for(;l<m;l++)c(a[l],e,j?f.call(a[l],l,c(a[l],e)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],e):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=q.exec(a)||r.exec(a)||s.exec(a)||a.indexOf("compatible")<0&&t.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,e){return e&&e instanceof d&&!(e instanceof a)&&(e=a(e)),d.fn.init.call(this,c,e,b)},a.fn.init.prototype=a.fn;var b=a(G);return a},browser:{}}),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),y=d.uaMatch(x),y.browser&&(d.browser[y.browser]=!0,d.browser.version=y.version),d.browser.webkit&&(d.browser.safari=!0),i.test(" ")&&(j=/^[\s\xA0]+/,k=/[\s\xA0]+$/),g=d(G),G.addEventListener?A=function(){G.removeEventListener("DOMContentLoaded",A,!1),d.ready()}:G.attachEvent&&(A=function(){G.readyState==="complete"&&(G.detachEvent("onreadystatechange",A),d.ready())}),d}(),K={};J.Callbacks=function(a){a=a?K[a]||F(a):{};var c=[],d=[],e,f,g,h,i,j,k=function(b){var d,e,f,g,h;for(d=0,e=b.length;d<e;d++)f=b[d],g=J.type(f),g==="array"?k(f):g==="function"&&(!a.unique||!m.has(f))&&c.push(f)},l=function(b,k){k=k||[],e=!a.memory||[b,k],f=!0,g=!0,j=h||0,h=0,i=c.length;for(;c&&j<i;j++)if(c[j].apply(b,k)===!1&&a.stopOnFalse){e=!0;break}g=!1,c&&(a.once?e===!0?m.disable():c=[]:d&&d.length&&(e=d.shift(),m.fireWith(e[0],e[1])))},m={add:function(){if(c){var a=c.length;k(arguments),g?i=c.length:e&&e!==!0&&(h=a,l(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){g&&f<=i&&(i--,f<=j&&j--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&m.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(g?a.once||d.push([b,c]):(!a.once||!e)&&l(b,c)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m};var L=[].slice;J.extend({Deferred:function(a){var b=J.Callbacks("once memory"),c=J.Callbacks("once memory"),d=J.Callbacks("memory"),e="pending",f={resolve:b,reject:c,notify:d},g={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return h.done(a).fail(b).progress(c),this},always:function(){return h.done.apply(h,arguments).fail.apply(h,arguments),this},pipe:function(a,b,c){return J.Deferred(function(d){J.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],f;J.isFunction(c)?h[a](function(){f=c.apply(this,arguments),f&&J.isFunction(f.promise)?f.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===h?d:this,[f])}):h[a](d[e])})}).promise()},promise:function(a){if(a==null)a=g;else for(var b in g)a[b]=g[b];return a}},h=g.promise({}),i;for(i in f)h[i]=f[i].fire,h[i+"With"]=f[i].fireWith;return h.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(h,h),h},when:function(a){function b(a){return function(b){g[a]=arguments.length>1?L.call(arguments,0):b,j.notifyWith(k,g)}}function c(a){return function(b){d[a]=arguments.length>1?L.call(arguments,0):b,--h||j.resolveWith(j,d)}}var d=L.call(arguments,0),e=0,f=d.length,g=Array(f),h=f,i=f,j=f<=1&&a&&J.isFunction(a.promise)?a:J.Deferred(),k=j.promise();if(f>1){for(;e<f;e++)d[e]&&d[e].promise&&J.isFunction(d[e].promise)?d[e].promise().then(c(e),j.reject,b(e)):--h;h||j.resolveWith(j,d)}else j!==a&&j.resolveWith(j,f?[a]:[]);return k}}),J.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n=G.createElement("div"),o=G.documentElement;n.setAttribute("className","t"),n.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};e=G.createElement("select"),f=e.appendChild(G.createElement("option")),g=n.getElementsByTagName("input")[0],b={leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:g.value==="on",optSelected:f.selected,getSetAttribute:n.className!=="t",enctype:!!G.createElement("form").enctype,html5Clone:G.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},J.boxModel=b.boxModel=G.compatMode==="CSS1Compat",g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete n.test}catch(p){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick")),g=G.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue=g.value==="t",g.setAttribute("checked","checked"),g.setAttribute("name","t"),n.appendChild(g),h=G.createDocumentFragment(),h.appendChild(n.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(n);if(n.attachEvent)for(l in{submit:1,change:1,focusin:1})k="on"+l,m=k in n,m||(n.setAttribute(k,"return;"),m=typeof n[k]=="function"),b[l+"Bubbles"]=m;return h.removeChild(n),h=e=f=n=g=null,J(function(){var c,d,e,f,g,h,j,k,l,o,p,q,r,s=G.getElementsByTagName("body")[0];!s||(k=1,r="padding:0;margin:0;border:",p="position:absolute;top:0;left:0;width:1px;height:1px;",q=r+"0;visibility:hidden;",l="style='"+p+r+"5px solid #000;",o="<div "+l+"display:block;'><div style='"+r+"0;display:block;overflow:hidden;'></div></div>"+"<table "+l+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",c=G.createElement("div"),c.style.cssText=q+"width:0;height:0;position:static;top:0;margin-top:"+k+"px",s.insertBefore(c,s.firstChild),n=G.createElement("div"),c.appendChild(n),n.innerHTML="<table><tr><td style='"+r+"0;display:none'></td><td>t</td></tr></table>",i=n.getElementsByTagName("td"),m=i[0].offsetHeight===0,i[0].style.display="",i[1].style.display="none",b.reliableHiddenOffsets=m&&i[0].offsetHeight===0,a.getComputedStyle&&(n.innerHTML="",j=G.createElement("div"),j.style.width="0",j.style.marginRight="0",n.style.width="2px",n.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0),typeof n.style.zoom!="undefined"&&(n.innerHTML="",n.style.width=n.style.padding="1px",n.style.border=0,n.style.overflow="hidden",n.style.display="inline",n.style.zoom=1,b.inlineBlockNeedsLayout=n.offsetWidth===3,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=n.offsetWidth!==3),n.style.cssText=p+q,n.innerHTML=o,d=n.firstChild,e=d.firstChild,g=d.nextSibling.firstChild.firstChild,h={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:g.offsetTop===5},e.style.position="fixed",e.style.top="20px",h.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",h.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,h.doesNotIncludeMarginInBodyOffset=s.offsetTop!==k,a.getComputedStyle&&(n.style.marginTop="1%",b.pixelMargin=(a.getComputedStyle(n,null)||{marginTop:0}).marginTop!=="1%"),typeof c.style.zoom!="undefined"&&(c.style.zoom=1),s.removeChild(c),j=n=c=null,J.extend(b,h))}),b}();var M=/^(?:\{.*\}|\[.*\])$/,N=/([A-Z])/g;J.extend({cache:{},uuid:0,expando:"jQuery"+(J.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?J.cache[a[J.expando]]:a[J.expando],!!a&&!D(a)},data:function(a,c,d,e){if(!!J.acceptData(a)){var f,g,h,i=J.expando,j=typeof c=="string",k=a.nodeType,l=k?J.cache:a,m=k?a[i]:a[i]&&i,n=c==="events";if((!m||!l[m]||!n&&!e&&!l[m].data)&&j&&d===b)return;m||(k?a[i]=m=++J.uuid:m=i),l[m]||(l[m]={},k||(l[m].toJSON=J.noop));if(typeof c=="object"||typeof c=="function")e?l[m]=J.extend(l[m],c):l[m].data=J.extend(l[m].data,c);return f=g=l[m],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[J.camelCase(c)]=d),n&&!g[c]?f.events:(j?(h=g[c],h==null&&(h=g[J.camelCase(c)])):h=g,h)}},removeData:function(a,b,c){if(!!J.acceptData(a)){var d,e,f,g=J.expando,h=a.nodeType,i=h?J.cache:a,j=h?a[g]:g;if(!i[j])return;if(b){d=c?i[j]:i[j].data;if(d){J.isArray(b)||(b in d?b=[b]:(b=J.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?D:J.isEmptyObject)(d))return}}if(!c){delete i[j].data;if(!D(i[j]))return}J.support.deleteExpando||!i.setInterval?delete i[j]:i[j]=null,h&&(J.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}},_data:function(a,b,c){return J.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=J.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),J.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){if(this.length){k=J.data(i);if(i.nodeType===1&&!J._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")===0&&(g=J.camelCase(g.substring(5)),E(i,g,k[g]));J._data(i,"parsedAttrs",!0)}}return k}return typeof a=="object"?this.each(function(){J.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",J.access(this,function(c){if(c===b)return k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=J.data(i,a),k=E(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=J(this);b.triggerHandler("setData"+e,d),J.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){J.removeData(this,a)})}}),J.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",J._data(a,b,(J._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(J._data(b,d)||1)-1;e?J._data(b,d,e):(J.removeData(b,d,!0),C(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=J._data(a,b),c&&(!d||J.isArray(c)?d=J._data(a,b,J.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=J.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),J._data(a,b+".run",e),d.call(a,function(){J.dequeue(a,b)},e)),c.length||(J.removeData(a,b+"queue "+b+".run",!0),C(a,b,"queue"))}}),J.fn.extend({queue:function(a,c){var d=2;return typeof a!="string"&&(c=a,a="fx",d--),arguments.length<d?J.queue(this[0],a):c===b?this:this.each(function(){var b=J.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&J.dequeue(this,a)})},dequeue:function(a){return this.each(function(){J.dequeue(this,a)})},delay:function(a,b){return a=J.fx?J.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--h||e.resolveWith(f,[f])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var e=J.Deferred(),f=this,g=f.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=J.data(f[g],i,b,!0)||(J.data(f[g],j,b,!0)||J.data(f[g],k,b,!0))&&J.data(f[g],i,J.Callbacks("once memory"),!0))h++,l.add(d);return d(),e.promise(c)}});var O=/[\n\t\r]/g,P=/\s+/,Q=/\r/g,R=/^(?:button|input)$/i,S=/^(?:button|input|object|select|textarea)$/i,T=/^a(?:rea)?$/i,U=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=J.support.getSetAttribute,W,X,Y;J.fn.extend({attr:function(a,b){return J.access(this,J.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){J.removeAttr(this,a)})},prop:function(a,b){return J.access(this,J.prop,a,b,arguments.length>1)},removeProp:function(a){return a=J.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(J.isFunction(a))return this.each(function(b){J(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(P);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=J.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(J.isFunction(a))return this.each(function(b){J(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(P);for(d=0,e=this.length;d<e;d++){f=this[d];if(f.nodeType===1&&f.className)if(a){g=(" "+f.className+" ").replace(O," ");for(h=0,i=c.length;h<i;h++)g=g.replace(" "+c[h]+" "," ");f.className=J.trim(g)}else f.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return J.isFunction(a)?this.each(function(c){J(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=J(this),h=b,i=a.split(P);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&J._data(this,"__className__",this.className),this.className=this.className||a===!1?"":J._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!!arguments.length)return e=J.isFunction(a),this.each(function(d){var f=J(this),g;if(this.nodeType===1){e?g=a.call(this,d,f.val()):g=a,g==null?g="":typeof g=="number"?g+="":J.isArray(g)&&(g=J.map(g,function(a){return a==null?"":a+""})),c=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,g,"value")===b)this.value=g}});if(f)return c=J.valHooks[f.type]||J.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(Q,""):d==null?"":d)}}),J.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(J.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!J.nodeName(e.parentNode,"optgroup"))){b=J(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?J(h[f]).val():g},set:function(a,b){var c=J.makeArray(b);return J(a).find("option").each(function(){this.selected=J.inArray(J(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){if(e&&c in J.attrFn)return J(a)[c](d);if(typeof a.getAttribute=="undefined"
)return J.prop(a,c,d);h=i!==1||!J.isXMLDoc(a),h&&(c=c.toLowerCase(),g=J.attrHooks[c]||(U.test(c)?X:W));if(d!==b){if(d===null){J.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)}},removeAttr:function(a,b){var c,d,e,f,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(P),f=d.length;for(;h<f;h++)e=d[h],e&&(c=J.propFix[e]||e,g=U.test(e),g||J.attr(a,e,""),a.removeAttribute(V?e:c),g&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(R.test(a.nodeName)&&a.parentNode)J.error("type property can't be changed");else if(!J.support.radioValue&&b==="radio"&&J.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return W&&J.nodeName(a,"button")?W.get(a,b):b in a?a.value:null},set:function(a,b,c){if(W&&J.nodeName(a,"button"))return W.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!!a&&h!==3&&h!==8&&h!==2)return g=h!==1||!J.isXMLDoc(a),g&&(c=J.propFix[c]||c,f=J.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):S.test(a.nodeName)||T.test(a.nodeName)&&a.href?0:b}}}}),J.attrHooks.tabindex=J.propHooks.tabIndex,X={get:function(a,c){var d,e=J.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?J.removeAttr(a,c):(d=J.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},V||(Y={name:!0,id:!0,coords:!0},W=J.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(Y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=G.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},J.attrHooks.tabindex.set=W.set,J.each(["width","height"],function(a,b){J.attrHooks[b]=J.extend(J.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),J.attrHooks.contenteditable={get:W.get,set:function(a,b,c){b===""&&(b="false"),W.set(a,b,c)}}),J.support.hrefNormalized||J.each(["href","src","width","height"],function(a,c){J.attrHooks[c]=J.extend(J.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),J.support.style||(J.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),J.support.optSelected||(J.propHooks.selected=J.extend(J.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),J.support.enctype||(J.propFix.enctype="encoding"),J.support.checkOn||J.each(["radio","checkbox"],function(){J.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]=J.extend(J.valHooks[this],{set:function(a,b){if(J.isArray(b))return a.checked=J.inArray(J(a).val(),b)>=0}})});var Z=/^(?:textarea|input|select)$/i,$=/^([^\.]*)?(?:\.(.+))?$/,_=/(?:^|\s)hover(\.\S+)?\b/,ba=/^key/,bb=/^(?:mouse|contextmenu)|click/,bc=/^(?:focusinfocus|focusoutblur)$/,bd=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,be=function(a){var b=bd.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},bf=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},bg=function(a){return J.event.special.hover?a:a.replace(_,"mouseenter$1 mouseleave$1")};J.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(g=J._data(a)))){d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=J.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof J=="undefined"||!!a&&J.event.triggered===a.type?b:J.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=J.trim(bg(c)).split(" ");for(j=0;j<c.length;j++){k=$.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=J.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=J.event.special[l]||{},n=J.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,quick:f&&be(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),J.event.global[l]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var f=J.hasData(a)&&J._data(a),g,h,i,j,k,l,m,n,o,p,q,r;if(!!f&&!!(n=f.events)){b=J.trim(bg(b||"")).split(" ");for(g=0;g<b.length;g++){h=$.exec(b[g])||[],i=j=h[1],k=h[2];if(!i){for(i in n)J.event.remove(a,i+b[g],c,d,!0);continue}o=J.event.special[i]||{},i=(d?o.delegateType:o.bindType)||i,q=n[i]||[],l=q.length,k=k?new RegExp("(^|\\.)"+k.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(m=0;m<q.length;m++)r=q[m],(e||j===r.origType)&&(!c||c.guid===r.guid)&&(!k||k.test(r.namespace))&&(!d||d===r.selector||d==="**"&&r.selector)&&(q.splice(m--,1),r.selector&&q.delegateCount--,o.remove&&o.remove.call(a,r));q.length===0&&l!==q.length&&((!o.teardown||o.teardown.call(a,k)===!1)&&J.removeEvent(a,i,f.handle),delete n[i])}J.isEmptyObject(n)&&(p=f.handle,p&&(p.elem=null),J.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||e.nodeType!==3&&e.nodeType!==8){var g=c.type||c,h=[],i,j,k,l,m,n,o,p,q,r;if(bc.test(g+J.event.triggered))return;g.indexOf("!")>=0&&(g=g.slice(0,-1),j=!0),g.indexOf(".")>=0&&(h=g.split("."),g=h.shift(),h.sort());if((!e||J.event.customEvent[g])&&!J.event.global[g])return;c=typeof c=="object"?c[J.expando]?c:new J.Event(g,c):new J.Event(g),c.type=g,c.isTrigger=!0,c.exclusive=j,c.namespace=h.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n=g.indexOf(":")<0?"on"+g:"";if(!e){i=J.cache;for(k in i)i[k].events&&i[k].events[g]&&J.event.trigger(c,d,i[k].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?J.makeArray(d):[],d.unshift(c),o=J.event.special[g]||{};if(o.trigger&&o.trigger.apply(e,d)===!1)return;q=[[e,o.bindType||g]];if(!f&&!o.noBubble&&!J.isWindow(e)){r=o.delegateType||g,l=bc.test(r+g)?e:e.parentNode,m=null;for(;l;l=l.parentNode)q.push([l,r]),m=l;m&&m===e.ownerDocument&&q.push([m.defaultView||m.parentWindow||a,r])}for(k=0;k<q.length&&!c.isPropagationStopped();k++)l=q[k][0],c.type=q[k][1],p=(J._data(l,"events")||{})[c.type]&&J._data(l,"handle"),p&&p.apply(l,d),p=n&&l[n],p&&J.acceptData(l)&&p.apply(l,d)===!1&&c.preventDefault();return c.type=g,!f&&!c.isDefaultPrevented()&&(!o._default||o._default.apply(e.ownerDocument,d)===!1)&&(g!=="click"||!J.nodeName(e,"a"))&&J.acceptData(e)&&n&&e[g]&&(g!=="focus"&&g!=="blur"||c.target.offsetWidth!==0)&&!J.isWindow(e)&&(m=e[n],m&&(e[n]=null),J.event.triggered=g,e[g](),J.event.triggered=b,m&&(e[n]=m)),c.result}},dispatch:function(c){c=J.event.fix(c||a.event);var d=(J._data(this,"events")||{})[c.type]||[],e=d.delegateCount,f=[].slice.call(arguments,0),g=!c.exclusive&&!c.namespace,h=J.event.special[c.type]||{},i=[],j,k,l,m,n,o,p,q,r,s,t;f[0]=c,c.delegateTarget=this;if(!h.preDispatch||h.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!=="click")){m=J(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this)if(l.disabled!==!0){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?bf(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(g||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((J.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,f),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return h.postDispatch&&h.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||G,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=g&1?1:g&2?3:g&4?2:0),a}},fix:function(a){if(a[J.expando])return a;var c,d,e=a,f=J.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=J.Event(e);for(c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||G),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:J.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){J.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=J.extend(new J.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?J.event.trigger(e,null,b):J.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},J.event.handle=J.event.dispatch,J.removeEvent=G.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},J.Event=function(a,b){if(this instanceof J.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?A:B):this.type=a,b&&J.extend(this,b),this.timeStamp=a&&a.timeStamp||J.now(),this[J.expando]=!0;else return new J.Event(a,b)},J.Event.prototype={preventDefault:function(){this.isDefaultPrevented=A;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=A;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=A,this.stopPropagation()},isDefaultPrevented:B,isPropagationStopped:B,isImmediatePropagationStopped:B},J.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){J.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,f=e.selector,g;if(!d||d!==c&&!J.contains(c,d))a.type=e.origType,g=e.handler.apply(this,arguments),a.type=b;return g}}}),J.support.submitBubbles||(J.event.special.submit={setup:function(){if(J.nodeName(this,"form"))return!1;J.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=J.nodeName(c,"input")||J.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(J.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&J.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(J.nodeName(this,"form"))return!1;J.event.remove(this,"._submit")}}),J.support.changeBubbles||(J.event.special.change={setup:function(){if(Z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")J.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),J.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,J.event.simulate("change",this,a,!0))});return!1}J.event.add(this,"beforeactivate._change",function(a){var b=a.target;Z.test(b.nodeName)&&!b._change_attached&&(J.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&J.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return J.event.remove(this,"._change"),Z.test(this.nodeName)}}),J.support.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){J.event.simulate(b,a.target,J.event.fix(a),!0)};J.event.special[b]={setup:function(){c++===0&&G.addEventListener(a,d,!0)},teardown:function(){--c===0&&G.removeEventListener(a,d,!0)}}}),J.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=B;else if(!e)return this;return f===1&&(g=e,e=function(a){return J().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=J.guid++)),this.each(function(){J.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return J(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this}if(typeof a=="object"){for(var f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=B),this.each(function(){J.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return J(this.context).on(a,this.selector,b,c),this},die:function(a,b){return J(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){J.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return J.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||J.guid++,d=0,e=function(c){var e=(J._data(this,"lastToggle"+a.guid)||0)%d;return J._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){J.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},J.attrFn&&(J.attrFn[b]=!0),ba.test(b)&&(J.event.fixHooks[b]=J.event.keyHooks),bb.test(b)&&(J.event.fixHooks[b]=J.event.mouseHooks)}),function(){function a(a,b,c,d,f,g){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){var k=!1;j=j[a];while(j){if(j[e]===c){k=d[j.sizset];break}if(j.nodeType===1){g||(j[e]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}d[h]=k}}}function c(a,b,c,d,f,g){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){var k=!1;j=j[a];while(j){if(j[e]===c){k=d[j.sizset];break}j.nodeType===1&&!g&&(j[e]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}d[h]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(a,b,c,e){c=c||[],b=b||G;var f=b;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!="string")return c;var h,i,j,k,l,n,q,r,t=!0,u=m.isXML(b),v=[],x=a;do{d.exec(""),h=d.exec(x);if(h){x=h[3],v.push(h[1]);if(h[2]){k=h[3];break}}}while(h);if(v.length>1&&p.exec(a))if(v.length===2&&o.relative[v[0]])i=w(v[0]+v[1],b,e);else{i=o.relative[v[0]]?[b]:m(v.shift(),b);while(v.length)a=v.shift(),o.relative[a]&&(a+=v.shift()),i=w(a,i,e)}else{!e&&v.length>1&&b.nodeType===9&&!u&&o.match.ID.test(v[0])&&!o.match.ID.test(v[v.length-1])&&(l=m.find(v.shift(),b,u),b=l.expr?m.filter(l.expr,l.set)[0]:l.set[0]);if(b){l=e?{expr:v.pop(),set:s(e)}:m.find(v.pop(),v.length!==1||v[0]!=="~"&&v[0]!=="+"||!b.parentNode?b:b.parentNode,u),i=l.expr?m.filter(l.expr,l.set):l.set,v.length>0?j=s(i):t=!1;while(v.length)n=v.pop(),q=n,o.relative[n]?q=v.pop():n="",q==null&&(q=b),o.relative[n](j,q,u)}else j=v=[]}j||(j=i),j||m.error(n||a);if(g.call(j)==="[object Array]")if(!t)c.push.apply(c,j);else if(b&&b.nodeType===1)for(r=0;j[r]!=null;r++)j[r]&&(j[r]===!0||j[r].nodeType===1&&m.contains(b,j[r]))&&c.push(i[r]);else for(r=0;j[r]!=null;r++)j[r]&&j[r].nodeType===1&&c.push(i[r]);else s(j,c);return k&&(m(k,f,c,e),m.uniqueSort(c)),c};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9||d===11){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,d,e){var g,h=f++,i=a;typeof d=="string"&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,e)},"~":function(b,d,e){var g,h=f++,i=a;typeof d=="string"&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,e)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if(a[1]==="not")if((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=m(a[3],null,null,b);else{var g=m.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,d,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],d=b[3];if(c===1&&d===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[e]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[e]=f}return j=a.nodeIndex-d,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(G.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;G.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=G.createElement("div"),c="script"+(new Date).getTime(),d=G.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),G.getElementById(c)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=G.createElement("div");a.appendChild(G.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),G.querySelectorAll&&function(){var a=m,b=G.createElement("div"),c="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,d,e,f){d=d||G;if(!f&&!m.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(d.nodeType===1||d.nodeType===9)){if(g[1])return s(d.getElementsByTagName(b),e);if(g[2]&&o.find.CLASS&&d.getElementsByClassName)return s(d.getElementsByClassName(g[2]),e)}if(d.nodeType===9){if(b==="body"&&d.body)return s([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return s([],e);if(h.id===g[3])return s([h],e)}try{return s(d.querySelectorAll(b),e)}catch(i){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var j=d,k=d.getAttribute("id"),l=k||c,n=d.parentNode,p=/^\s*[+~]/.test(b);k?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l),p&&n&&(d=d.parentNode);try{if(!p||n)return s(d.querySelectorAll("[id='"+l+"'] "+b),e)}catch(q){}finally{k||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)m[d]=a[d];b=null}}(),function(){var a=G.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(G.createElement("div"),"div"),d=!1;try{b.call(G.documentElement,"[test!='']:sizzle")}catch(e){d=!0}m.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(e,null,null,[a]).length>0}}}(),function(){var a=G.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),G.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:G.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var w=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=J.attr,m.selectors.attrMap={},J.find=m,J.expr=m.selectors,J.expr[":"]=J.expr.filters,J.unique=m.uniqueSort,J.text=m.getText,J.isXMLDoc=m.isXML,J.contains=m.contains}();var bh=/Until$/,bi=/^(?:parents|prevUntil|prevAll)/,bj=/,/,bk=/^.[^:#\[\.,]*$/,bl=Array.prototype.slice,bm=J.expr.match.globalPOS,bn={children:!0,contents:!0,next:!0,prev:!0};J.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return J(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(J.contains(b[c],this))return!0});var e=this.pushStack("","find",a),f,g,h;for(c=0,d=this.length;c<d;c++){f=e.length,J.find(a,this[c],e);if(c>0)for(g=f;g<e.length;g++)for(h=0;h<f;h++)if(e[h]===e[g]){e.splice(g--,1);break}}return e},has:function(a){var b=J(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(J.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(y(this,a,!1),"not",a)},filter:function(a){return this.pushStack(y(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bm.test(a)?J(a,this.context).index(this[0])>=0:J.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,f=this[0];if(J.isArray(a)){var g=1;while(f&&f.ownerDocument&&f!==b){for(d=0;d<a.length;d++)J(f).is(a[d])&&c.push({selector:a[d],elem:f,level:g});f=f.parentNode,g++}return c}var h=bm.test(a)||typeof a!="string"?J(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){f=this[d];while(f){if(h?h.index(f)>-1:J.find.matchesSelector(f,a)){c.push(f);break}f=f.parentNode;if(!f||!f.ownerDocument||f===b||f.nodeType===11)break}}return c=c.length>1?J.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?J.inArray(this[0],J(a)):J.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?J(a,b):J.makeArray(a&&a.nodeType?[a]:a),d=J.merge(this.get(),c);return this.pushStack(z(c[0])||z(d[0])?d:J.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),J.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return J.dir(a,"parentNode")},parentsUntil:function(a,b,c){return J.dir(a,"parentNode",c)},next:function(a){return J.nth(a,2,"nextSibling")},prev:function(a){return J.nth(a,2,"previousSibling"
)},nextAll:function(a){return J.dir(a,"nextSibling")},prevAll:function(a){return J.dir(a,"previousSibling")},nextUntil:function(a,b,c){return J.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return J.dir(a,"previousSibling",c)},siblings:function(a){return J.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return J.sibling(a.firstChild)},contents:function(a){return J.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:J.makeArray(a.childNodes)}},function(a,b){J.fn[a]=function(c,d){var e=J.map(this,b,c);return bh.test(a)||(d=c),d&&typeof d=="string"&&(e=J.filter(d,e)),e=this.length>1&&!bn[a]?J.unique(e):e,(this.length>1||bj.test(d))&&bi.test(a)&&(e=e.reverse()),this.pushStack(e,a,bl.call(arguments).join(","))}}),J.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?J.find.matchesSelector(b[0],a)?[b[0]]:[]:J.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!J(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bo="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bp=/ jQuery\d+="(?:\d+|null)"/g,bq=/^\s+/,br=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,bs=/<([\w:]+)/,bt=/<tbody/i,bu=/<|&#?\w+;/,bv=/<(?:script|style)/i,bw=/<(?:script|object|embed|option|style)/i,bx=new RegExp("<(?:"+bo+")[\\s/>]","i"),by=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/\/(java|ecma)script/i,bA=/^\s*<!(?:\[CDATA\[|\-\-)/,bB={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bC=x(G);bB.optgroup=bB.option,bB.tbody=bB.tfoot=bB.colgroup=bB.caption=bB.thead,bB.th=bB.td,J.support.htmlSerialize||(bB._default=[1,"div<div>","</div>"]),J.fn.extend({text:function(a){return J.access(this,function(a){return a===b?J.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(J.isFunction(a))return this.each(function(b){J(this).wrapAll(a.call(this,b))});if(this[0]){var b=J(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return J.isFunction(a)?this.each(function(b){J(this).wrapInner(a.call(this,b))}):this.each(function(){var b=J(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=J.isFunction(a);return this.each(function(c){J(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=J.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,J.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||J.filter(a,[d]).length)!b&&d.nodeType===1&&(J.cleanData(d.getElementsByTagName("*")),J.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&J.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return J.clone(this,a,b)})},html:function(a){return J.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(bp,""):null;if(typeof a=="string"&&!bv.test(a)&&(J.support.leadingWhitespace||!bq.test(a))&&!bB[(bs.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(br,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(J.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return this[0]&&this[0].parentNode?J.isFunction(a)?this.each(function(b){var c=J(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=J(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;J(this).remove(),b?J(b).before(a):J(c).append(a)})):this.length?this.pushStack(J(J.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!J.support.checkClone&&arguments.length===3&&typeof i=="string"&&by.test(i))return this.each(function(){J(this).domManip(a,c,d,!0)});if(J.isFunction(i))return this.each(function(e){var f=J(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){h=i&&i.parentNode,J.support.parentNode&&h&&h.nodeType===11&&h.childNodes.length===this.length?e={fragment:h}:e=J.buildFragment(a,this,j),g=e.fragment,g.childNodes.length===1?f=g=g.firstChild:f=g.firstChild;if(f){c=c&&J.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;k<l;k++)d.call(c?w(this[k],f):this[k],e.cacheable||l>1&&k<m?J.clone(g,!0,!0):g)}j.length&&J.each(j,function(a,b){b.src?J.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):J.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bA,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),J.buildFragment=function(a,b,c){var d,e,f,g,h=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=G),a.length===1&&typeof h=="string"&&h.length<512&&g===G&&h.charAt(0)==="<"&&!bw.test(h)&&(J.support.checkClone||!by.test(h))&&(J.support.html5Clone||!bx.test(h))&&(e=!0,f=J.fragments[h],f&&f!==1&&(d=f)),d||(d=g.createDocumentFragment(),J.clean(a,g,d,c)),e&&(J.fragments[h]=f?d:1),{fragment:d,cacheable:e}},J.fragments={},J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){J.fn[a]=function(c){var d=[],e=J(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var g=0,h=e.length;g<h;g++){var i=(g>0?this.clone(!0):this).get();J(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),J.extend({clone:function(a,b,c){var d,e,f,g=J.support.html5Clone||J.isXMLDoc(a)||!bx.test("<"+a.nodeName+">")?a.cloneNode(!0):q(a);if((!J.support.noCloneEvent||!J.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!J.isXMLDoc(a)){u(a,g),d=t(a),e=t(g);for(f=0;d[f];++f)e[f]&&u(d[f],e[f])}if(b){v(a,g);if(c){d=t(a),e=t(g);for(f=0;d[f];++f)v(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h=[];b=b||G,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||G);for(var i=0,j;(j=a[i])!=null;i++){typeof j=="number"&&(j+="");if(!j)continue;if(typeof j=="string")if(!bu.test(j))j=b.createTextNode(j);else{j=j.replace(br,"<$1></$2>");var k=(bs.exec(j)||["",""])[1].toLowerCase(),l=bB[k]||bB._default,m=l[0],n=b.createElement("div"),o=bC.childNodes,p;b===G?bC.appendChild(n):x(b).appendChild(n),n.innerHTML=l[1]+j+l[2];while(m--)n=n.lastChild;if(!J.support.tbody){var q=bt.test(j),s=k==="table"&&!q?n.firstChild&&n.firstChild.childNodes:l[1]==="<table>"&&!q?n.childNodes:[];for(g=s.length-1;g>=0;--g)J.nodeName(s[g],"tbody")&&!s[g].childNodes.length&&s[g].parentNode.removeChild(s[g])}!J.support.leadingWhitespace&&bq.test(j)&&n.insertBefore(b.createTextNode(bq.exec(j)[0]),n.firstChild),j=n.childNodes,n&&(n.parentNode.removeChild(n),o.length>0&&(p=o[o.length-1],p&&p.parentNode&&p.parentNode.removeChild(p)))}var t;if(!J.support.appendChecked)if(j[0]&&typeof (t=j.length)=="number")for(g=0;g<t;g++)r(j[g]);else r(j);j.nodeType?h.push(j):h=J.merge(h,j)}if(c){e=function(a){return!a.type||bz.test(a.type)};for(i=0;h[i];i++){f=h[i];if(d&&J.nodeName(f,"script")&&(!f.type||bz.test(f.type)))d.push(f.parentNode?f.parentNode.removeChild(f):f);else{if(f.nodeType===1){var u=J.grep(f.getElementsByTagName("script"),e);h.splice.apply(h,[i+1,0].concat(u))}c.appendChild(f)}}}return h},cleanData:function(a){var b,c,d=J.cache,e=J.event.special,f=J.support.deleteExpando;for(var g=0,h;(h=a[g])!=null;g++){if(h.nodeName&&J.noData[h.nodeName.toLowerCase()])continue;c=h[J.expando];if(c){b=d[c];if(b&&b.events){for(var i in b.events)e[i]?J.event.remove(h,i):J.removeEvent(h,i,b.handle);b.handle&&(b.handle.elem=null)}f?delete h[J.expando]:h.removeAttribute&&h.removeAttribute(J.expando),delete d[c]}}}});var bD=/alpha\([^)]*\)/i,bE=/opacity=([^)]*)/,bF=/([A-Z]|^ms)/g,bG=/^[\-+]?(?:\d*\.)?\d+$/i,bH=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bI=/^([\-+])=([\-+.\de]+)/,bJ=/^margin/,bK={position:"absolute",visibility:"hidden",display:"block"},bL=["Top","Right","Bottom","Left"],bM,bN,bO;J.fn.css=function(a,c){return J.access(this,function(a,c,d){return d!==b?J.style(a,c,d):J.css(a,c)},a,c,arguments.length>1)},J.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bM(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":J.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var f,g,h=J.camelCase(c),i=a.style,j=J.cssHooks[h];c=J.cssProps[h]||h;if(d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];g=typeof d,g==="string"&&(f=bI.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(J.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!J.cssNumber[h]&&(d+="px");if(!j||!("set"in j)||(d=j.set(a,d))!==b)try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;c=J.camelCase(c),f=J.cssHooks[c],c=J.cssProps[c]||c,c==="cssFloat"&&(c="float");if(f&&"get"in f&&(e=f.get(a,!0,d))!==b)return e;if(bM)return bM(a,c)},swap:function(a,b,c){var d={},e,f;for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=c.call(a);for(f in b)a.style[f]=d[f];return e}}),J.curCSS=J.css,G.defaultView&&G.defaultView.getComputedStyle&&(bN=function(a,b){var c,d,e,f,g=a.style;return b=b.replace(bF,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!J.contains(a.ownerDocument.documentElement,a)&&(c=J.style(a,b))),!J.support.pixelMargin&&e&&bJ.test(b)&&bH.test(c)&&(f=g.width,g.width=c,c=e.width,g.width=f),c}),G.documentElement.currentStyle&&(bO=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f==null&&g&&(e=g[b])&&(f=e),bH.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),bM=bN||bO,J.each(["height","width"],function(a,b){J.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0?p(a,b,d):J.swap(a,bK,function(){return p(a,b,d)})},set:function(a,b){return bG.test(b)?b+"px":b}}}),J.support.opacity||(J.cssHooks.opacity={get:function(a,b){return bE.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=J.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&J.trim(f.replace(bD,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bD.test(f)?f.replace(bD,e):f+" "+e}}),J(function(){J.support.reliableMarginRight||(J.cssHooks.marginRight={get:function(a,b){return J.swap(a,{display:"inline-block"},function(){return b?bM(a,"margin-right"):a.style.marginRight})}})}),J.expr&&J.expr.filters&&(J.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!J.support.reliableHiddenOffsets&&(a.style&&a.style.display||J.css(a,"display"))==="none"},J.expr.filters.visible=function(a){return!J.expr.filters.hidden(a)}),J.each({margin:"",padding:"",border:"Width"},function(a,b){J.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bL[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bP=/%20/g,bQ=/\[\]$/,bR=/\r?\n/g,bS=/#.*$/,bT=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bU=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bV=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bW=/^(?:GET|HEAD)$/,bX=/^\/\//,bY=/\?/,bZ=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b$=/^(?:select|textarea)/i,b_=/\s+/,ca=/([?&])_=[^&]*/,cb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cc=J.fn.load,cd={},ce={},cf,cg,ch=["*/"]+["*"];try{cf=I.href}catch(ci){cf=G.createElement("a"),cf.href="",cf=cf.href}cg=cb.exec(cf.toLowerCase())||[],J.fn.extend({load:function(a,c,d){if(typeof a!="string"&&cc)return cc.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(J.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=J.param(c,J.ajaxSettings.traditional),g="POST"));var h=this;return J.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?J("<div>").append(c.replace(bZ,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?J.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||b$.test(this.nodeName)||bU.test(this.type))}).map(function(a,b){var c=J(this).val();return c==null?null:J.isArray(c)?J.map(c,function(a,c){return{name:b.name,value:a.replace(bR,"\r\n")}}):{name:b.name,value:c.replace(bR,"\r\n")}}).get()}}),J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){J.fn[b]=function(a){return this.on(b,a)}}),J.each(["get","post"],function(a,c){J[c]=function(a,d,e,f){return J.isFunction(d)&&(f=f||e,e=d,d=b),J.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),J.extend({getScript:function(a,c){return J.get(a,b,c,"script")},getJSON:function(a,b,c){return J.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?m(a,J.ajaxSettings):(b=a,a=J.ajaxSettings),m(a,b),a},ajaxSettings:{url:cf,isLocal:bV.test(cg[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ch},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:o(cd),ajaxTransport:o(ce),ajax:function(a,c){function d(a,c,d,n){if(v!==2){v=2,t&&clearTimeout(t),s=b,q=n||"",y.readyState=a>0?4:0;var o,p,r,u=c,x=d?k(e,y,d):b,z,A;if(a>=200&&a<300||a===304){if(e.ifModified){if(z=y.getResponseHeader("Last-Modified"))J.lastModified[m]=z;if(A=y.getResponseHeader("Etag"))J.etag[m]=A}if(a===304)u="notmodified",o=!0;else try{p=j(e,x),u="success",o=!0}catch(B){u="parsererror",r=B}}else{r=u;if(!u||a)u="error",a<0&&(a=0)}y.status=a,y.statusText=""+(c||u),o?h.resolveWith(f,[p,u,y]):h.rejectWith(f,[y,u,r]),y.statusCode(l),l=b,w&&g.trigger("ajax"+(o?"Success":"Error"),[y,e,o?p:r]),i.fireWith(f,[y,u]),w&&(g.trigger("ajaxComplete",[y,e]),--J.active||J.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var e=J.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof J)?J(f):J.event,h=J.Deferred(),i=J.Callbacks("once memory"),l=e.statusCode||{},m,o={},p={},q,r,s,t,u,v=0,w,x,y={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=p[c]=p[c]||a,o[a]=b}return this},getAllResponseHeaders:function(){return v===2?q:null},getResponseHeader:function(a){var c;if(v===2){if(!r){r={};while(c=bT.exec(q))r[c[1].toLowerCase()]=c[2]}c=r[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(e.mimeType=a),this},abort:function(a){return a=a||"abort",s&&s.abort(a),d(0,a),this}};h.promise(y),y.success=y.done,y.error=y.fail,y.complete=i.add,y.statusCode=function(a){if(a){var b;if(v<2)for(b in a)l[b]=[l[b],a[b]];else b=a[y.status],y.then(b,b)}return this},e.url=((a||e.url)+"").replace(bS,"").replace(bX,cg[1]+"//"),e.dataTypes=J.trim(e.dataType||"*").toLowerCase().split(b_),e.crossDomain==null&&(u=cb.exec(e.url.toLowerCase()),e.crossDomain=!(!u||u[1]==cg[1]&&u[2]==cg[2]&&(u[3]||(u[1]==="http:"?80:443))==(cg[3]||(cg[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!="string"&&(e.data=J.param(e.data,e.traditional)),n(cd,e,c,y);if(v===2)return!1;w=e.global,e.type=e.type.toUpperCase(),e.hasContent=!bW.test(e.type),w&&J.active++===0&&J.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(bY.test(e.url)?"&":"?")+e.data,delete e.data),m=e.url;if(e.cache===!1){var z=J.now(),A=e.url.replace(ca,"$1_="+z);e.url=A+(A===e.url?(bY.test(e.url)?"&":"?")+"_="+z:"")}}(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",e.contentType),e.ifModified&&(m=m||e.url,J.lastModified[m]&&y.setRequestHeader("If-Modified-Since",J.lastModified[m]),J.etag[m]&&y.setRequestHeader("If-None-Match",J.etag[m])),y.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+ch+"; q=0.01":""):e.accepts["*"]);for(x in e.headers)y.setRequestHeader(x,e.headers[x]);if(!e.beforeSend||e.beforeSend.call(f,y,e)!==!1&&v!==2){for(x in{success:1,error:1,complete:1})y[x](e[x]);s=n(ce,e,c,y);if(!s)d(-1,"No Transport");else{y.readyState=1,w&&g.trigger("ajaxSend",[y,e]),e.async&&e.timeout>0&&(t=setTimeout(function(){y.abort("timeout")},e.timeout));try{v=1,s.send(o,d)}catch(B){if(v<2)d(-1,B);else throw B}}return y}return y.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=J.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=J.ajaxSettings.traditional);if(J.isArray(a)||a.jquery&&!J.isPlainObject(a))J.each(a,function(){e(this.name,this.value)});else for(var f in a)l(f,a[f],c,e);return d.join("&").replace(bP,"+")}}),J.extend({active:0,lastModified:{},etag:{}});var cj=J.now(),ck=/(\=)\?(&|$)|\?\?/i;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return J.expando+"_"+cj++}}),J.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ck.test(b.url)||e&&ck.test(b.data))){var f,g=b.jsonpCallback=J.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(ck,k),b.url===i&&(e&&(j=j.replace(ck,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&J.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||J.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return J.globalEval(a),a}}}),J.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),J.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=G.head||G.getElementsByTagName("head")[0]||G.documentElement;return{send:function(e,f){c=G.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cl=a.ActiveXObject?function(){for(var a in cn)cn[a](0,1)}:!1,cm=0,cn;J.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&i()||h()}:i,function(a){J.extend(J.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(J.ajaxSettings.xhr()),J.support.ajax&&J.ajaxTransport(function(c){if(!c.crossDomain||J.support.cors){var d;return{send:function(e,f){var g=c.xhr(),h,i;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(i in c.xhrFields)g[i]=c.xhrFields[i];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(i in e)g.setRequestHeader(i,e[i])}catch(j){}g.send(c.hasContent&&c.data||null),d=function(a,e){var i,j,k,l,m;try{if(d&&(e||g.readyState===4)){d=b,h&&(g.onreadystatechange=J.noop,cl&&delete cn[h]);if(e)g.readyState!==4&&g.abort();else{i=g.status,k=g.getAllResponseHeaders(),l={},m=g.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=g.responseText}catch(a){}try{j=g.statusText}catch(n){j=""}!i&&c.isLocal&&!c.crossDomain?i=l.text?200:404:i===1223&&(i=204)}}}catch(o){e||f(-1,o)}l&&f(i,j,l,k)},!c.async||g.readyState===4?d():(h=++cm,cl&&(cn||(cn={},J(a).unload(cl)),cn[h]=d),g.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var co={},cp,cq,cr=/^(?:toggle|show|hide)$/,cs=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ct,cu=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cv;J.fn.extend({show:function(a,b,c){var f,g;if(a||a===0)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;h<i;h++)f=this[h],f.style&&(g=f.style.display,!J._data(f,"olddisplay")&&g==="none"&&(g=f.style.display=""),(g===""&&J.css(f,"display")==="none"||!J.contains(f.ownerDocument.documentElement,f))&&J._data(f,"olddisplay",d(f.nodeName)));for(h=0;h<i;h++){f=this[h];if(f.style){g=f.style.display;if(g===""||g==="none")f.style.display=J._data(f,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(e("hide",3),a,b,c);var d,f,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(f=J.css(d,"display"),f!=="none"&&!J._data(d,"olddisplay")&&J._data(d,"olddisplay",f));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:J.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return J.isFunction(a)&&J.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:J(this).is(":hidden");J(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){function f(){g.queue===!1&&J._mark(this);var b=J.extend({},g),c=this.nodeType===1,e=c&&J(this).is(":hidden"),f,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){f=J.camelCase(i),i!==f&&(a[f]=a[i],delete a[i]);if((k=J.cssHooks[f])&&"expand"in k){l=k.expand(a[f]),delete a[f];for(i in l)i in a||(a[i]=l[i])}}for(f in a){h=a[f],J.isArray(h)?(b.animatedProperties[f]=h[1],h=a[f]=h[0]):b.animatedProperties[f]=b.specialEasing&&b.specialEasing[f]||b.easing||"swing";if(h==="hide"&&e||h==="show"&&!e)return b.complete.call(this);c&&(f==="height"||f==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],J.css(this,"display")==="inline"&&J.css(this,"float")==="none"&&(!J.support.inlineBlockNeedsLayout||d(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new J.fx(this,b,i),h=a[i],cr.test(h)?(q=J._data(this,"toggle"+i)||(h==="toggle"?e?"show":"hide":0),q?(J._data(this,"toggle"+i,q==="show"?"hide":"show"),j[q]()):j[h]()):(m=cs.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(J.cssNumber[i]?"":"px"),p!=="px"&&(J.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,J.style(this,i,n+p)),m[1]&&(o=(m[1]==="-="?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""));return!0}var g=J.speed(b,c,e);return J.isEmptyObject(a)?this.each(g.complete,[!1]):(a=J.extend({},a),g.queue===!1?this.each(f):this.queue(g.queue,f))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){var e=b[c];J.removeData(a,c,!0),e.stop(d)}var c,e=!1,f=J.timers,g=J._data(this);d||J._unmark(!0,this);if(a==null)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));(!d||!e)&&J.dequeue(this,a)})}}),J.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){J.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),J.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?J.extend({},a):{complete:c||!c&&b||J.isFunction(a)&&a,duration:a,easing:c&&b||b&&!J.isFunction(b)&&b};d.duration=J.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in J.fx.speeds?J.fx.speeds[d.duration]:J.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){J.isFunction(d.old)&&d.old.call(this),d.queue?J.dequeue(this,d.queue):a!==!1&&J._unmark(this)},d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),J.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(J.fx.step[this.prop]||J.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=J.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,h=J.fx;this.startTime=cv||g(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(J.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){J._data(f.elem,"fxshow"+f.prop)===b&&(f.options.hide?J._data(f.elem,"fxshow"+f.prop,f.start):f.options.show&&J._data(f.elem,"fxshow"+f.prop,f.end))},e()&&J.timers.push(e)&&!ct&&(ct=setInterval(h.tick,h.interval))},show:function(){var a=J._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||J.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),J(this.elem).show()},hide:function(){this.options.orig[this.prop]=J._data(this.elem,"fxshow"+this.prop)||J.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cv||g(),f=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(f=!1);if(f){i.overflow!=null&&!J.support.shrinkWrapBlocks&&J.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&J(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)J.style(h,b,i.orig[b]),J.removeData(h,"fxshow"+b,!0),J.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=J.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},J.extend(J.fx,{tick:function(){var a,b=J.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||J.fx.stop()},interval:13,stop:function(){clearInterval(ct),ct=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){J.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),J.each(cu.concat.apply([],cu),function(a,b){b.indexOf("margin")&&(J.fx.step[b]=function(a){J.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),J.expr&&J.expr.filters&&(J.expr.filters.animated=function(a){return J.grep(J.timers,function(b){return a===b.elem}).length});var cw,cx=/^t(?:able|d|h)$/i,cy=/^(?:body|html)$/i;"getBoundingClientRect"in G.documentElement?cw=function(a,b,d,e){try{e=a.getBoundingClientRect()}catch(f){}if(!e||!J.contains(d,a))return e?{top:e.top,left:e.left}:{top:0,left:0};var g=b.body,h=c(b),i=d.clientTop||g.clientTop||0,j=d.clientLeft||g.clientLeft||0,k=h.pageYOffset||J.support.boxModel&&d.scrollTop||g.scrollTop,l=h.pageXOffset||J.support.boxModel&&d.scrollLeft||g.scrollLeft,m=e.top+k-i,n=e.left+l-j;return{top:m,left:n}}:cw=function(a,b,c){var d,e=a.offsetParent,f=a,g=b.body,h=b.defaultView,i=h?h.getComputedStyle(a,null):a.currentStyle,j=a.offsetTop,k=a.offsetLeft;while((a=a.parentNode)&&a!==g&&a!==c){if(J.support.fixedPosition&&i.position==="fixed")break;d=h?h.getComputedStyle(a,null):a.currentStyle,j-=a.scrollTop,k-=a.scrollLeft,a===e&&(j+=a.offsetTop,k+=a.offsetLeft,J.support.doesNotAddBorder&&(!J.support.doesAddBorderForTableAndCells||!cx.test(a.nodeName))&&(j+=parseFloat(d.borderTopWidth)||0,k+=parseFloat(d.borderLeftWidth)||0),f=e,e=a.offsetParent),J.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(j+=parseFloat(d.borderTopWidth)||0,k+=parseFloat(d.borderLeftWidth)||0),i=d}if(i.position==="relative"||i.position==="static")j+=g.offsetTop,k+=g.offsetLeft;return J.support.fixedPosition&&i.position==="fixed"&&(j+=Math.max(c.scrollTop,g.scrollTop),k+=Math.max(c.scrollLeft,g.scrollLeft)),{top:j,left:k}},J.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){J.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;return d?c===d.body?J.offset.bodyOffset(c):cw(c,d,d.documentElement):null},J.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return J.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(J.css(a,"marginTop"))||0,c+=parseFloat(J.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=J.css(a,"position");d==="static"&&(a.style.position="relative");var e=J(a),f=e.offset(),g=J.css(a,"top"),h=J.css(a,"left"),i=(d==="absolute"||d==="fixed")&&J.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),J.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},J.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cy.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(J.css(a,"marginTop"))||0,c.left-=parseFloat(J.css(a,"marginLeft"))||0,d.top+=parseFloat(J.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(J.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||G.body;while(a&&!cy.test(a.nodeName)&&J.css(a,"position")==="static")a=a.offsetParent;return a})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var e=/Y/.test(d);J.fn[a]=function(f){return J.access(this,function(a,f,g){var h=c(a);if(g===b)return h?d in h?h[d]:J.support.boxModel&&h.document.documentElement[f]||h.document.body[f]:a[f];h?h.scrollTo(e?J(h).scrollLeft():g,e?g:J(h).scrollTop()):a[f]=g},a,f,arguments.length,null)}}),J.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,f="offset"+a;J.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(J.css(a,c,"padding")):this[c]():null},J.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(J.css(b,c,a?"margin":"border")):this[c]():null},J.fn[c]=function(a){return J.access(this,function(a,c,g){var h,i,j,k;if(J.isWindow(a))return h=a.document,i=h.documentElement[d],J.support.boxModel&&i||h.body&&h.body[d]||i;if(a.nodeType===9)
return h=a.documentElement,h[d]>=h[e]?h[d]:Math.max(a.body[e],h[e],a.body[f],h[f]);if(g===b)return j=J.css(a,c),k=parseFloat(j),J.isNumeric(k)?k:j;J(a).css(c,g)},c,a,arguments.length,null)}}),a.wJQuery=a.jQuery=a.$=J,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("wjquery",[],function(){return J})}(window),function(){function A(a,b,c){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual&&w.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&w.isFunction(b.isEqual))return b.isEqual(a);var d=i.call(a);if(d!=i.call(b))return!1;switch(d){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var e=c.length;while(e--)if(c[e]==a)return!0;c.push(a);var f=0,g=!0;if(d=="[object Array]"){f=a.length,g=f==b.length;if(g)while(f--)if(!(g=f in a==f in b&&A(a[f],b[f],c)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var h in a)if(w.has(a,h)){f++;if(!(g=w.has(b,h)&&A(a[h],b[h],c)))break}if(g){for(h in b)if(w.has(b,h)&&!(f--))break;g=!f}}return c.pop(),g}var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.slice,h=d.unshift,i=e.toString,j=e.hasOwnProperty,k=d.forEach,l=d.map,m=d.reduce,n=d.reduceRight,o=d.filter,p=d.every,q=d.some,r=d.indexOf,s=d.lastIndexOf,t=Array.isArray,u=Object.keys,v=f.bind,w=function(a){return new I(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=w),exports._=w):a._=w,w.VERSION="1.3.3";var x=w.each=w.forEach=function(a,b,d){if(a==null)return;if(k&&a.forEach===k)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(d,a[e],e,a)===c)return}else for(var g in a)if(w.has(a,g)&&b.call(d,a[g],g,a)===c)return};w.map=w.collect=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(x(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},w.reduce=w.foldl=w.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=w.bind(b,d)),e?a.reduce(b,c):a.reduce(b);x(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},w.reduceRight=w.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=w.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=w.toArray(a).reverse();return d&&!e&&(b=w.bind(b,d)),e?w.reduce(f,b,c,d):w.reduce(f,b)},w.find=w.detect=function(a,b,c){var d;return y(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},w.filter=w.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(x(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},w.reject=function(a,b,c){var d=[];return a==null?d:(x(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},w.every=w.all=function(a,b,d){var e=!0;return a==null?e:p&&a.every===p?a.every(b,d):(x(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c}),!!e)};var y=w.some=w.any=function(a,b,d){b||(b=w.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,d):(x(a,function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c}),!!e)};w.include=w.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:(c=y(a,function(a){return a===b}),c)},w.invoke=function(a,b){var c=g.call(arguments,2);return w.map(a,function(a){return(w.isFunction(b)?b||a:a[b]).apply(a,c)})},w.pluck=function(a,b){return w.map(a,function(a){return a[b]})},w.max=function(a,b,c){if(!b&&w.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&w.isEmpty(a))return-Infinity;var d={computed:-Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},w.min=function(a,b,c){if(!b&&w.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&w.isEmpty(a))return Infinity;var d={computed:Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},w.shuffle=function(a){var b=[],c;return x(a,function(a,d,e){c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a}),b},w.sortBy=function(a,b,c){var d=w.isFunction(b)?b:function(a){return a[b]};return w.pluck(w.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c===void 0?1:d===void 0?-1:c<d?-1:c>d?1:0}),"value")},w.groupBy=function(a,b){var c={},d=w.isFunction(b)?b:function(a){return a[b]};return x(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},w.sortedIndex=function(a,b,c){c||(c=w.identity);var d=0,e=a.length;while(d<e){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},w.toArray=function(a){return a?w.isArray(a)?g.call(a):w.isArguments(a)?g.call(a):a.toArray&&w.isFunction(a.toArray)?a.toArray():w.values(a):[]},w.size=function(a){return w.isArray(a)?a.length:w.keys(a).length},w.first=w.head=w.take=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},w.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},w.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},w.rest=w.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},w.compact=function(a){return w.filter(a,function(a){return!!a})},w.flatten=function(a,b){return w.reduce(a,function(a,c){return w.isArray(c)?a.concat(b?c:w.flatten(c)):(a[a.length]=c,a)},[])},w.without=function(a){return w.difference(a,g.call(arguments,1))},w.uniq=w.unique=function(a,b,c){var d=c?w.map(a,c):a,e=[];return a.length<3&&(b=!0),w.reduce(d,function(c,d,f){if(b?w.last(c)!==d||!c.length:!w.include(c,d))c.push(d),e.push(a[f]);return c},[]),e},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=w.intersect=function(a){var b=g.call(arguments,1);return w.filter(w.uniq(a),function(a){return w.every(b,function(b){return w.indexOf(b,a)>=0})})},w.difference=function(a){var b=w.flatten(g.call(arguments,1),!0);return w.filter(a,function(a){return!w.include(b,a)})},w.zip=function(){var a=g.call(arguments),b=w.max(w.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=w.pluck(a,""+d);return c},w.indexOf=function(a,b,c){if(a==null)return-1;var d,e;if(c)return d=w.sortedIndex(a,b),a[d]===b?d:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(d=0,e=a.length;d<e;d++)if(d in a&&a[d]===b)return d;return-1},w.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);var c=a.length;while(c--)if(c in a&&a[c]===b)return c;return-1},w.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f};var z=function(){};w.bind=function(a,b){var c,d;if(a.bind===v&&v)return v.apply(a,g.call(arguments,1));if(!w.isFunction(a))throw new TypeError;return d=g.call(arguments,2),c=function(){if(this instanceof c){z.prototype=a.prototype;var e=new z,f=a.apply(e,d.concat(g.call(arguments)));return Object(f)===f?f:e}return a.apply(b,d.concat(g.call(arguments)))}},w.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=w.functions(a)),x(b,function(b){a[b]=w.bind(a[b],a)}),a},w.memoize=function(a,b){var c={};return b||(b=w.identity),function(){var d=b.apply(this,arguments);return w.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},w.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},w.defer=function(a){return w.delay.apply(w,[a,1].concat(g.call(arguments,1)))},w.throttle=function(a,b){var c,d,e,f,g,h,i=w.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var j=function(){e=null,g&&a.apply(c,d),i()};return e||(e=setTimeout(j,b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}},w.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)};c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(g,b)}},w.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},w.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},w.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},w.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},w.keys=u||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)w.has(a,c)&&(b[b.length]=c);return b},w.values=function(a){return w.map(a,w.identity)},w.functions=w.methods=function(a){var b=[];for(var c in a)w.isFunction(a[c])&&b.push(c);return b.sort()},w.extend=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},w.pick=function(a){var b={};return x(w.flatten(g.call(arguments,1)),function(c){c in a&&(b[c]=a[c])}),b},w.defaults=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},w.clone=function(a){return w.isObject(a)?w.isArray(a)?a.slice():w.extend({},a):a},w.tap=function(a,b){return b(a),a},w.isEqual=function(a,b){return A(a,b,[])},w.isEmpty=function(a){if(a==null)return!0;if(w.isArray(a)||w.isString(a))return a.length===0;for(var b in a)if(w.has(a,b))return!1;return!0},w.isElement=function(a){return!!a&&a.nodeType==1},w.isArray=t||function(a){return i.call(a)=="[object Array]"},w.isObject=function(a){return a===Object(a)},w.isArguments=function(a){return i.call(a)=="[object Arguments]"},w.isArguments(arguments)||(w.isArguments=function(a){return!!a&&!!w.has(a,"callee")}),w.isFunction=function(a){return i.call(a)=="[object Function]"},w.isString=function(a){return i.call(a)=="[object String]"},w.isNumber=function(a){return i.call(a)=="[object Number]"},w.isFinite=function(a){return w.isNumber(a)&&isFinite(a)},w.isNaN=function(a){return a!==a},w.isBoolean=function(a){return a===!0||a===!1||i.call(a)=="[object Boolean]"},w.isDate=function(a){return i.call(a)=="[object Date]"},w.isRegExp=function(a){return i.call(a)=="[object RegExp]"},w.isNull=function(a){return a===null},w.isUndefined=function(a){return a===void 0},w.has=function(a,b){return j.call(a,b)},w.noConflict=function(){return a._=b,this},w.identity=function(a){return a},w.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},w.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},w.result=function(a,b){if(a==null)return null;var c=a[b];return w.isFunction(c)?c.call(a):c},w.mixin=function(a){x(w.functions(a),function(b){K(b,w[b]=a[b])})};var B=0;w.uniqueId=function(a){var b=B++;return a?a+b:b},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/,D={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var E in D)D[D[E]]=E;var F=/\\|'|\r|\n|\t|\u2028|\u2029/g,G=/\\(\\|'|r|n|t|u2028|u2029)/g,H=function(a){return a.replace(G,function(a,b){return D[b]})};w.template=function(a,b,c){c=w.defaults(c||{},w.templateSettings);var d="__p+='"+a.replace(F,function(a){return"\\"+D[a]}).replace(c.escape||C,function(a,b){return"'+\n_.escape("+H(b)+")+\n'"}).replace(c.interpolate||C,function(a,b){return"'+\n("+H(b)+")+\n'"}).replace(c.evaluate||C,function(a,b){return"';\n"+H(b)+"\n;__p+='"})+"';\n";c.variable||(d="with(obj||{}){\n"+d+"}\n"),d="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+d+"return __p;\n";var e=new Function(c.variable||"obj","_",d);if(b)return e(b,w);var f=function(a){return e.call(this,a,w)};return f.source="function("+(c.variable||"obj")+"){\n"+d+"}",f},w.chain=function(a){return w(a).chain()};var I=function(a){this._wrapped=a};w.prototype=I.prototype;var J=function(a,b){return b?w(a).chain():a},K=function(a,b){I.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),J(b.apply(w,a),this._chain)}};w.mixin(w),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];I.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],J(c,this._chain)}}),x(["concat","join","slice"],function(a){var b=d[a];I.prototype[a]=function(){return J(b.apply(this._wrapped,arguments),this._chain)}}),I.prototype.chain=function(){return this._chain=!0,this},I.prototype.value=function(){return this._wrapped}}.call(this),function(){var a=this,b=a.Backbone,c=Array.prototype.slice,d=Array.prototype.splice,e;typeof exports!="undefined"?e=exports:e=a.Backbone={},e.VERSION="0.9.2";var f=a._;!f&&typeof require!="undefined"&&(f=require("underscore"));var g=a.wJQuery||a.jQuery||a.Zepto||a.ender;e.setDomLibrary=function(a){g=a},e.noConflict=function(){return a.Backbone=b,this},e.emulateHTTP=!1,e.emulateJSON=!1;var h=/\s+/,i=e.Events={on:function(a,b,c){var d,e,f,g,i;if(!b)return this;a=a.split(h),d=this._callbacks||(this._callbacks={});while(e=a.shift())i=d[e],f=i?i.tail:{},f.next=g={},f.context=c,f.callback=b,d[e]={tail:g,next:i?i.next:f};return this},off:function(a,b,c){var d,e,g,i,j,k;if(!(e=this._callbacks))return;if(!(a||b||c))return delete this._callbacks,this;a=a?a.split(h):f.keys(e);while(d=a.shift()){g=e[d],delete e[d];if(!g||!b&&!c)continue;i=g.tail;while((g=g.next)!==i)j=g.callback,k=g.context,(b&&j!==b||c&&k!==c)&&this.on(d,j,k)}return this},trigger:function(a){var b,d,e,f,g,i,j;if(!(e=this._callbacks))return this;i=e.all,a=a.split(h),j=c.call(arguments,1);while(b=a.shift()){if(d=e[b]){f=d.tail;while((d=d.next)!==f)d.callback.apply(d.context||this,j)}if(d=i){f=d.tail,g=[b].concat(j);while((d=d.next)!==f)d.callback.apply(d.context||this,g)}}return this}};i.bind=i.on,i.unbind=i.off;var j=e.Model=function(a,b){var c;a||(a={}),b&&b.parse&&(a=this.parse(a));if(c=A(this,"defaults"))a=f.extend({},c,a);b&&b.collection&&(this.collection=b.collection),this.attributes={},this._escapedAttributes={},this.cid=f.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(a,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=f.clone(this.attributes),this.initialize.apply(this,arguments)};f.extend(j.prototype,i,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;var c=this.get(a);return this._escapedAttributes[a]=f.escape(c==null?"":""+c)},has:function(a){return this.get(a)!=null},set:function(a,b,c){var d,e,g;f.isObject(a)||a==null?(d=a,c=b):(d={},d[a]=b),c||(c={});if(!d)return this;d instanceof j&&(d=d.attributes);if(c.unset)for(e in d)d[e]=void 0;if(!this._validate(d,c))return!1;this.idAttribute in d&&(this.id=d[this.idAttribute]);var h=c.changes={},i=this.attributes,k=this._escapedAttributes,l=this._previousAttributes||{};for(e in d){g=d[e];if(!f.isEqual(i[e],g)||c.unset&&f.has(i,e))delete k[e],(c.silent?this._silent:h)[e]=!0;c.unset?delete i[e]:i[e]=g,!f.isEqual(l[e],g)||f.has(i,e)!=f.has(l,e)?(this.changed[e]=g,c.silent||(this._pending[e]=!0)):(delete this.changed[e],delete this._pending[e])}return c.silent||this.change(c),this},unset:function(a,b){return(b||(b={})).unset=!0,this.set(a,null,b)},clear:function(a){return(a||(a={})).unset=!0,this.set(f.clone(this.attributes),a)},fetch:function(a){a=a?f.clone(a):{};var b=this,c=a.success;return a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)},a.error=e.wrapError(a.error,b,a),(this.sync||e.sync).call(this,"read",this,a)},save:function(a,b,c){var d,g;f.isObject(a)||a==null?(d=a,c=b):(d={},d[a]=b),c=c?f.clone(c):{};if(c.wait){if(!this._validate(d,c))return!1;g=f.clone(this.attributes)}var h=f.extend({},c,{silent:!0});if(d&&!this.set(d,c.wait?h:c))return!1;var i=this,j=c.success;c.success=function(a,b,e){var g=i.parse(a,e);c.wait&&(delete c.wait,g=f.extend(d||{},g));if(!i.set(g,c))return!1;j?j(i,a):i.trigger("sync",i,a,c)},c.error=e.wrapError(c.error,i,c);var k=this.isNew()?"create":"update",l=(this.sync||e.sync).call(this,k,this,c);return c.wait&&this.set(g,h),l},destroy:function(a){a=a?f.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(this.isNew())return d(),!1;a.success=function(e){a.wait&&d(),c?c(b,e):b.trigger("sync",b,e,a)},a.error=e.wrapError(a.error,b,a);var g=(this.sync||e.sync).call(this,"delete",this,a);return a.wait||d(),g},url:function(){var a=A(this,"urlRoot")||A(this.collection,"url")||B();return this.isNew()?a:a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(a){a||(a={});var b=this._changing;this._changing=!0;for(var c in this._silent)this._pending[c]=!0;var d=f.extend({},a.changes,this._silent);this._silent={};for(var c in d)this.trigger("change:"+c,this,this.get(c),a);if(b)return this;while(!f.isEmpty(this._pending)){this._pending={},this.trigger("change",this,a);for(var c in this.changed){if(this._pending[c]||this._silent[c])continue;delete this.changed[c]}this._previousAttributes=f.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(a){return arguments.length?f.has(this.changed,a):!f.isEmpty(this.changed)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this.changed):!1;var b,c=!1,d=this._previousAttributes;for(var e in a){if(f.isEqual(d[e],b=a[e]))continue;(c||(c={}))[e]=b}return c},previous:function(a){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(a,b){if(b.silent||!this.validate)return!0;a=f.extend({},this.attributes,a);var c=this.validate(a,b);return c?(b&&b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1):!0}});var k=e.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,{silent:!0,parse:b.parse})};f.extend(k.prototype,i,{model:j,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},add:function(a,b){var c,e,g,h,i,j,k={},l={},m=[];b||(b={}),a=f.isArray(a)?a.slice():[a];for(c=0,g=a.length;c<g;c++){if(!(h=a[c]=this._prepareModel(a[c],b)))throw new Error("Can't add an invalid model to a collection");i=h.cid,j=h.id;if(k[i]||this._byCid[i]||j!=null&&(l[j]||this._byId[j])){m.push(c);continue}k[i]=l[j]=h}c=m.length;while(c--)a.splice(m[c],1);for(c=0,g=a.length;c<g;c++)(h=a[c]).on("all",this._onModelEvent,this),this._byCid[h.cid]=h,h.id!=null&&(this._byId[h.id]=h);this.length+=g,e=b.at!=null?b.at:this.models.length,d.apply(this.models,[e,0].concat(a)),this.comparator&&this.sort({silent:!0});if(b.silent)return this;for(c=0,g=this.models.length;c<g;c++){if(!k[(h=this.models[c]).cid])continue;b.index=c,h.trigger("add",h,this,b)}return this},remove:function(a,b){var c,d,e,g;b||(b={}),a=f.isArray(a)?a.slice():[a];for(c=0,d=a.length;c<d;c++){g=this.getByCid(a[c])||this.get(a[c]);if(!g)continue;delete this._byId[g.id],delete this._byCid[g.cid],e=this.indexOf(g),this.models.splice(e,1),this.length--,b.silent||(b.index=e,g.trigger("remove",g,this,b)),this._removeReference(g)}return this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,b),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,f.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},get:function(a){return a==null?void 0:this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(a){return f.isEmpty(a)?[]:this.filter(function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},sort:function(a){a||(a={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var b=f.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(b):this.models.sort(b),a.silent||this.trigger("reset",this,a),this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]),b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);return this._reset(),this.add(a,f.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},fetch:function(a){a=a?f.clone(a):{},a.parse===undefined&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d,e,f){b[a.add?"add":"reset"](b.parse(d,f),a),c&&c(b,d)},a.error=e.wrapError(a.error,b,a),(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b=b?f.clone(b):{},a=this._prepareModel(a,b);if(!a)return!1;b.wait||c.add(a,b);var d=b.success;return b.success=function(e,f,g){b.wait&&c.add(e,b),d?d(e,f):e.trigger("sync",a,f,b)},a.save(null,b),a},parse:function(a,b){return a},chain:function(){return f(this.models).chain()},_reset:function(a){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(a,b){b||(b={});if(a instanceof j)a.collection||(a.collection=this);else{var c=a;b.collection=this,a=new this.model(c,b),a._validate(a.attributes,b)||(a=!1)}return a},_removeReference:function(a){this==a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(a!="add"&&a!="remove"||c==this)a=="destroy"&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments);else return}});var l=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];f.each(l,function(a){k.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});var m=e.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},n=/:\w+/g,o=/\*\w+/g,p=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(m.prototype,i,{initialize:function(){},route:function(a,b,c){return e.history||(e.history=new q),f.isRegExp(a)||(a=this._routeToRegExp(a)),c||(c=this[b]),e.history.route(a,f.bind(function(d){var f=this._extractParameters(a,d);c&&c.apply(this,f),this.trigger.apply(this,["route:"+b].concat(f)),e.history.trigger("route",this,b,f)},this)),this},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(!this.routes)return;var a=[];for(var b in this.routes)a.unshift([b,this.routes[b]]);for(var c=0,d=a.length;c<d;c++)this.route(a[c][0],a[c][1],this[a[c][1]])},_routeToRegExp:function(a){return a=a.replace(p,"\\$&").replace(n,"([^/]+)").replace(o,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var q=e.History=function(){this.handlers=[],f.bindAll(this,"checkUrl")},r=/^[#\/]/,s=/msie [\w.]+/;q.started=!1,f.extend(q.prototype,i,{interval:50,getHash:function(a){var b=a?a.location:window.location,c=b.href.match(/#(.*)$/);return c?c[1]:""},getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c)}else a=this.getHash();return a.indexOf(this.options.root)||(a=a.substr(this.options.root.length)),a.replace(r,"")},start:function(a){if(q.started)throw new Error("Backbone.history has already been started");q.started=!0,this.options=f.extend({},{root:"/"},this.options,a),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var b=this.getFragment(),c=document.documentMode,d=s.exec(navigator.userAgent.toLowerCase())&&(!c||c<=7);d&&(this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b)),this._hasPushState?g(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!d?g(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=b;var e=window.location,h=e.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!h)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&h&&e.hash&&(this.fragment=this.getHash().replace(r,""),window.history.replaceState({},document.title,e.protocol+"//"+e.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){g(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),q.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();b==this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe)));if(b==this.fragment)return!1;this.iframe&&this.navigate(b),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0});return c},navigate:function(a,b){if(!q.started)return!1;if(!b||b===!0)b={trigger:b};var c=(a||"").replace(r,"");if(this.fragment==c)return;this._hasPushState?(c.indexOf(this.options.root)!=0&&(c=this.options.root+c),this.fragment=c,window.history[b.replace?"replaceState":"pushState"]({},document.title,c)):this._wantsHashChange?(this.fragment=c,this._updateHash(window.location,c,b.replace),this.iframe&&c!=this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,b.replace))):window.location.assign(this.options.root+a),b.trigger&&this.loadUrl(a)},_updateHash:function(a,b,c){c?a.replace(a.toString().replace(/(javascript:|#).*$/,"")+"#"+b):a.hash=b}});var t=e.View=function(a){this.cid=f.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName"];f.extend(t.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(a,b,c){var d=document.createElement(a);return b&&g(d).attr(b),c&&g(d).html(c),d},setElement:function(a,b){return this.$el&&this.undelegateEvents(),this.$el=a instanceof g?a:g(a),this.el=this.$el[0],b!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=A(this,"events")))return;this.undelegateEvents();for(var b in a){var c=a[b];f.isFunction(c)||(c=this[a[b]]);if(!c)throw new Error('Method "'+a[b]+'" does not exist');var d=b.match(u),e=d[1],g=d[2];c=f.bind(c,this),e+=".delegateEvents"+this.cid,g===""?this.$el.bind(e,c):this.$el.delegate(g,e,c)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=v.length;b<c;b++){var d=v[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(!this.el){var a=A(this,"attributes")||{};this.id&&(a.id=this.id),this.className&&(a["class"]=this.className),this.setElement(this.make(this.tagName,a),!1)}else this.setElement(this.el,!1)}});var w=function(a,b){var c=z(this,a,b);return c.extend=this.extend,c};j.extend=k.extend=m.extend=t.extend=w;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=x[a];c||(c={});var h={type:d,dataType:"json"};return c.url||(h.url=A(b,"url")||B()),!c.data&&b&&(a=="create"||a=="update")&&(h.contentType="application/json",h.data=JSON.stringify(b.toJSON())),e.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}),e.emulateHTTP&&(d==="PUT"||d==="DELETE")&&(e.emulateJSON&&(h.data._method=d),h.type="POST",h.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}),h.type!=="GET"&&!e.emulateJSON&&(h.processData=!1),g.ajax(f.extend(h,c))},e.wrapError=function(a,b,c){return function(d,e){e=d===b?e:d,a?a(b,e,c):b.trigger("error",b,e,c)}};var y=function(){},z=function(a,b,c){var d;return b&&b.hasOwnProperty("constructor")?d=b.constructor:d=function(){a.apply(this,arguments)},f.extend(d,a),y.prototype=a.prototype,d.prototype=new y,b&&f.extend(d.prototype,b),c&&f.extend(d,c),d.prototype.constructor=d,d.__super__=a.prototype,d},A=function(a,b){return!a||!a[b]?null:f.isFunction(a[b])?a[b]():a[b]},B=function(){throw new Error('A "url" property or function must be specified')}}.call(this);var __slice=[].slice;(function(a){var b;window._&&(_.templateSettings={interpolate:/\{\{\=(.+?)\}\}/g,evaluate:/\{\{(.+?)\}\}/g,escape:/\{\{_(.+?)\}\}/g});if(window.Backbone)return Backbone.sync=function(b,c,d){var e,f,g;g={accepts:"application/json",url:_.isFunction(c.url)?c.url():c.url,data:{},dataType:"json",error:d.error,success:d.success},e=c.attributes,d.only!=null&&(f=_.intersection(_.keys(e),d.only),f=_.filter(f,function(a,b){return e[a]!=null}),e=_.pick(e,f)),d.except!=null&&(e=_.reject(e,function(a,b){return _.find(d.except,b)})!==!1),c.namespace?g.data[c.namespace]=e:g.data=e;switch(b){case"create":g.type="POST";break;case"read":g.type="GET";break;case"update":g.type="PUT";break;case"delete":g.type="DELETE"}return g.type!=="GET"&&window._auth_token_name&&window._auth_token&&(g[_auth_token_name]=_auth_token),a.ajax(g),g},b=Backbone.Model.prototype.set,Backbone.Model=Backbone.Model.extend({set:function(){var a,c,d;return c=arguments[0],d=arguments[1],a=3<=arguments.length?__slice.call(arguments,2):[],_.isObject(c)&&this.namespace&&_.isObject(c[this.namespace])&&_.keys(c).length===1&&(c=c[this.namespace]),b.call.apply(b,[this,c,d].concat(__slice.call(a)))}})})(jQuery);var __slice=[].slice;(function(a){var b,c,d,e,f,g,h,i,j;b="2015-02-17",i=a.Wistia,f=function(){var c;return c={},c.wistia=b,c._initializers={},c._destructors={},c.extend=function(){var a,b,d;return a=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[],b.length||(b=[a],a=c),(d=c.obj).merge.apply(d,[a].concat(__slice.call(b))),a},c.proto=function(b){return b==null&&(b=a.location.href),c.url.proto(b)},c.mixin=function(a,b){var c,d,e;e=[];for(c in b)d=b[c],b.hasOwnProperty(c)&&e.push(a[c]=d);return e},c.data=function(a,b){return c.obj.isArray(a)||(a=a.split(".")),b!=null&&c.obj.set(c,["_data"].concat(a),b),c.obj.get(c,["_data"].concat(a))},c.removeData=function(a){return c.obj.isArray(a)||(a=a.split(".")),c.obj.unset(c,["_data"].concat(a))},c._timeouts||(c._timeouts={}),c.timeout=function(a,b,d){var e,f=this;return d==null&&(d=1),c.debug("W.timeout",a,d),c.clearTimeouts(a),c.obj.isArray(a)||(a=a.split(".")),a=["timeouts"].concat(a).join("."),b?(e=setTimeout(function(){return delete c._timeouts[a],b()},d),c._timeouts[a]=e):c._timeouts[a]},c.clearTimeouts=function(a){var b,d,e,f;c.debug("W.clearTimeouts",a),c.obj.isArray(a)||(a=a.split(".")),a=["timeouts"].concat(a).join("."),e=c._timeouts,f=[];for(b in e)d=e[b],(typeof b.indexOf=="function"?b.indexOf(a):void 0)!==0||b.length!==a.length&&b.charAt(a.length)!=="."?f.push(void 0):(clearTimeout(d),f.push(delete c._timeouts[b]));return f},c.seqId=function(a,b){var d,e;return a==null&&(a="wistia_"),b==null&&(b=""),d=c._sequenceVal||1,e=""+a+d+b,c._sequenceVal=d+1,e},c.uniqId=function(a,b){var c;return a==null&&(a=""),b==null&&(b=""),c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b,c;return b=Math.random()*16|0,c=a==="x"?b:b&3|8,c.toString(16)}),a+c+b},c.css=function(){var a,b,d;return arguments.length===2?(d=arguments[0]||document.body||document.head,a=arguments[1]):(d=document.body||document.head,a=arguments[0]),/\{/.test(a)&&/\}/.test(a)?c.util.addInlineCss(d,a):(b=document.createElement("link"),b.setAttribute("rel","stylesheet"),b.setAttribute("href",a),c.elem.append(d,b),b)},c.script=function(){var a,b;return a=1<=arguments.length?__slice.call(arguments,0):[],(b=c.remote).scripts.apply(b,a)},c.require=function(){var a,b;return a=1<=arguments.length?__slice.call(arguments,0):[],(b=c.remote).require.apply(b,a)},c},e=function(){return a.Wistia!=
null&&a.Wistia.wistia!=null},e()||(a.Wistia=f()),a._wistiaChannel!=null&&(d=a._wistiaChannel,delete a._wistiaChannel,a.Wistia=c=f(),c.channelName=d,c._wistiaChannelMain=i);if(i!=null&&i.wistia==null){j=[];for(g in i)h=i[g],j.push(Wistia[g]=h);return j}})(window);var __slice=[].slice;(function(a){if(a.obj)return;return a.obj={merge:function(){var a,b,c,d,e,f=this;a=arguments[0],c=2<=arguments.length?__slice.call(arguments,1):[];if(!c.length)return a;for(d=0,e=c.length;d<e;d++)b=c[d],this.eachDeep(b,function(b,c){var d;d=f.get(a,c);if(f.isArray(b)){if(f.isEmpty(d))return f.set(a,c,[])}else{if(!f.isObject(b))return f.set(a,c,b);if(f.isEmpty(d))return f.set(a,c,{})}});return a},clone:function(a){return a instanceof Array?this.merge([],a):this.merge({},a)},get:function(a,b,c){var d,e,f;typeof b=="string"?b=b.split("."):b=b.slice(0,b.length),d=a;while(a!=null&&b.length)f=b.shift(),(a[f]===void 0||!this.isObject(a[f])&&!this.isArray(a[f]))&&c&&(f===0?(a=d[e]=[],a[f]={}):a[f]={}),d=a,e=f,a=a[f];return a},set:function(a,b,c){var d;return typeof b=="string"?b=b.split("."):b=b.slice(0,b.length),d=b.pop(),a=this.get(a,b,!0),a!=null&&(this.isObject(a)||this.isArray(a))&&d!=null?c!=null?a[d]=c:delete a[d]:void 0},unset:function(a,b){return this.set(a,b)},exists:function(a,b){return this.get(a,b)!==void 0},cast:function(a){return a==null?a:this.isObject(a)||this.isArray(a)?this.castDeep(a):(a=""+a,/^[1-9]\d*?$/.test(a)?parseInt(a,10):a==="0"?0:/^\d*\.\d+/.test(a)?parseFloat(a):/^true$/i.test(a)?!0:/^false$/i.test(a)?!1:a)},castDeep:function(a){var b=this;return this.eachLeaf(a,function(c,d){if(typeof c=="string")return b.set(a,d,b.cast(c))}),a},only:function(a,b){var c,d,e,f,g,h;e={},d={};for(g=0,h=b.length;g<h;g++)c=b[g],d[c]=!0;for(c in a)f=a[c],d[c]&&(e[c]=f);return e},except:function(a,b){var c,d,e,f,g,h;e={},d={};for(g=0,h=b.length;g<h;g++)c=b[g],d[c]=!0;for(c in a)f=a[c],d[c]||(e[c]=f);return e},select:function(a,b){var c,d,e,f,g,h,i,j,k;h=[],e=typeof b=="function",e&&(d=b);for(j=0,k=a.length;j<k;j++){c=a[j];if(e)d(c)&&h.push(c);else{g=!0;for(f in b){i=b[f];if(i instanceof Array){if(!c[f]||c[f]<i[0]||c[f]>i[1]){g=!1;break}}else if(i instanceof RegExp){if(!i.test(c[f])){g=!1;break}}else if(c[f]!==i){g=!1;break}}g&&h.push(c)}}return h},sort:function(b,c){var d,e,f,g;return f=typeof c=="function",f&&(e=c),g=function(){var a,c,e;e=[];for(a=0,c=b.length;a<c;a++)d=b[a],e.push(d);return e}(),f?g.sort(e):g.sort(function(b,d){var e,f,g,h,i;c instanceof Array?h=a.obj.clone(c):h=c.split(/\s*,\s*/),f=0;while(f===0&&h.length>0){i=h.shift().split(/\s+/),g=i[0],e=i[1],e=e==="desc"?-1:1;if(b[g]<d[g]){f=-1*e;break}if(b[g]===d[g])f=0;else{f=1*e;break}}return f}),g},isArray:function(a){return a!=null&&/^\s*function Array()/.test(a.constructor)},isObject:function(a){return a!=null&&/^\s*function Object()/.test(a.constructor)},isRegExp:function(a){return a!=null&&/^\s*function RegExp()/.test(a.constructor)},isBasicType:function(a){return a!=null&&(this.isRegExp(a)||/^string|number|boolean|function$/i.test(typeof a))},isEmpty:function(a){var b,c,d;if(a==null)return!0;if(this.isArray(a)&&!a.length)return!0;if(this.isObject(a)){b=!0;for(c in a)d=a[c],b=!1;return b}return!1},isSubsetDeep:function(a,b){var c,d=this;return a===b?!0:a!=null&&b==null||a==null&&b!=null?!1:(c=!0,this.eachLeaf(a,function(a,e){var f;f=d.get(b,e);if(a!==f)return c=!1}),c)},equalsDeep:function(a,b){return this.isSubsetDeep(a,b)&&this.isSubsetDeep(b,a)},eachDeep:function(a,b,c){var d,e,f;c==null&&(c=[]);if(this.isBasicType(a))b(a,c);else if(this.isObject(a)||this.isArray(a)){b(a,c);for(d in a)f=a[d],e=c.slice(0,c.length),e.push(d),this.eachDeep(f,b,e)}else b(a,c)},eachLeaf:function(a,b){var c=this;return this.eachDeep(a,function(a,d){if(!c.isArray(a)&&!c.isObject(a))return b(a,d)})},hasDontEnumBug:!{toString:null}.propertyIsEnumerable("toString"),DontEnums:["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],keys:function(b){var c,d,e,f,g,h,i,j;if(Object.keys)return Object.keys(b);if(typeof o!="object"&&typeof o!="function"||o===null)throw new TypeError("Object.keys called on a non-object");if(a.obj.hasDontEnumBug){h=a.obj.DontEnums,i=[];for(f=0,g=h.length;f<g;f++)d=h[f],o.hasOwnProperty(d)&&i.push(d);return i}j=[];for(c in o)e=o[c],j.push(e);return j}}})(Wistia),function(W){if(W.util)return;return W.util={bindEvent:function(){var a;return(a=W.elem).bind.apply(a,arguments)},unbindEvent:function(){var a;return(a=W.elem).unbind.apply(a,arguments)},elemHeight:function(a){return W.elem.height(a)},elemWidth:function(a){return W.elem.width(a)},elemInDom:function(a){return W.elem.inDom(a)},winHeight:function(){return W.elem.height(window)},winWidth:function(){return W.elem.width(window)},docHeight:function(){return W.elem.height(document)},docWidth:function(){return W.elem.width(document)},addInlineCss:function(a,b){var c,d;return c=document.createElement("style"),c.id=Wistia.seqId("wistia_","_style"),c.setAttribute("type","text/css"),c.className="wistia_injected_style",d=document.getElementsByTagName("style"),a.appendChild(c,a.nextSibling),c.styleSheet?c.styleSheet.cssText=b:c.appendChild(document.createTextNode(b)),c},cssTags:function(a){return a.match(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/ig)||[]},execCssTags:function(a){var b,c,d,e,f,g,h;if(!a)return null;a instanceof Array||(a=Wistia.util.cssTags(a)),c=[];for(g=0,h=a.length;g<h;g++){b=a[g];if(/<link.*?rel=['"]stylesheet['"][^>]*>/.test(b)){if(e=b.match(/href=['"](.*?)['"]/i))d=document.createElement("link"),d.setAttribute("rel","stylesheet"),d.setAttribute("href",e[1]),d.className="wistia_injected_style",Wistia.elem.append(document.body||document.head,d),c.push(d)}else/<style>[\s\S]+?<\/style>/ig.test(b)&&(e=b.match(/<style>([\s\S]+?)<\/style>/i))&&(f=Wistia.util.addInlineCss(document.body||document.head,e[1]),c.push(f))}return c},removeCssTags:function(a){return a.replace(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/ig,"")},unescapeHtml:function(a){var b;return b=document.createElement("div"),b.innerHTML=a,b.childNodes.length>0?b.childNodes[0].nodeValue:""},scriptTags:function(a){return a.match(/<script.*?src[^>]*>\s*<\/script>|<script.*?>[\s\S]+?<\/script>/ig)||[]},execScriptTags:function(scriptTags,callback){var hash,hashes,matches,scriptTag,src,_i,_len;if(!scriptTags)return null;scriptTags instanceof Array||(scriptTags=Wistia.util.scriptTags(scriptTags)),hashes=[];for(_i=0,_len=scriptTags.length;_i<_len;_i++){scriptTag=scriptTags[_i],hash={};if((matches=scriptTag.match(/<script.*?>/i))&&(matches=matches[0].match(/src="([^"]+)"/i)))hash.src=matches[1],hash.async=/async/i.test(scriptTag.replace(hash.src,""));else if(matches=scriptTag.match(/<script>([\s\S]+?)<\/script>/i))src=matches[1],hash.fn=function(){return eval(src)};hashes.push(hash)}return Wistia.remote.scripts(hashes,callback)},removeScriptTags:function(a){return a.replace(/<script.*?src[^>]*>\s*<\/script>|<script>[\s\S]+?<\/script>/g,"")},scrollTop:function(a){var b,c,d,e;return a!=null?((b=document.body)!=null&&(b.scrollTop=a),(c=document.documentElement)!=null?c.scrollTop=a:void 0):(typeof document!="undefined"&&document!==null?(d=document.documentElement)!=null?d.scrollTop:void 0:void 0)||(typeof document!="undefined"&&document!==null?(e=document.body)!=null?e.scrollTop:void 0:void 0)||0},scrollLeft:function(a){var b,c,d,e;return a!=null?((b=document.body)!=null&&(b.scrollLeft=a),(c=document.documentElement)!=null?c.scrollLeft=a:void 0):(typeof document!="undefined"&&document!==null?(d=document.documentElement)!=null?d.scrollLeft:void 0:void 0)||(typeof document!="undefined"&&document!==null?(e=document.body)!=null?e.scrollLeft:void 0:void 0)||0},transitionCss:function(){var a,b,c;return arguments[0]instanceof Array?(b=arguments,c=function(){var c,d,e;e=[];for(c=0,d=b.length;c<d;c++)a=b[c],e.push(""+a[0]+" "+a[1]+" linear "+(a[2]||"0s"));return e}().join(",")):(a=arguments,c=""+a[0]+" "+a[1]+" linear "+(a[2]||"0s")),"-webkit-transition: "+c+";\n-moz-transition: "+c+";\n-o-transition: "+c+";\n-ms-transition: "+c+";\ntransition: "+c+";"},niceDuration:function(a){var b,c,d;return b=d=0,a>0&&(b+=Math.floor(a/60),a%=60),d=Math.round(a),d===60&&(b+=1,d=0),c=""+b+":"+this.padNumber(d,2),c},padNumber:function(a,b){var c;b==null&&(b=0),c=""+a;while(c.length<b)c="0"+c;return c},localDate:function(a){var b,c;return a==null&&(a=new Date),c=-a.getTimezoneOffset(),b=c>=0?"+":"-",""+a.getFullYear()+"-"+this.padNumber(a.getMonth()+1,2)+"-"+this.padNumber(a.getDate(),2)+"T"+this.padNumber(a.getHours(),2)+":"+this.padNumber(a.getMinutes(),2)+":"+this.padNumber(a.getSeconds(),2)+b+this.padNumber(Math.abs(Math.floor(c/60)),2)+":"+this.padNumber(Math.abs(Math.floor(c%60)),2)},requestAnimationFrame:function(a){var b;return b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)},b(a)},notSetOrTrue:function(a){return a==null||a===!0},indexOf:function(a,b){var c,d,e;for(c=d=0,e=a.length;0<=e?d<=e:d>=e;c=0<=e?++d:--d)if(typeof b=="function"){if(b(a[c]))return c}else if(a[c]===b&&a[c]===b)return c;return-1},insertIntoArray:function(a,b,c){var d;return c==null&&(c={}),c.after?(d=W.util.indexOf(a,c.detect||c.after),d>=0?a.splice(d+1,0,b):typeof console!="undefined"&&console!==null?console.log(""+c.after+" not found when trying to add "+b+" to array"):void 0):c.before?(d=W.util.indexOf(a,c.detect||c.before),d>=0?a.splice(d,0,b):typeof console!="undefined"&&console!==null?console.log(""+c.before+" not found when trying to add "+b+" to array"):void 0):c.index!=null?a.splice(c.index,0,b):a.push(b)},throttle:function(a,b,c){var d,e,f,g,h,i;return c==null&&(c={}),e=null,d=null,h=null,i=null,g=0,f=function(){g=c.leading===!1?0:(new Date).getTime(),i=null,h=b.apply(e,d);if(!i)return e=d=null},function(){var j,k;return j=(new Date).getTime(),!g&&c.leading===!1&&(g=j),k=a-(j-g),e=this,d=arguments,k<=0||k>a?(clearTimeout(i),i=null,g=j,h=b.apply(e,d),i||(e=d=null)):!i&&c.trailing!==!1&&(i=setTimeout(f,k)),h}},toArray:function(a,b){b==null&&(b=/\s+/);if(a instanceof Array)return a;if(typeof a=="string")return a.split(b);throw new Error("Don't know how to convert "+a+" into an array.")},poll:function(a,b,c,d,e){var f,g,h;return c==null&&(c=50),d==null&&(d=5e3),g=null,h=(new Date).getTime(),f=function(){if((new Date).getTime()-h>d){typeof e=="function"&&e();return}return a()?b():(clearTimeout(g),g=setTimeout(f,c))},g=setTimeout(f,1)},aps:function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(b);return e},isDocReady:function(){return/loaded|complete/.test(document.readyState)},onDocReady:function(){var a,b,c,d,e,f,g,h;return arguments.length>1?(g=arguments[0],b=arguments[1]):(g=1e4,b=arguments[0]),W.util.isDocReady()?b():top===self&&document.documentElement.doScroll?(f=function(){var a;try{return document.documentElement.doScroll("left"),!0}catch(b){return a=b,!1}},W.util.poll(f,b,50,g,b)):(e=function(a){if(W.util.isDocReady())return clearTimeout(d),h(),b()},a=function(){return W.elem.bind(document,"DOMContentLoaded",e),W.elem.bind(document,"readystatechange",e),W.elem.bind(window,"load",e)},h=function(){return W.elem.unbind(document,"DOMContentLoaded",e),W.elem.unbind(document,"readystatechange",e),W.elem.unbind(window,"load",e)},c=function(){return h(),b()},d=setTimeout(c,g),a())},camelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a.charAt(1).toUpperCase()})},snakeCase:function(a){return a.replace(/[A-Z]/g,function(a){return"_"+a.toLowerCase()})}}}(Wistia);var __slice=[].slice;(function(a){var b;b=a;if(b.elem)return;return b.elem={},b.elem.html=function(a,c){var d,e;return d=b.util.cssTags(c),e=b.util.scriptTags(c),c=b.util.removeCssTags(c),c=b.util.removeScriptTags(c),b.util.execCssTags(d),a.innerHTML=c,b.util.execScriptTags(e)},b.elem.fromObject=function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(b.obj.isArray(a))return function(){var c,d,e;e=[];for(c=0,d=a.length;c<d;c++)m=a[c],e.push(b.elem.fromObject(m));return e}();n=a.tagName||"div",e=a.childNodes||[],b.obj.isArray(e)||(e=[e]),h=document.createElement(n);for(j in a){p=a[j];if(j==="childNodes"||j==="tagName")continue;g=j.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(j==="style")if(b.obj.isObject(p))for(k in p)o=p[k],h.style[k]=o;else{u=p.split(";");for(q=0,s=u.length;q<s;q++)l=u[q],v=l.split(/\s*:\s*/),k=v[0],o=v[1],k&&o&&(h.style[k]=o)}else if(j==="events")for(i in p)c=p[i],b.elem.bind(h,i,c);else j==="className"||j==="class"?h.className=p:j==="innerHTML"?h.innerHTML=p:p!=null&&typeof p=="string"&&h.setAttribute(g,p.toString())}for(r=0,t=e.length;r<t;r++)f=e[r],b.obj.isObject(f)?(d=b.elem.fromObject(f),b.elem.append(h,d)):(d=document.createTextNode(f.toString()),b.elem.append(h,d));return h},b.elem.toObject=function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(b.obj.isArray(a))return function(){var c,d,e;e=[];for(c=0,d=a.length;c<d;c++)h=a[c],e.push(b.elem.toObject(h));return e}();g={},g.tagName=a.tagName.toLowerCase(),o=b.obj.keys(a);for(k=0,m=o.length;k<m;k++){c=o[k];if(c==="tagName"||c==="childNodes"||c==="nodeType"||c==="nodeValue")continue;if(c==="style"){g.style={},p=b.obj.keys(a.style);for(l=0,n=p.length;l<n;l++)f=p[l],i=a.style[f],i&&!/^\d/.test(f)&&f!=="length"&&(g.style[f]=i)}else j=a.getAttribute(c),j!=null&&(g[c]=j)}return e=function(){var c,e,f,g;f=a.childNodes,g=[];for(c=0,e=f.length;c<e;c++)d=f[c],d.nodeType===1?g.push(b.elem.toObject(d)):d.nodeType===3?g.push(d.nodeValue):g.push(null);return g}(),e=function(){var a,b,c;c=[];for(a=0,b=e.length;a<b;a++)d=e[a],d&&c.push(d);return c}(),e.length!==0&&(g.childNodes=e),g},b.elem.clone=function(a){var b;return b=this.toObject(a),this.fromObject(b)},b.elem.append=function(a,c){var d,e,f;if(b.obj.isArray(c)){for(e=0,f=c.length;e<f;e++)d=c[e],b.elem.append(a,d);return}return a.appendChild(c)},b.elem.prepend=function(a,c){var d,e,f;if(b.obj.isArray(c)){for(e=0,f=c.length;e<f;e++)d=c[e],b.elem.prepend(a,d);return}return a.childNodes.length===0?this.append(a,c):a.insertBefore(c,a.childNodes[0])},b.elem.before=function(a,c){var d,e,f,g;if(b.obj.isArray(c)){g=c.reverse();for(e=0,f=g.length;e<f;e++)d=g[e],b.elem.before(a,d);return}return a.parentNode.insertBefore(c,a)},b.elem.after=function(a,c){var d,e,f,g;if(b.obj.isArray(c)){g=c.reverse();for(e=0,f=g.length;e<f;e++)d=g[e],b.elem.after(a,d);return}return a.parentNode.insertBefore(c,a.nextSibling)},b.elem.remove=function(a){var c,d,e,f;if(b.obj.isArray(a)||window.NodeList&&a instanceof NodeList){for(e=0,f=a.length;e<f;e++)c=a[e],b.elem.remove(c);return}if((a!=null?a.nodeType:void 0)===1&&(d=a.parentNode))return d.removeChild(a),a=null},b.elem.removeClass=function(a,b){var c;if(!this.hasClass(a,b))return;if(a.className!=null)return c=new RegExp(""+b,"g"),a.className=this.normalizeClassName(a.className.replace(c,""))},b.elem.addClass=function(a,b){if(this.hasClass(a,b))return;return a.className!=null?(this.removeClass(a,b),a.className=this.normalizeClassName(""+a.className+" "+b)):a.className=b},b.elem.hasClass=function(a,b){var c,d,e,f,g;return(a!=null?(g=a.className)!=null?g.indexOf:void 0:void 0)?(f=a.className.indexOf(b),c=f===0||a.className.charAt(f-1)===" ",e=f+b.length===a.className.length,d=a.className.charAt(f+b.length)===" ",c&&(e||d)):!1},b.elem.classes=function(a){return(a.className||"").split(/\s+/)},b.elem.normalizeClassName=function(a){return a.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ")},b.elem.style=function(){var a,c,d,e,f,g,h,i,j;d=arguments[0],a=2<=arguments.length?__slice.call(arguments,1):[];if(d instanceof Array||window.NodeList&&d instanceof NodeList)return h=function(){var c,f,g,h;h=[];for(c=0,f=d.length;c<f;c++)e=d[c],e.nodeType===1?h.push((g=b.elem).style.apply(g,[e].concat(__slice.call(a)))):h.push(void 0);return h}(),h;if(a.length===2)return f=a[0],i=a[1],d.style[f]=i;if(a.length!==1)return b.log.apply(b,["Unexpected args for Wistia.elem.style",d].concat(__slice.call(a)));if(typeof a[0]!="string"){g=this.propsWithVendorPrefixes(a[0]),j=[];for(f in g)i=g[f],j.push(d.style[f]=i);return j}f=a[0];try{return d.currentStyle?d.currentStyle[f]:window.getComputedStyle?getComputedStyle(d,null).getPropertyValue(f):null}catch(k){return c=k,b.notice(c)}},b.elem.vendoredProperties=function(){return{mixBlendMode:!0,transition:!0,transform:!0}},b.elem.vendoredProperty=function(a){return this.vendoredProperties()[a]},b.elem.vendorPrefixes=function(){return["webkit","moz","o","ms"]},b.elem.propsWithVendorPrefixes=function(a){var b,c,d,e,f,g,h,i;e={};for(d in a){f=a[d],e[d]=f;if(this.vendoredProperty(d)){i=this.vendorPrefixes();for(g=0,h=i.length;g<h;g++)b=i[g],c=b+d.charAt(0).toUpperCase()+d.slice(1),d[c]||(e[c]=f)}}return e},b.elem.width=function(a){var c,d,e,f;return a===window?window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.offsetWidth:document.body.offsetWidth:a===document?(c=document.body,d=document.documentElement,Math.max(c.scrollWidth,c.offsetWidth,d.clientWidth,d.scrollWidth,d.offsetWidth)):b.detect.browser.quirks?parseInt(a.offsetWidth,10):(e=typeof window.getComputedStyle=="function"?(f=window.getComputedStyle(a,null))!=null?f.width:void 0:void 0)?parseInt(e,10):a.currentStyle?a.offsetWidth:-1},b.elem.height=function(a){var c,d,e,f;return a===window?window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.offsetHeight:document.body.offsetHeight:a===document?(c=document.body,d=document.documentElement,Math.max(c.scrollHeight,c.offsetHeight,d.clientHeight,d.scrollHeight,d.offsetHeight)):b.detect.browser.quirks?parseInt(a.offsetHeight,10):(e=typeof window.getComputedStyle=="function"?(f=window.getComputedStyle(a,null))!=null?f.height:void 0:void 0)?parseInt(e,10):a.currentStyle?a.offsetHeight:-1},b.elem.isBoxModel=function(){var a;return this._isBoxModel!=null?this._isBoxModel:(a=document.createElement("div"),a.style.paddingLeft=a.style.width="1px",document.body.appendChild(a),this._isBoxModel=a.offsetWidth===2,document.body.removeChild(a),this._isBoxModel)},b.elem.offset=function(a){var b,c,d,e,f,g,h,i,j;return b=document.body,j=document.defaultView,f=document.documentElement,g=this.isBoxModel(),c=a.getBoundingClientRect(),e=f.clientTop||b.clientTop||0,d=f.clientLeft||b.clientLeft||0,i=(j!=null?j.pageYOffset:void 0)||g&&f.scrollTop||b.scrollTop,h=(j!=null?j.pageXOffset:void 0)||g&&f.scrollLeft||b.scrollLeft,{top:c.top+i-e,left:c.left+h-d}},b.elem.containsOffset=function(a,c,d){var e;return e=this.offset(a),e.right=e.left+b.elem.width(a),e.bottom=e.top+b.elem.height(a),e.left<=c&&c<e.right&&e.top<=d&&d<e.bottom},b.elem.scrollOffset=function(a){var b,c;b=c=0;if(a.parentNode)while(a!=null?a.offsetParent:void 0)c+=a.scrollTop,b+=a.scrollLeft,a=a.parentNode;return{left:b,top:c}},b.elem.isHidden=function(a){if(a.offsetParent===null&&b.elem.style(a,"position")!=="fixed")return!0;while(a&&a.nodeType===1){if(b.elem.style(a,"display")==="none")return!0;a=a.parentNode}return!1},b.elem.inDom=function(a){while(a=a.parentNode)if(a===document)return!0;return!1},b.elem.isDescendantOf=function(a,b){var c,d,e,f;f=this.ancestors(a);for(d=0,e=f.length;d<e;d++){c=f[d];if(c===b)return!0}return!1},b.elem.ancestorHasClass=function(a,b){var c,d,e,f;f=this.ancestors(a);for(d=0,e=f.length;d<e;d++){c=f[d];if(this.hasClass(c,b))return!0}return!1},b.elem.ancestors=function(a){var b,c;b=a,c=[];while(b=b.parentNode)c.push(b);return c},b.elem.isInside=function(a,b){return a===b||this.isDescendantOf(a,b)},b.elem.animate=function(a,c,d){var e,f,g;return c==null&&(c={}),d==null&&(d={}),d=b.obj.merge({time:400,easing:"ease"},d),f=function(){var a;a=[];for(e in c)g=c[e],a.push(""+e+" "+d.time+"ms "+d.easing);return a}().join(","),b.elem.style(a,{transition:f}),b.util.requestAnimationFrame(function(){return b.elem.style(a,c),setTimeout(function(){return b.elem.style(a,{transition:""}),typeof d.callback=="function"?d.callback():void 0},d.time)})},b.elem.bind=function(a,c,d){var e,f,g=this;return e=function(){var e,f,h,i;return f=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],f=f||window.event,!f.pageX&&!f.pageY&&(f.clientX||f.clientY)&&(f.pageX=f.clientX+b.util.scrollLeft(),f.pageY=f.clientY+b.util.scrollTop()),f.preventDefault||(f.preventDefault=function(){return f.returnValue=!1}),f.stopPropagation||(f.stopPropagation=function(){return f.cancelBubble=!0}),f.which==null&&(f.which=f.charCode!=null?f.charCode:f.keyCode),!f.which&&f.button!=null&&(f.which=f.button&1?1:f.button&2?3:f.button&4?2:b.detect.browser.msie&&f.button===0?1:0),f.target||f.srcElement&&(f.target=f.srcElement),((i=f.target)!=null?i.nodeType:void 0)===3&&(f.target=f.target.parentNode),h=d.apply(f.target,[f].concat(e)),h===g.unbind&&g.unbind(a,c,d),h},b._elemBind||(b._elemBind={}),f=this._bindKey(a,c,d),b._elemBind[f]=e,e.elem=a,e.event=c,b.detect.browser.msie&&b.detect.browser.version<9?a.attachEvent("on"+c,e):a.addEventListener(c,e,!1)},b.elem.unbind=function(a,c,d){var e,f;if(a._wistiaElemId==null||(d!=null?!d._wistiaBindId:!void 0))return;return f=this._bindKey(a,c,d),e=b._elemBind[f],e&&(b.detect.browser.msie&&b.detect.browser.version<9?a.detachEvent("on"+c,e):a.removeEventListener(c,e,!1),e.elem=null,e.event=null),delete b._elemBind[f]},b.elem.unbindAll=function(a){var c,d,e,f,g;f=b._elemBind,g=[];for(e in f)d=f[e],d&&a===d.elem?(c=d.event,b.detect.browser.msie&&b.detect.browser.version<9?d.elem.detachEvent("on"+c,d):d.elem.removeEventListener(c,d,!1),d.elem=null,d.event=null,g.push(delete b._elemBind[e])):g.push(void 0);return g},b.elem.unbindAllInside=function(a){var c,d,e,f,g;f=b._elemBind,g=[];for(e in f)d=f[e],d&&b.elem.isInside(d.elem,a)?(c=d.event,b.detect.browser.msie&&b.detect.browser.version<9?d.elem.detachEvent("on"+c,d):d.elem.removeEventListener(c,d,!1),d.elem=null,d.event=null,g.push(delete b._elemBind[e])):g.push(void 0);return g},b.elem._bindKey=function(a,c,d){return a._wistiaElemId||(a._wistiaElemId=b.seqId("wistia_elem_")),d._wistiaBindId||(d._wistiaBindId=b.seqId("wistia_bind_")),""+a._wistiaElemId+"."+c+"."+d._wistiaBindId},b.elem.rebind=function(a,b,c){if(c)return this.unbind(a,b,c),this.bind(a,b,c)},b.elem.bindOnce=function(a,c,d){var e;return e=function(){return d.call.apply(d,[this].concat(__slice.call(arguments))),b.elem.unbind},this.bind(a,c,e)},b.elem.trigger=function(){var a,b,c,d;return b=arguments[0],c=arguments[1],a=3<=arguments.length?__slice.call(arguments,2):[],b.fireEvent?b.fireEvent("on"+c):(d=document.createEvent("Events"),d.initEvent(c,!0,!1),c==="click"||c==="doubleclick"?d.which=1:c==="rightclick"&&(d.which=2),d.target=b,b.dispatchEvent(d))},b.elem.fullscreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},b.elem.requestFullscreen=function(a){return a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):a.msRequestFullscreen?a.msRequestFullscreen():a.webkitEnterFullscreen?a.webkitEnterFullscreen():typeof console!="undefined"&&console!==null?console.log("no requestFullscreen functionality detected"):void 0},b.elem.cancelFullscreen=function(a){return document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():(a!=null?a.webkitExitFullscreen:void 0)?a.webkitExitFullscreen():typeof console!="undefined"&&console!==null?console.log("no cancelFullscreen functionality detected"):void 0},b.elem.stripEventAttributes=function(a){var b,c,d,e,f,g,h,i,j,k;c=(a!=null?a.attributes:void 0)||[];try{for(f=0,h=c.length;f<h;f++)b=c[f],/^on.+/i.test(b.name)&&(a[b.name]=null,a.removeAttribute(b.name))}catch(l){e=l,typeof console!="undefined"&&console!==null&&console.log(e)}j=a!=null?a.childNodes:void 0,k=[];for(g=0,i=j.length;g<i;g++)d=j[g],d.nodeType===1?k.push(this.stripEventAttributes(d)):k.push(void 0);return k},b.elem.mutationObserver=function(a){var c;return c=b._detect.mutationObserver(),c?new window[c](a):null},b.elem.domDistance=function(a,b){var c,d,e,f,g;if(a===b)return{up:0,across:0,down:0};d=[a],e=[b],c=1,g=0,f=null;while(a!==document.body){a=a.parentNode;if(a===b)return{up:d.length,across:0,down:0};d.unshift(a)}a=d[d.length-1];while(b!==document.body){b=b.parentNode;if(b===a)return{up:0,across:0,down:e.length};e.unshift(b)}while(d[c]===e[c])c+=1;f=d[c];while(f){f=f.nextSibling;if(f!=null?f.tagName:void 0){g+=1;if(f===e[c])return{up:d.length-c-1,across:g,down:e.length-c-1}}}g=0,f=d[c];while(f){f=f.previousSibling;if(f!=null?f.tagName:void 0){g-=1;if(f===e[c])return{up:d.length-c-1,across:g,down:e.length-c-1}}}},b.elem.allBetween=function(a,c,d){var e,f,g,h,i,j,k,l;a==null&&(a=document.body),c==null&&(c=document.body),d==null&&(d="*"),j=[],d=d.toLowerCase(),f=b.elem.domDistance(a,c),i=a,h=0,l=null;while(h<f.up){if(i!=null?i.tagName:void 0){if(d==="*"||i.tagName.toLowerCase()===d)j=j.concat([i]);k=i.nextSibling;while(k){if(k.tagName){if(d==="*"||k.tagName.toLowerCase()===d)j=j.concat([k]);j=j.concat(b.util.aps(k.getElementsByTagName(d)))}k=k.nextSibling}}i=i.parentNode,i&&(l=i),h+=1}e=Math.abs(f.across),i=l||a,h=1;while(h<e){f.across<0?i=i.previousSibling:i=i.nextSibling;if(i.tagName){if(0<h&&h<e){if(d==="*"||i.tagName.toLowerCase()===d)j=j.concat([i]);j=j.concat(b.util.aps(i.getElementsByTagName(d)))}h+=1}}g=[],i=c,h=0;while(h<f.down){if(i!=null?i.tagName:void 0){if(d==="*"||i.tagName.toLowerCase()===d)g=g.concat([i]);k=i.previousSibling;while(k){if(k.tagName){if(d==="*"||k.tagName.toLowerCase()===d)g=g.concat([k]);g=g.concat(b.util.aps(k.getElementsByTagName(d)).reverse())}k=k.previousSibling}}i=i.parentNode,h+=1}return j=j.concat(g.reverse()),j}})(Wistia);var __slice=[].slice;(function(a){var b,c,d,e;if(a.bindable)return;a.bindable={bind:function(b,c){return a.debug(this.constructor.name,"bind",b),this._bindings||(this._bindings={}),(typeof this.specialBind=="function"?this.specialBind.apply(this,arguments):void 0)===!0?this:(this._bindings[b]||(this._bindings[b]=[]),this._bindings[b].push(c),this)},unbind:function(b,c){var d,e,f,g,h;a.debug(this.constructor.name,"unbind",b),this._bindings||(this._bindings={});if((typeof this.specialUnbind=="function"?this.specialUnbind.apply(this,arguments):void 0)===!0)return this;d=this._bindings[b];if(d)if(c){f=[];for(e=g=0,h=d.length;0<=h?g<h:g>h;e=0<=h?++g:--g)c!==d[e]&&f.push(d[e]);this._bindings[b]=f}else this._bindings[b]=[];return this._bindings[b]&&!this._bindings[b].length&&(this._bindings[b]=null,delete this._bindings[b]),this},rebind:function(a,b){return this.unbind(a,b),this.bind(a,b)},hasBindings:function(){var a,b,c,d;this._bindings||(this._bindings={}),b=!1,d=this._bindings;for(a in d)c=d[a],this._bindings.hasOwnProperty(a)&&(b=!0);return b},trigger:function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;g=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[],g!=="flushlogs"&&a.debug.apply(a,[this.constructor.name,"trigger",g].concat(__slice.call(b))),this._bindings||(this._bindings={}),h=[];if(d=this._bindings[g]){for(i=0,m=d.length;i<m;i++){e=d[i];try{e&&e.apply(this,b)===this.unbind&&h.push({event:g,fn:e})}catch(q){f=q,typeof f=="string"?typeof console!="undefined"&&console!==null&&console.log(f):(f.message&&typeof console!="undefined"&&console!==null&&console.log(f.message),f.stack&&typeof console!="undefined"&&console!==null&&console.log(f.stack))}}for(j=0,n=h.length;j<n;j++)c=h[j],this.unbind(c.event,c.fn)}if(d=this._bindings.all)for(k=0,o=d.length;k<o;k++){e=d[k];try{e&&e.apply(this,[g].concat(b))===this.unbind&&h.push({event:g,fn:e})}catch(q){f=q,typeof f=="string"?typeof console!="undefined"&&console!==null&&console.log(f):(f.message&&typeof console!="undefined"&&console!==null&&console.log(f.message),f.stack&&typeof console!="undefined"&&console!==null&&console.log(f.stack))}}for(l=0,p=h.length;l<p;l++)c=h[l],this.unbind(c.event,c.fn);return this}},d=a.bindable,e=[];for(b in d)c=d[b],a[b]?e.push(void 0):e.push(a[b]=c);return e})(Wistia);var __slice=[].slice;(function(a){return a.StopGo=function(){function a(){var a=this;return this._queue=[],this._green=!1,this._lock=!1,this.allInOne=function(){return a._allInOne.apply(a,arguments)},this.defineMethodsOn(this.allInOne),this.allInOne}return a.prototype.defineMethodsOn=function(a){var b,c,d,e,f=this;b={},e=[];for(c in this)d=this[c],e.push(function(c,d,e){if(b.toString.call(d)==="[object Function]")return a[c]=function(){return e[c].apply(e,arguments)}}(c,d,this));return e},a.prototype.flush=function(){var a,b,c=this;a=1<=arguments.length?__slice.call(arguments,0):[];if(!this._green)return this;this._lock=!0;while(this._queue.length>0){b=this._queue.shift(),a.length||!this.goArgs?this.tryAndReport(function(){return b.apply(null,a)}):this.tryAndReport(function(){return b.apply(null,c.goArgs)});if(this._block||!this._green)break}return this._lock=!1,this},a.prototype._debug=function(){return typeof console!="undefined"&&console!==null?console.log.apply(console,arguments):void 0},a.prototype.synchronize=function(){var a,b,c,d;b=1<=arguments.length?__slice.call(arguments,0):[];for(c=0,d=b.length;c<d;c++)a=b[c],this.synchronizeFn(a);return this},a.prototype.synchronizeFn=function(a){var b,c,d,e=this;return c=null,b=function(){return clearTimeout(c),e._block=!1,e.go()},d=function(){return e._block=!0,e.stop(),a(b)},c=setTimeout(function(){return e._debug("StopGo#synchronize timed out",a),b()},5e3),this.runFn(d),this},a.prototype.tryAndReport=function(a){var b;try{return a()}catch(c){return b=c,b.stack?(typeof console!="undefined"&&console!==null&&console.log(b.message),typeof console!="undefined"&&console!==null?console.log(b.stack):void 0):typeof console!="undefined"&&console!==null?console.log(b):void 0}},a.prototype.clearSynchronized=function(){return this.setQueue([]),this._block=!1,this._green=!0},a.prototype.filter=function(a){var b;return this._queue=function(){var c,d,e,f;e=this._queue,f=[];for(c=0,d=e.length;c<d;c++)b=e[c],a(b)&&f.push(b);return f}.call(this),this},a.prototype.push=function(a){return this._queue.push(a),this},a.prototype.go=function(){var a;return a=1<=arguments.length?__slice.call(arguments,0):[],this._green=!0,this.goArgs=a,this.flush.apply(this,a),this},a.prototype.stop=function(){return this._green=!1,this},a.prototype.run=function(){var a,b,c,d;b=1<=arguments.length?__slice.call(arguments,0):[];for(c=0,d=b.length;c<d;c++)a=b[c],this.runFn(a);return this},a.prototype.runFn=function(a){return this._green&&!this._block?this._lock?this.tryAndReport(a):(this.push(a),this.flush()):this.push(a),this},a.prototype.remove=function(){var a,b,c,d;b=1<=arguments.length?__slice.call(arguments,0):[];for(c=0,d=b.length;c<d;c++)a=b[c],this.removeFn(a);return this},a.prototype.removeFn=function(a){return this.filter(function(b){return a!==b}),this},a.prototype.setQueue=function(a){return this._queue=a,this},a.prototype.getQueue=function(){return this._queue},a.prototype._allInOne=function(){var a,b;return a=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[],a===!0?this.go.apply(this,b):a===!1?this.stop():a!=null?a instanceof Array?this.run.apply(this,a):typeof a=="string"?this[a].apply(this,b):this.run.apply(this,arguments):this._green},a}(),a.StopGo.when=function(){var b,c,d,e,f,g,h,i;e=1<=arguments.length?__slice.call(arguments,0):[],c=new a.StopGo,b=function(){return c.go.apply(c,arguments)},i=e.reverse(),f=function(a,c){return b=function(){return c(function(){return a.apply(null,arguments)})}};for(g=0,h=i.length;g<h;g++)d=i[g],f(b,d);return b(),c},a.StopGo.prototype._debug=function(){return a.notice.apply(a,arguments)}})(Wistia),function(a){var b=function(a){return!isNaN(parseInt(a))};a.hotkeys=function(b){for(key in b)a.hotkey(key,b[key]);return this},a.hotkey=function(c,d){return b(c)?a.hotkeys.cache[parseInt(c)]=d:a.hotkeys.cache[c.charCodeAt(0)-32]=d,this},a.hotkeys.cache={},a(document).ready(function(){a("a[hotkey]").each(function(){a.hotkey(a(this).attr("hotkey"),a(this).attr("href"))}),a(document).bind("keydown.hotkey",function(b){if(a(b.target).is(":input"))return;if(b.shiftKey||b.ctrlKey||b.altKey||b.metaKey)return!0;var c=a.hotkeys.cache[b.keyCode];c&&(a.isFunction(c)?c.call(this,b):window.location=c)})})}(jQuery),function(a){a.extend(a.fn,{livequery:function(b,c,d){var e=this,f;return a.isFunction(b)&&(d=c,c=b,b=undefined),a.each(a.livequery.queries,function(a,g){if(e.selector==g.selector&&e.context==g.context&&b==g.type&&(!c||c.$lqguid==g.fn.$lqguid)&&(!d||d.$lqguid==g.fn2.$lqguid))return(f=g)&&!1}),f=f||new a.livequery(this.selector
,this.context,b,c,d),f.stopped=!1,f.run(),this},expire:function(b,c,d){var e=this;return a.isFunction(b)&&(d=c,c=b,b=undefined),a.each(a.livequery.queries,function(f,g){e.selector==g.selector&&e.context==g.context&&(!b||b==g.type)&&(!c||c.$lqguid==g.fn.$lqguid)&&(!d||d.$lqguid==g.fn2.$lqguid)&&!this.stopped&&a.livequery.stop(g.id)}),this}}),a.livequery=function(b,c,d,e,f){return this.selector=b,this.context=c||document,this.type=d,this.fn=e,this.fn2=f,this.elements=[],this.stopped=!1,this.id=a.livequery.queries.push(this)-1,e.$lqguid=e.$lqguid||a.livequery.guid++,f&&(f.$lqguid=f.$lqguid||a.livequery.guid++),this},a.livequery.prototype={stop:function(){var a=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(b,c){a.fn2.apply(c)}),this.elements=[],this.stopped=!0},run:function(){if(this.stopped)return;var b=this,c=this.elements,d=a(this.selector,this.context),e=d.not(c);this.elements=d,this.type?(e.bind(this.type,this.fn),c.length>0&&a.each(c,function(c,e){a.inArray(e,d)<0&&a.event.remove(e,b.type,b.fn)})):(e.each(function(){b.fn.apply(this)}),this.fn2&&c.length>0&&a.each(c,function(c,e){a.inArray(e,d)<0&&b.fn2.apply(e)}))}},a.extend(a.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length){var b=a.livequery.queue.length;while(b--)a.livequery.queries[a.livequery.queue.shift()].run()}},pause:function(){a.livequery.running=!1},play:function(){a.livequery.running=!0,a.livequery.run()},registerPlugin:function(){a.each(arguments,function(b,c){if(!a.fn[c])return;var d=a.fn[c];a.fn[c]=function(){var b=d.apply(this,arguments);return a.livequery.run(),b}})},run:function(b){b!=undefined?a.inArray(b,a.livequery.queue)<0&&a.livequery.queue.push(b):a.each(a.livequery.queries,function(b){a.inArray(b,a.livequery.queue)<0&&a.livequery.queue.push(b)}),a.livequery.timeout&&clearTimeout(a.livequery.timeout),a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){b!=undefined?a.livequery.queries[b].stop():a.each(a.livequery.queries,function(b){a.livequery.queries[b].stop()})}}),a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove"),a(function(){a.livequery.play()});var b=a.prototype.init;a.prototype.init=function(a,c){var d=b.apply(this,arguments);return a&&a.selector&&(d.context=a.context,d.selector=a.selector),typeof a=="string"&&(d.context=c||document,d.selector=a),d},a.prototype.init.prototype=a.prototype}(jQuery),function(a){a.postToUrl=function(b,c,d){function f(a,b){var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",a),c.setAttribute("value",b),e.appendChild(c)}var c=c||{},d=d||"post";d.match(/put|delete/i)&&(c._method=d,d="post"),window._auth_token_name&&(c[window._auth_token_name]=window._auth_token);var e=document.createElement("form");e.setAttribute("method",d),e.setAttribute("action",b);for(var g in c)a.isArray(c[g])?a.each(c[g],function(a,b){f(g,b)}):f(g,c[g]);document.body.appendChild(e),e.submit()}}(jQuery),function(a){function c(a){return typeof a=="object"?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};b.defaults={axis:"y",duration:1},b.window=function(b){return a(window).scrollable()},a.fn.scrollable=function(){return this.map(function(){var b=this.parentWindow||this.defaultView,c=this.nodeName=="#document"?b.frameElement||b:this,d=c.contentDocument||(c.contentWindow||c).document,e=c.setInterval;return c.nodeName=="IFRAME"||e&&a.browser.safari?d.body:e?d.documentElement:this})},a.fn.scrollTo=function(d,e,f){return typeof e=="object"&&(f=e,e=0),typeof f=="function"&&(f={onAfter:f}),f=a.extend({},b.defaults,f),e=e||f.speed||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=c(f.offset),f.over=c(f.over),this.scrollable().each(function(){function l(a){g.animate(j,e,f.easing,a&&function(){a.call(this,d,f)})}function m(a){var c="scroll"+a,d=b.ownerDocument;return k?Math.max(d.documentElement[c],d.body[c]):b[c]}var b=this,g=a(b),h=d,i,j={},k=g.is("html,body");switch(typeof h){case"number":case"string":if(/^([+-]=)?\d+(px)?$/.test(h)){h=c(h);break}h=a(h,this);case"object":if(h.is||h.style)i=(h=a(h)).offset()}a.each(f.axis.split(""),function(a,c){var d=c=="x"?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=b[n],p=c=="x"?"Width":"Height",q=p.toLowerCase();i?(j[n]=i[e]+(k?0:o-g.offset()[e]),f.margin&&(j[n]-=parseInt(h.css("margin"+d))||0,j[n]-=parseInt(h.css("border"+d+"Width"))||0),j[n]+=f.offset[e]||0,f.over[e]&&(j[n]+=h[q]()*f.over[e])):j[n]=h[e],/^\d+$/.test(j[n])&&(j[n]=j[n]<=0?0:Math.min(j[n],m(p))),!a&&f.queue&&(o!=j[n]&&l(f.onAfterFirst),delete j[n])}),l(f.onAfter)}).end()}}(jQuery),function(a){function b(){a.fn.ajaxSubmit.debug&&window.console&&window.console.log&&window.console.log("[jquery.form] "+Array.prototype.join.call(arguments,""))}a.fn.ajaxSubmit=function(c){function o(){function p(){if(l++)return;h.detachEvent?h.detachEvent("onload",p):h.removeEventListener("load",p,!1);var b=0,c=!0;try{if(m)throw"timeout";var e,f;f=h.contentWindow?h.contentWindow.document:h.contentDocument?h.contentDocument:h.document;if(f.body==null&&!b&&a.browser.opera){b=1,l--,setTimeout(p,100);return}j.responseText=f.body?f.body.innerHTML:null,j.responseXML=f.XMLDocument?f.XMLDocument:f,j.getResponseHeader=function(a){var b={"content-type":d.dataType};return b[a]};if(d.dataType=="json"||d.dataType=="script"){var i=f.getElementsByTagName("textarea")[0];j.responseText=i?i.value:j.responseText}else d.dataType=="xml"&&!j.responseXML&&j.responseText!=null&&(j.responseXML=q(j.responseText));e=a.httpData(j,d.dataType)}catch(n){c=!1,a.handleError(d,j,"error",n)}c&&(d.success(e,"success"),k&&a.event.trigger("ajaxSuccess",[j,d])),k&&a.event.trigger("ajaxComplete",[j,d]),k&&!--a.active&&a.event.trigger("ajaxStop"),d.complete&&d.complete(j,c?"success":"error"),setTimeout(function(){g.remove(),j.responseXML=null},100)}function q(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&b.documentElement.tagName!="parsererror"?b:null}var b=i[0];if(a(":input[name=submit]",b).length){alert('Error: Form elements must not be named "submit".');return}var d=a.extend({},a.ajaxSettings,c),e=jQuery.extend(!0,{},a.extend(!0,{},a.ajaxSettings),d),f="jqFormIO"+(new Date).getTime(),g=a('<iframe id="'+f+'" name="'+f+'" />'),h=g[0];if(a.browser.msie||a.browser.opera)h.src='javascript:false;document.write("");';g.css({position:"absolute",top:"-1000px",left:"-1000px"});var j={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1,g.attr("src","about:blank")}},k=d.global;k&&!(a.active++)&&a.event.trigger("ajaxStart"),k&&a.event.trigger("ajaxSend",[j,d]);if(e.beforeSend&&e.beforeSend(j,e)===!1){e.global&&jQuery.active--;return}if(j.aborted)return;var l=0,m=0,n=b.clk;if(n){var o=n.name;o&&!n.disabled&&(c.extraData=c.extraData||{},c.extraData[o]=n.value,n.type=="image"&&(c.extraData[name+".x"]=b.clk_x,c.extraData[name+".y"]=b.clk_y))}setTimeout(function(){var e=i.attr("target"),j=i.attr("action");i.attr({target:f,method:"POST",action:d.url}),c.skipEncodingOverride||i.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&setTimeout(function(){m=!0,p()},d.timeout);var k=[];try{if(c.extraData)for(var l in c.extraData)k.push(a('<input type="hidden" name="'+l+'" value="'+c.extraData[l]+'" />').appendTo(b)[0]);g.appendTo("body"),h.attachEvent?h.attachEvent("onload",p):h.addEventListener("load",p,!1),b.submit()}finally{i.attr("action",j),e?i.attr("target",e):i.removeAttr("target"),a(k).remove()}},10)}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;typeof c=="function"&&(c={success:c}),c=a.extend({url:this.attr("action")||window.location.toString(),type:this.attr("method")||"GET"},c||{});var d={};this.trigger("form-pre-serialize",[this,c,d]);if(d.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var e=this.formToArray(c.semantic);if(c.data){c.extraData=c.data;for(var f in c.data)if(c.data[f]instanceof Array)for(var g in c.data[f])e.push({name:f,value:c.data[f][g]});else e.push({name:f,value:c.data[f]})}if(c.beforeSubmit&&c.beforeSubmit(e,this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[e,this,c,d]);if(d.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var h=a.param(e);c.type.toUpperCase()=="GET"?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+h,c.data=null):c.data=h;var i=this,j=[];c.resetForm&&j.push(function(){i.resetForm()}),c.clearForm&&j.push(function(){i.clearForm()});if(!c.dataType&&c.target){var k=c.success||function(){};j.push(function(b){a(c.target).html(b).each(k,arguments)})}else c.success&&j.push(c.success);c.success=function(a,b){for(var d=0,e=j.length;d<e;d++)j[d].apply(c,[a,b,i])};var l=a("input:file",this).fieldValue(),m=!1;for(var n=0;n<l.length;n++)l[n]&&(m=!0);return c.iframe||m?a.browser.safari&&c.closeKeepAlive?a.get(c.closeKeepAlive,o,"html"):o():c.dataType||(c.dataType="html"),a.ajax(c),this.trigger("form-submit-notify",[this,c]),this},a.fn.ajaxForm=function(b){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){return a(this).ajaxSubmit(b),!1}).each(function(){a(":submit,input:image",this).bind("click.form-plugin",function(b){var c=this.form;c.clk=this;if(this.type=="image")if(b.offsetX!=undefined)c.clk_x=b.offsetX,c.clk_y=b.offsetY;else if(typeof a.fn.offset=="function"){var d=a(this).offset();c.clk_x=b.pageX-d.left,c.clk_y=b.pageY-d.top}else c.clk_x=b.pageX-this.offsetLeft,c.clk_y=b.pageY-this.offsetTop;setTimeout(function(){c.clk=c.clk_x=c.clk_y=null},10)})})},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin"),this.each(function(){a(":submit,input:image",this).unbind("click.form-plugin")})},a.fn.formToArray=function(b){var c=[];if(this.length==0)return c;var d=this[0],e=b?d.getElementsByTagName("*"):d.elements;if(!e)return c;for(var f=0,g=e.length;f<g;f++){var h=e[f],i=h.name;if(!i)continue;if(b&&d.clk&&h.type=="image"){!h.disabled&&d.clk==h&&c.push({name:i+".x",value:d.clk_x},{name:i+".y",value:d.clk_y});continue}var j=a.fieldValue(h,!0);if(j&&j.constructor==Array)for(var k=0,l=j.length;k<l;k++)c.push({name:i,value:j[k]});else j!==null&&typeof j!="undefined"&&c.push({name:i,value:j})}if(!b&&d.clk){var m=d.getElementsByTagName("input");for(var f=0,g=m.length;f<g;f++){var n=m[f],i=n.name;i&&!n.disabled&&n.type=="image"&&d.clk==n&&c.push({name:i+".x",value:d.clk_x},{name:i+".y",value:d.clk_y})}}return c},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(!d)return;var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;f<g;f++)c.push({name:d,value:e[f]});else e!==null&&typeof e!="undefined"&&c.push({name:this.name,value:e})}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var f=this[d],g=a.fieldValue(f,b);if(g===null||typeof g=="undefined"||g.constructor==Array&&!g.length)continue;g.constructor==Array?a.merge(c,g):c.push(g)}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();typeof c=="undefined"&&(c=!0);if(c&&(!d||b.disabled||e=="reset"||e=="button"||(e=="checkbox"||e=="radio")&&!b.checked||(e=="submit"||e=="image")&&b.form&&b.form.clk!=b||f=="select"&&b.selectedIndex==-1))return null;if(f=="select"){var g=b.selectedIndex;if(g<0)return null;var h=[],i=b.options,j=e=="select-one",k=j?g+1:i.length;for(var l=j?g:0;l<k;l++){var m=i[l];if(m.selected){var n=a.browser.msie&&!m.attributes.value.specified?m.text:m.value;if(j)return n;h.push(n)}}return h}return b.value},a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})},a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();a=="text"||a=="password"||b=="textarea"?this.value="":a=="checkbox"||a=="radio"?this.checked=!1:b=="select"&&(this.selectedIndex=-1)})},a.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return a==undefined&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return b==undefined&&(b=!0),this.each(function(){var c=this.type;if(c=="checkbox"||c=="radio")this.checked=b;else if(this.tagName.toLowerCase()=="option"){var d=a(this).parent("select");b&&d[0]&&d[0].type=="select-one"&&d.find("option").selected(!1),this.selected=b}})},a.handleError||(a.handleError=function(a,b,c,d){a.error&&a.error.call(a.context||window,b,c,d),a.global&&(a.context?jQuery(a.context):jQuery.event).trigger("ajaxError",[b,a,d])})}(jQuery),function($){$.fn.editable=function(a,b){var c={target:a,name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{}};b&&$.extend(c,b);var d=$.editable.types[c.type].plugin||function(){},e=$.editable.types[c.type].submit||function(){},f=$.editable.types[c.type].buttons||$.editable.types.defaults.buttons,g=$.editable.types[c.type].content||$.editable.types.defaults.content,h=$.editable.types[c.type].element||$.editable.types.defaults.element,i=$.editable.types[c.type].reset||$.editable.types.defaults.reset,j=c.callback||function(){},k=c.onsubmit||function(){},l=c.onreset||function(){};return $.isFunction($(this)[c.event])||($.fn[c.event]=function(a){return a?this.bind(c.event,a):this.trigger(c.event)}),$(this).attr("title",c.tooltip),c.autowidth="auto"==c.width,c.autoheight="auto"==c.height,this.each(function(){var a=this,b=$(a).width(),m=$(a).height();$.trim($(this).html())||$(this).html(c.placeholder),$(this)[c.event](function(l){if(a.editing)return;$(a).removeAttr("title"),0==$(a).width()?(c.width=b,c.height=m):(c.width!="none"&&(c.width=c.autowidth?$(a).width():c.width),c.height!="none"&&(c.height=c.autoheight?$(a).height():c.height)),$(this).html().toLowerCase().replace(/;/,"")==c.placeholder.toLowerCase().replace(/;/,"")&&$(this).html(""),a.editing=!0,a.revert=$(a).html(),$(a).html("");var n=$("<form/>");c.cssclass&&("inherit"==c.cssclass?n.attr("class",$(a).attr("class")):n.attr("class",c.cssclass)),c.style&&("inherit"==c.style?(n.attr("style",$(a).attr("style")),n.css("display",$(a).css("display"))):n.attr("style",c.style));var o=h.apply(n,[c,a]),p;if(c.loadurl){var q=setTimeout(function(){o.disabled=!0,g.apply(n,[c.loadtext,c,a])},100),r={};r[c.id]=a.id,$.isFunction(c.loaddata)?$.extend(r,c.loaddata.apply(a,[a.revert,c])):$.extend(r,c.loaddata),$.ajax({type:c.loadtype,url:c.loadurl,data:r,async:!1,dataType:"html",success:function(a){window.clearTimeout(q),p=a,o.disabled=!1}})}else c.data?(p=c.data,$.isFunction(c.data)&&(p=c.data.apply(a,[a.revert,c]))):p=a.revert;g.apply(n,[p,c,a]),o.attr("name",c.name),f.apply(n,[c,a]),$(a).append(n),d.apply(n,[c,a]),$(":input:visible:enabled:first",n).focus(),c.select&&o.select(),o.keydown(function(b){b.keyCode==27&&(b.preventDefault(),i.apply(n,[c,a]))});var q;"cancel"==c.onblur?o.blur(function(b){q=setTimeout(function(){i.apply(n,[c,a])},500)}):"submit"==c.onblur?o.blur(function(a){q=setTimeout(function(){n.submit()},200)}):$.isFunction(c.onblur)?o.blur(function(b){c.onblur.apply(a,[o.val(),c])}):o.blur(function(a){}),n.submit(function(b){q&&clearTimeout(q),b.preventDefault();if(!1!==k.apply(n,[c,a])&&!1!==e.apply(n,[c,a]))if($.isFunction(c.target)){var d=c.target.apply(a,[o.val(),c]);$(a).html(d),a.editing=!1,j.apply(a,[a.innerHTML,c]),$.trim($(a).html())||$(a).html(c.placeholder)}else{var f={};f[c.name]=o.val(),f[c.id]=a.id,$.isFunction(c.submitdata)?$.extend(f,c.submitdata.apply(a,[a.revert,c])):$.extend(f,c.submitdata),"PUT"==c.method&&(f._method="put"),$(a).html(c.indicator),$.post(c.target,f,function(b){$(a).html(b),a.editing=!1,j.apply(a,[a.innerHTML,c]),$.trim($(a).html())||$(a).html(c.placeholder)},"html")}return $(a).attr("title",c.tooltip),!1})}),this.reset=function(b){this.editing&&!1!==l.apply(b,[c,a])&&($(a).html(a.revert),a.editing=!1,$.trim($(a).html())||$(a).html(c.placeholder),$(a).attr("title",c.tooltip))}})},$.editable={types:{defaults:{element:function(a,b){var c=$('<input type="hidden"></input>');return $(this).append(c),c},content:function(a,b,c){$(":input:first",this).val(a)},reset:function(a,b){b.reset(this)},buttons:function(a,b){var c=this;if(a.submit){if(a.submit.match(/>$/))var d=$(a.submit).click(function(){d.attr("type")!="submit"&&c.submit()});else{var d=$('<button type="submit" />');d.html(a.submit)}$(this).append(d)}if(a.cancel){if(a.cancel.match(/>$/))var e=$(a.cancel);else{var e=$('<button type="cancel" />');e.html(a.cancel)}$(this).append(e),$(e).click(function(d){if($.isFunction($.editable.types[a.type].reset))var e=$.editable.types[a.type].reset;else var e=$.editable.types.defaults.reset;return e.apply(c,[a,b]),!1})}}},text:{element:function(a,b){var c=$("<input />");return a.width!="none"&&c.width(a.width),a.height!="none"&&c.height(a.height),c.attr("autocomplete","off"),$(this).append(c),c}},textarea:{element:function(a,b){var c=$("<textarea />");return a.rows?c.attr("rows",a.rows):c.height(a.height),a.cols?c.attr("cols",a.cols):c.width(a.width),$(this).append(c),c}},select:{element:function(a,b){var c=$("<select />");return $(this).append(c),c},content:function(string,settings,original){if(String==string.constructor){eval("var json = "+string);for(var key in json){if(!json.hasOwnProperty(key))continue;if("selected"==key)continue;var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}}$("select",this).children().each(function(){($(this).val()==json["selected"]||$(this).text()==original.revert)&&$(this).attr("selected","selected")})}}},addInputType:function(a,b){$.editable.types[a]=b}}}(jQuery),function(a,b){var c=null;a.fn.autogrow=function(b){return this.each(function(){new a.autogrow(this,b)})},a.autogrow=function(b,c){this.options=c||{},this.dummy=null,this.interval=null,this.line_height=this.options.lineHeight||parseInt(a(b).css("line-height")),this.min_height=this.options.minHeight||parseInt(a(b).css("min-height")),this.max_height=this.options.maxHeight||parseInt(a(b).css("max-height")),this.textarea=a(b),this.line_height==NaN&&(this.line_height=0),this.init()},a.autogrow.fn=a.autogrow.prototype={autogrow:"1.2.2"},a.autogrow.fn.extend=a.autogrow.extend=a.extend,a.autogrow.fn.extend({init:function(){var a=this;this.textarea.css({overflow:"hidden",display:"block"}),this.textarea.bind("focus",function(){a.startExpand()}).bind("blur",function(){a.stopExpand()}),this.checkExpand()},startExpand:function(){var a=this;this.interval=window.setInterval(function(){a.checkExpand()},400)},stopExpand:function(){clearInterval(this.interval)},checkExpand:function(){if(this.dummy==null){this.dummy=a("<div></div>");try{this.dummy.css({padding:this.textarea.css("padding")})}catch(c){}this.dummy.css({"font-size":this.textarea.css("font-size"),"font-family":this.textarea.css("font-family"),width:this.textarea.css("width"),"line-height":this.line_height+"px","overflow-x":"hidden",position:"absolute",top:0,left:-9999}).appendTo("body")}var d=this.textarea.val().replace(/(<|>)/g,"");b.browser.msie?d=d.replace(/\n/g,"<BR>new"):d=d.replace(/\n/g,"<br>new"),this.dummy.html()!=d&&(this.dummy.html(d),this.max_height>0&&this.dummy.height()+this.line_height>this.max_height?this.textarea.css("overflow-y","auto"):(this.textarea.css("overflow-y","hidden"),(this.textarea.height()<this.dummy.height()+this.line_height||this.dummy.height()<this.textarea.height())&&this.textarea.animate({height:this.dummy.height()+this.line_height+"px"},100)))}})}(jQuery,jQuery),function(a){a.editable.addInputType("autogrow",{element:function(b,c){var d=a("<textarea>");return b.rows?d.attr("rows",b.rows):d.height(b.height),b.cols?d.attr("cols",b.cols):d.width(b.width),a(this).append(d),d},plugin:function(b,c){a("textarea",this).autogrow(b.autogrow)}})}(jQuery),function(a,b){function c(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"@VERSION",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){var d=b.nodeName.toLowerCase(),e=a.attr(b,"tabindex");if("area"===d){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&c(h))}return(/input|select|textarea|button|object/.test(d)?!b.disabled:"a"==d?b.href||!isNaN(e):!isNaN(e))&&c(b)},tabbable:function(b){var c=a.attr(b,"tabindex");return(isNaN(c)||c>=0)&&a(b).is(":focusable")}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})}(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)a(e).triggerHandler("remove");c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e=this.options[b];c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),d=d||{};if(c.originalEvent)for(var f=a.event.props.length,g;f;)g=a.event.props[--f],c[g]=c.originalEvent[g];return this.element.trigger(c,d),!(a.isFunction(e)&&e.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(b.originalEvent.mouseHandled)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=b.which==1,e=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:!1;if(!d||e||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),b.originalEvent.mouseHandled=!0,!0},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!this.element.data("draggable"))return;return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?!0:!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},cancel:function(){return this.helper.is(".ui-draggable-dragging")?
this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone():this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[(b.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(b.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment)[0];if(!c)return;var d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"@VERSION"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","iframeFix",{start:function(b,c){var d=a(this).data("draggable").options;a(d.iframeFix===!0?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")})},stop:function(b,c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!e.length)return;var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var d=null,e=this,f=a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==e)return d=a(this),!1});a.data(b.target,"sortable-item")==e&&(d=a(b.target));if(!d)return!1;if(this.options.handle&&!c){var g=!1;a(this.options.handle,d).find("*").andSelf().each(function(){this==b.target&&(g=!0)});if(!g)return!1}return this.currentItem=d,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options,f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),this.refreshPositions(),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(b,f);else break;this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(!b)return;a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],"sortable");j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=e.length-1;g>=0;g--)e[g][0].each(function(){d.push(this)});return a(d)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data(sortable-item)");for(var b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],"sortable");j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}}for(var g=e.length-1;g>=0;g--){var k=e[g][1],l=e[g][0];for(var i=0,m=l.length;i<m;i++){var n=a(l[i]);n.data("sortable-item",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(b.style.visibility="hidden"),b},update:function(a,b){if(e&&!d.forcePlaceholderSize)return;b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(a(this.containers[e].element[0]).is(":visible")&&this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!c||a(c.element).is(":hidden"))return;if(this.containers.length===1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"];for(var i=this.items.length-1;i>=0;i--){if(!a.ui.contains(this.containers[d].element[0],this.items[i].item[0]))continue;var j=this.items[i][this.containers[d].floating?"left":"top"];Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i])}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"
),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(var f=this.containers.length-1;f>=0;f--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"@VERSION"})}(jQuery),function(a){function b(b,f,j,k){function B(a,b){b=[z].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function C(){for(var b=0;b<k.length;++b){var c=k[b];c.init(z),c.options&&a.extend(!0,m,c.options)}}function D(b){a.extend(!0,m,b),m.grid.borderColor==null&&(m.grid.borderColor=m.grid.color),m.xaxis.noTicks&&m.xaxis.ticks==null&&(m.xaxis.ticks=m.xaxis.noTicks),m.yaxis.noTicks&&m.yaxis.ticks==null&&(m.yaxis.ticks=m.yaxis.noTicks),m.grid.coloredAreas&&(m.grid.markings=m.grid.coloredAreas),m.grid.coloredAreasColor&&(m.grid.markingsColor=m.grid.coloredAreasColor),m.lines&&a.extend(!0,m.series.lines,m.lines),m.points&&a.extend(!0,m.series.points,m.points),m.bars&&a.extend(!0,m.series.bars,m.bars),m.shadowSize&&(m.series.shadowSize=m.shadowSize),B(y.processOptions,[m])}function E(a){l=F(a),H(),I()}function F(b){var c=[];for(var d=0;d<b.length;++d){var e=a.extend(!0,{},m.series);b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function G(a,b){var c=a[b];return!c||c==1?s[b]:typeof c=="number"?s[b.charAt(0)+c+b.slice(1)]:c}function H(){var a,b=l.length,c=[],d=[];for(a=0;a<l.length;++a){var f=l[a].color;f!=null&&(--b,typeof f=="number"?d.push(f):c.push(h(l[a].color)))}for(a=0;a<d.length;++a)b=Math.max(b,d[a]+1);var g=[],i=0;a=0;while(g.length<b){var j;m.colors.length==a?j=new e(100,100,100):j=h(m.colors[a]);var k=i%2==1?-1:1,n=1+k*Math.ceil(i/2)*.2;j.scale(n,n,n),g.push(j),++a,a>=m.colors.length&&(a=0,++i)}var o=0,p;for(a=0;a<l.length;++a){p=l[a],p.color==null?(p.color=g[o].toString(),++o):typeof p.color=="number"&&(p.color=g[p.color].toString());if(p.lines.show==null){var q,r=!0;for(var q in p)if(p[q].show){r=!1;break}r&&(p.lines.show=!0)}p.xaxis=G(p,"xaxis"),p.yaxis=G(p,"yaxis")}}function I(){function t(a,b,c){b<a.datamin&&(a.datamin=b),c>a.datamax&&(a.datamax=c)}var a=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,c,d,e,f,g,h,i,j,k,n,o,p,q,r;for(o in s)s[o].datamin=a,s[o].datamax=b,s[o].min=m[o].min,s[o].max=m[o].max,s[o].used=!1;for(c=0;c<l.length;++c)h=l[c],h.datapoints={points:[]},B(y.processRawData,[h,h.data,h.datapoints]);for(c=0;c<l.length;++c){h=l[c];var u=h.data,v=h.datapoints.format;v||(v=[],v.push({x:!0,number:!0,required:!0}),v.push({y:!0,number:!0,required:!0}),h.bars.show&&v.push({y:!0,number:!0,required:!1,defaultValue:0}),h.datapoints.format=v);if(h.datapoints.pointsize!=null)continue;h.datapoints.pointsize==null&&(h.datapoints.pointsize=v.length),j=h.datapoints.pointsize,i=h.datapoints.points,insertSteps=h.lines.show&&h.lines.steps,h.xaxis.used=h.yaxis.used=!0;for(d=e=0;d<u.length;++d,e+=j){r=u[d];var w=r==null;if(!w)for(f=0;f<j;++f)p=r[f],q=v[f],q&&(q.number&&p!=null&&(p=+p,isNaN(p)&&(p=null)),p==null&&(q.required&&(q.x&&t(h.xaxis,p,p),q.y&&t(h.yaxis,p,p),p=null,w=!0),q.defaultValue!=null&&(p=q.defaultValue))),i[e+f]=p;if(w)for(f=0;f<j;++f)i[e+f]=null;else if(insertSteps&&e>0&&i[e-j]!=null&&i[e-j]!=i[e]&&i[e-j+1]!=i[e+1]){for(f=0;f<j;++f)i[e+j+f]=i[e+f];i[e+1]=i[e-j+1],e+=j}}}for(c=0;c<l.length;++c)h=l[c],B(y.processDatapoints,[h,h.datapoints]);for(c=0;c<l.length;++c){h=l[c],i=h.datapoints.points,j=h.datapoints.pointsize;var x=a,z=a,A=b,C=b;for(d=0;d<i.length;d+=j){if(i[d]==null)continue;for(f=0;f<j;++f){p=i[d+f],q=v[f];if(!q)continue;q.x&&(p<x&&(x=p),p>A&&(A=p)),q.y&&(p<z&&(z=p),p>C&&(C=p))}}if(h.bars.show){var D=h.bars.align=="left"?0:-h.bars.barWidth/2;h.bars.horizontal?(z+=D,C+=D+h.bars.barWidth):(x+=D,A+=D+h.bars.barWidth)}t(h.xaxis,x,A),t(h.yaxis,z,C)}for(o in s)s[o].datamin==a&&(s[o].datamin=null),s[o].datamax==b&&(s[o].datamax=null)}function J(){function c(b,c){var d=document.createElement("canvas");return d.width=b,d.height=c,a.browser.msie&&a.browser.version<9&&(d=window.G_vmlCanvasManager.initElement(d)),d}u=b.width(),v=b.height(),b.html(""),b.css("position")=="static"&&b.css("position","relative");if(u<=0||v<=0)throw"Invalid dimensions for plot, width = "+u+", height = "+v;a.browser.msie&&a.browser.version<9&&window.G_vmlCanvasManager.init_(document),n=a(c(u,v)).appendTo(b).get(0),q=n.getContext("2d"),o=a(c(u,v)).css({position:"absolute",left:0,top:0}).appendTo(b).get(0),r=o.getContext("2d"),r.stroke()}function K(){p=a([o,n]),(m.selection.mode!=null||m.grid.hoverable)&&p.mousemove(bg),m.selection.mode!=null&&p.mousedown(bh),m.grid.clickable&&p.click(bi),B(y.bindEvents,[p])}function L(){function c(a){var b,c;a==s.xaxis||a==s.x2axis?(b=a.scale=w/(a.max-a.min),c=a.min,a.p2c=function(a){return(a-c)*b},a.c2p=function(a){return c+a/b}):(b=a.scale=x/(a.max-a.min),c=a.max,a.p2c=function(a){return(c-a)*b},a.c2p=function(a){return c-a/b})}function d(c,d){var e,f=[],g;c.labelWidth=d.labelWidth,c.labelHeight=d.labelHeight;if(c==s.xaxis||c==s.x2axis){c.labelWidth==null&&(c.labelWidth=u/6);if(c.labelHeight==null){f=[];for(e=0;e<c.ticks.length;++e)g=c.ticks[e].label,g&&f.push('<div class="tickLabel" style="float:left;width:'+c.labelWidth+'px">'+g+"</div>");if(f.length>0){var h=a('<div style="position:absolute;top:-10000px;width:10000px;font-size:smaller">'+f.join("")+'<div style="clear:left"></div></div>').appendTo(b);c.labelHeight=h.height(),h.remove()}}}else if(c.labelWidth==null||c.labelHeight==null){for(e=0;e<c.ticks.length;++e)g=c.ticks[e].label,g&&f.push('<div class="tickLabel">'+g+"</div>");if(f.length>0){var h=a('<div style="position:absolute;top:-10000px;font-size:smaller">'+f.join("")+"</div>").appendTo(b);c.labelWidth==null&&(c.labelWidth=h.width()),c.labelHeight==null&&(c.labelHeight=h.find("div").height()),h.remove()}}c.labelWidth==null&&(c.labelWidth=0),c.labelHeight==null&&(c.labelHeight=0)}function e(){var a=m.grid.borderWidth;for(i=0;i<l.length;++i)a=Math.max(a,2*(l[i].points.radius+l[i].points.lineWidth/2));t.left=t.right=t.top=t.bottom=a;var b=m.grid.labelMargin+m.grid.borderWidth;s.xaxis.labelHeight>0&&(t.bottom=Math.max(a,s.xaxis.labelHeight+b)),s.yaxis.labelWidth>0&&(t.left=Math.max(a,s.yaxis.labelWidth+b)),s.x2axis.labelHeight>0&&(t.top=Math.max(a,s.x2axis.labelHeight+b)),s.y2axis.labelWidth>0&&(t.right=Math.max(a,s.y2axis.labelWidth+b)),w=u-t.left-t.right,x=v-t.bottom-t.top}var f;for(f in s)M(s[f],m[f]);if(m.grid.show){for(f in s)N(s[f],m[f]),O(s[f],m[f]),d(s[f],m[f]);e()}else t.left=t.right=t.top=t.bottom=0,w=u,x=v;for(f in s)c(s[f]);m.grid.show&&S(),Z()}function M(a,b){var c=+(b.min!=null?b.min:a.datamin),d=+(b.max!=null?b.max:a.datamax);if(d-c==0){var e=d==0?1:.01;b.min==null&&(c-=e);if(b.max==null||b.min!=null)d+=e}else{var f=b.autoscaleMargin;f!=null&&(b.min==null&&(c-=(d-c)*f,c<0&&a.datamin!=null&&a.datamin>=0&&(c=0)),b.max==null&&(d+=(d-c)*f,d>0&&a.datamax!=null&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function N(b,d){var e;typeof d.ticks=="number"&&d.ticks>0?e=d.ticks:b==s.xaxis||b==s.x2axis?e=.3*Math.sqrt(u):e=.3*Math.sqrt(v);var f=(b.max-b.min)/e,g,h,i,j,k,l,m;if(d.mode=="time"){var n={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},o=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],p=0;d.minTickSize!=null&&(typeof d.tickSize=="number"?p=d.tickSize:p=d.minTickSize[0]*n[d.minTickSize[1]]);for(k=0;k<o.length-1;++k)if(f<(o[k][0]*n[o[k][1]]+o[k+1][0]*n[o[k+1][1]])/2&&o[k][0]*n[o[k][1]]>=p)break;g=o[k][0],i=o[k][1],i=="year"&&(l=Math.pow(10,Math.floor(Math.log(f/n.year)/Math.LN10)),m=f/n.year/l,m<1.5?g=1:m<3?g=2:m<7.5?g=5:g=10,g*=l),d.tickSize&&(g=d.tickSize[0],i=d.tickSize[1]),h=function(a){var b=[],d=a.tickSize[0],e=a.tickSize[1],f=new Date(a.min),g=d*n[e];e=="second"&&f.setUTCSeconds(c(f.getUTCSeconds(),d)),e=="minute"&&f.setUTCMinutes(c(f.getUTCMinutes(),d)),e=="hour"&&f.setUTCHours(c(f.getUTCHours(),d)),e=="month"&&f.setUTCMonth(c(f.getUTCMonth(),d)),e=="year"&&f.setUTCFullYear(c(f.getUTCFullYear(),d)),f.setUTCMilliseconds(0),g>=n.minute&&f.setUTCSeconds(0),g>=n.hour&&f.setUTCMinutes(0),g>=n.day&&f.setUTCHours(0),g>=n.day*4&&f.setUTCDate(1),g>=n.year&&f.setUTCMonth(0);var h=0,i=Number.NaN,j;do{j=i,i=f.getTime(),b.push({v:i,label:a.tickFormatter(i,a)});if(e=="month")if(d<1){f.setUTCDate(1);var k=f.getTime();f.setUTCMonth(f.getUTCMonth()+1);var l=f.getTime();f.setTime(i+h*n.hour+(l-k)*d),h=f.getUTCHours(),f.setUTCHours(0)}else f.setUTCMonth(f.getUTCMonth()+d);else e=="year"?f.setUTCFullYear(f.getUTCFullYear()+d):f.setTime(i+g)}while(i<a.max&&i!=j);return b},j=function(b,c){var e=new Date(b);if(d.timeformat!=null)return a.plot.formatDate(e,d.timeformat,d.monthNames);var f=c.tickSize[0]*n[c.tickSize[1]],g=c.max-c.min;return f<n.minute?fmt="%h:%M:%S":f<n.day?g<2*n.day?fmt="%h:%M":fmt="%b %d %h:%M":f<n.month?fmt="%b %d":f<n.year?g<n.year?fmt="%b":fmt="%b %y":fmt="%y",a.plot.formatDate(e,fmt,d.monthNames)}}else{var q=d.tickDecimals,r=-Math.floor(Math.log(f)/Math.LN10);q!=null&&r>q&&(r=q),l=Math.pow(10,-r),m=f/l,m<1.5?g=1:m<3?(g=2,m>2.25&&(q==null||r+1<=q)&&(g=2.5,++r)):m<7.5?g=5:g=10,g*=l,d.minTickSize!=null&&g<d.minTickSize&&(g=d.minTickSize),d.tickSize!=null&&(g=d.tickSize),b.tickDecimals=Math.max(0,q!=null?q:r),h=function(a){var b=[],d=c(a.min,a.tickSize),e=0,f=Number.NaN,g;do g=f,f=d+e*a.tickSize,b.push({v:f,label:a.tickFormatter(f,a)}),++e;while(f<a.max&&f!=g);return b},j=function(a,b){return a.toFixed(b.tickDecimals)}}b.tickSize=i?[g,i]:g,b.tickGenerator=h,a.isFunction(d.tickFormatter)?b.tickFormatter=function(a,b){return""+d.tickFormatter(a,b)}:b.tickFormatter=j}function O(b,c){b.ticks=[];if(!b.used)return;if(c.ticks==null)b.ticks=b.tickGenerator(b);else if(typeof c.ticks=="number")c.ticks>0&&(b.ticks=b.tickGenerator(b));else if(c.ticks){var d=c.ticks;a.isFunction(d)&&(d=d({min:b.min,max:b.max}));var e,f;for(e=0;e<d.length;++e){var g=null,h=d[e];typeof h=="object"?(f=h[0],h.length>1&&(g=h[1])):f=h,g==null&&(g=b.tickFormatter(f,b)),b.ticks[e]={v:f,label:g}}}c.autoscaleMargin!=null&&b.ticks.length>0&&(c.min==null&&(b.min=Math.min(b.min,b.ticks[0].v)),c.max==null&&b.ticks.length>1&&(b.max=Math.min(b.max,b.ticks[b.ticks.length-1].v)))}function P(){m.grid.show&&R();for(var a=0;a<l.length;++a)T(l[a]);B(y.draw,[q])}function Q(a,b){var c=b+"axis",d=b+"2axis",e,f,g,h;return a[c]?(e=s[c],f=a[c].from,g=a[c].to):a[d]?(e=s[d],f=a[d].from,g=a[d].to):(e=s[c],f=a[b+"1"],g=a[b+"2"]),f!=null&&g!=null&&f>g?{from:g,to:f,axis:e}:{from:f,to:g,axis:e}}function R(){var b;q.save(),q.clearRect(0,0,u,v),q.translate(t.left,t.top),m.grid.backgroundColor&&(q.fillStyle=bz(m.grid.backgroundColor,x,0,"rgba(255, 255, 255, 0)"),q.fillRect(0,0,w,x));var c=m.grid.markings;if(c){a.isFunction(c)&&(c=c({xmin:s.xaxis.min,xmax:s.xaxis.max,ymin:s.yaxis.min,ymax:s.yaxis.max,xaxis:s.xaxis,yaxis:s.yaxis,x2axis:s.x2axis,y2axis:s.y2axis}));for(b=0;b<c.length;++b){var d=c[b],e=Q(d,"x"),f=Q(d,"y");e.from==null&&(e.from=e.axis.min),e.to==null&&(e.to=e.axis.max),f.from==null&&(f.from=f.axis.min),f.to==null&&(f.to=f.axis.max);if(e.to<e.axis.min||e.from>e.axis.max||f.to<f.axis.min||f.from>f.axis.max)continue;e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),f.from=Math.max(f.from,f.axis.min),f.to=Math.min(f.to,f.axis.max);if(e.from==e.to&&f.from==f.to)continue;e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),f.from=f.axis.p2c(f.from),f.to=f.axis.p2c(f.to),e.from==e.to||f.from==f.to?(q.strokeStyle=d.color||m.grid.markingsColor,q.beginPath(),q.lineWidth=d.lineWidth||m.grid.markingsLineWidth,q.moveTo(e.from,f.from),q.lineTo(e.to,f.to),q.stroke()):(q.fillStyle=d.color||m.grid.markingsColor,q.fillRect(e.from,f.to,e.to-e.from,f.from-f.to))}}q.lineWidth=1,q.strokeStyle=m.grid.tickColor,q.beginPath();var g,h=s.xaxis;for(b=0;b<h.ticks.length;++b){g=h.ticks[b].v;if(g<=h.min||g>=s.xaxis.max)continue;q.moveTo(Math.floor(h.p2c(g))+q.lineWidth/2,0),q.lineTo(Math.floor(h.p2c(g))+q.lineWidth/2,x)}h=s.yaxis;for(b=0;b<h.ticks.length;++b){g=h.ticks[b].v;if(g<=h.min||g>=h.max)continue;q.moveTo(0,Math.floor(h.p2c(g))+q.lineWidth/2),q.lineTo(w,Math.floor(h.p2c(g))+q.lineWidth/2)}h=s.x2axis;for(b=0;b<h.ticks.length;++b){g=h.ticks[b].v;if(g<=h.min||g>=h.max)continue;q.moveTo(Math.floor(h.p2c(g))+q.lineWidth/2,-5),q.lineTo(Math.floor(h.p2c(g))+q.lineWidth/2,5)}h=s.y2axis;for(b=0;b<h.ticks.length;++b){g=h.ticks[b].v;if(g<=h.min||g>=h.max)continue;q.moveTo(w-5,Math.floor(h.p2c(g))+q.lineWidth/2),q.lineTo(w+5,Math.floor(h.p2c(g))+q.lineWidth/2)}q.stroke();if(m.grid.borderWidth){var i=m.grid.borderWidth;q.lineWidth=i,q.strokeStyle=m.grid.borderColor,q.strokeRect(-i/2,-i/2,w+i,x+i)}q.restore()}function S(){function c(b,c){for(var d=0;d<b.ticks.length;++d){var e=b.ticks[d];if(!e.label||e.v<b.min||e.v>b.max)continue;a.push(c(e,b))}}b.find(".tickLabels").remove();var a=['<div class="tickLabels" style="font-size:smaller;color:'+m.grid.color+'">'],d=m.grid.labelMargin+m.grid.borderWidth;c(s.xaxis,function(a,b){return'<div style="position:absolute;bottom:0px;left:'+Math.round(t.left+b.p2c(a.v)-b.labelWidth/2)+"px;width:"+b.labelWidth+'px;text-align:center" class="tickLabel">'+a.label+"</div>"}),c(s.yaxis,function(a,b){return'<div style="position:absolute;top:'+Math.round(t.top+b.p2c(a.v)-b.labelHeight/2)+"px;right:"+(t.right+w+d)+"px;width:"+b.labelWidth+'px;text-align:right" class="tickLabel">'+a.label+"</div>"}),c(s.x2axis,function(a,b){return'<div style="position:absolute;bottom:'+(t.bottom+x+d)+"px;left:"+Math.round(t.left+b.p2c(a.v)-b.labelWidth/2)+"px;width:"+b.labelWidth+'px;text-align:center" class="tickLabel">'+a.label+"</div>"}),c(s.y2axis,function(a,b){return'<div style="position:absolute;top:'+Math.round(t.top+b.p2c(a.v)-b.labelHeight/2)+"px;left:"+(t.left+w+d)+"px;width:"+b.labelWidth+'px;text-align:left" class="tickLabel">'+a.label+"</div>"}),a.push("</div>"),b.append(a.join(""))}function T(a){a.lines.show&&U(a),a.bars.show&&X(a),a.points.show&&V(a)}function U(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;q.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],m=f[j],n=f[j+1];if(k==null||m==null)continue;if(l<=n&&l<e.min){if(n<e.min)continue;k=(e.min-l)/(n-l)*(m-k)+k,l=e.min}else if(n<=l&&n<e.min){if(l<e.min)continue;m=(e.min-l)/(n-l)*(m-k)+k,n=e.min}if(l>=n&&l>e.max){if(n>e.max)continue;k=(e.max-l)/(n-l)*(m-k)+k,l=e.max}else if(n>=l&&n>e.max){if(l>e.max)continue;m=(e.max-l)/(n-l)*(m-k)+k,n=e.max}if(k<=m&&k<d.min){if(m<d.min)continue;l=(d.min-k)/(m-k)*(n-l)+l,k=d.min}else if(m<=k&&m<d.min){if(k<d.min)continue;n=(d.min-k)/(m-k)*(n-l)+l,m=d.min}if(k>=m&&k>d.max){if(m>d.max)continue;l=(d.max-k)/(m-k)*(n-l)+l,k=d.max}else if(m>=k&&m>d.max){if(k>d.max)continue;n=(d.max-k)/(m-k)*(n-l)+l,m=d.max}(k!=h||l!=i)&&q.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=m,i=n,q.lineTo(d.p2c(m)+b,e.p2c(n)+c)}q.stroke()}function c(a,b,c){var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g,h=0,i=!1;for(var j=e;j<d.length;j+=e){var k=d[j-e],l=d[j-e+1],m=d[j],n=d[j+1];if(i&&k!=null&&m==null){q.lineTo(b.p2c(h),c.p2c(f)),q.fill(),i=!1;continue}if(k==null||m==null)continue;if(k<=m&&k<b.min){if(m<b.min)continue;l=(b.min-k)/(m-k)*(n-l)+l,k=b.min}else if(m<=k&&m<b.min){if(k<b.min)continue;n=(b.min-k)/(m-k)*(n-l)+l,m=b.min}if(k>=m&&k>b.max){if(m>b.max)continue;l=(b.max-k)/(m-k)*(n-l)+l,k=b.max}else if(m>=k&&m>b.max){if(k>b.max)continue;n=(b.max-k)/(m-k)*(n-l)+l,m=b.max}i||(q.beginPath(),q.moveTo(b.p2c(k),c.p2c(f)),i=!0);if(l>=c.max&&n>=c.max){q.lineTo(b.p2c(k),c.p2c(c.max)),q.lineTo(b.p2c(m),c.p2c(c.max)),h=m;continue}if(l<=c.min&&n<=c.min){q.lineTo(b.p2c(k),c.p2c(c.min)),q.lineTo(b.p2c(m),c.p2c(c.min)),h=m;continue}var o=k,p=m;l<=n&&l<c.min&&n>=c.min?(k=(c.min-l)/(n-l)*(m-k)+k,l=c.min):n<=l&&n<c.min&&l>=c.min&&(m=(c.min-l)/(n-l)*(m-k)+k,n=c.min),l>=n&&l>c.max&&n<=c.max?(k=(c.max-l)/(n-l)*(m-k)+k,l=c.max):n>=l&&n>c.max&&l<=c.max&&(m=(c.max-l)/(n-l)*(m-k)+k,n=c.max),k!=o&&(l<=c.min?g=c.min:g=c.max,q.lineTo(b.p2c(o),c.p2c(g)),q.lineTo(b.p2c(k),c.p2c(g))),q.lineTo(b.p2c(k),c.p2c(l)),q.lineTo(b.p2c(m),c.p2c(n)),m!=p&&(n<=c.min?g=c.min:g=c.max,q.lineTo(b.p2c(m),c.p2c(g)),q.lineTo(b.p2c(p),c.p2c(g))),h=Math.max(m,p)}i&&(q.lineTo(b.p2c(h),c.p2c(f)),q.fill())}q.save(),q.translate(t.left,t.top),q.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){q.lineWidth=e,q.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),q.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}q.lineWidth=d,q.strokeStyle=a.color;var g=Y(a.lines,a.color,0,x);g&&(q.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),q.restore()}function V(a){function b(a,b,c,d,e,f,g){var h=a.points,i=a.pointsize;for(var j=0;j<h.length;j+=i){var k=h[j],l=h[j+1];if(k==null||k<f.min||k>f.max||l<g.min||l>g.max)continue;q.beginPath(),q.arc(f.p2c(k),g.p2c(l)+d,b,0,e,!1),c&&(q.fillStyle=c,q.fill()),q.stroke()}}q.save(),q.translate(t.left,t.top);var c=a.lines.lineWidth,d=a.shadowSize,e=a.points.radius;if(c>0&&d>0){var f=d/2;q.lineWidth=f,q.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,f+f/2,Math.PI,a.xaxis,a.yaxis),q.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,f/2,Math.PI,a.xaxis,a.yaxis)}q.lineWidth=c,q.strokeStyle=a.color,b(a.datapoints,e,Y(a.points,a.color),0,2*Math.PI,a.xaxis,a.yaxis),q.restore()}function W(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;k?(s=q=r=!0,p=!1,l=c,m=a,o=b+d,n=b+e,m<l&&(t=m,m=l,l=t,p=!0,q=!1)):(p=q=r=!0,s=!1,l=a+d,m=a+e,n=c,o=b,o<n&&(t=o,o=n,n=t,s=!0,r=!1));if(m<h.min||l>h.max||o<i.min||n>i.max)return;l<h.min&&(l=h.min,p=!1),m>h.max&&(m=h.max,q=!1),n<i.min&&(n=i.min,s=!1),o>i.max&&(o=i.max,r=!1),l=h.p2c(l),n=i.p2c(n),m=h.p2c(m),o=i.p2c(o),g&&(j.beginPath(),j.moveTo(l,n),j.lineTo(l,o),j.lineTo(m,o),j.lineTo(m,n),j.fillStyle=g(n,o),j.fill());if(p||q||r||s)j.beginPath(),j.moveTo(l,n+f),p?j.lineTo(l,o+f):j.moveTo(l,o+f),r?j.lineTo(m,o+f):j.moveTo(m,o+f),q?j.lineTo(m,n+f):j.moveTo(m,n+f),s?j.lineTo(l,n+f):j.moveTo(l,n+f),j.stroke()}function X(a){function b(b,c,d,e,f,g,h){var i=b.points,j=b.pointsize;for(var k=0;k<i.length;k+=j){if(i[k]==null)continue;W(i[k],i[k+1],i[k+2],c,d,e,f,g,h,q,a.bars.horizontal)}}q.save(),q.translate(t.left,t.top),q.lineWidth=a.bars.lineWidth,q.strokeStyle=a.color;var c=a.bars.align=="left"?0:-a.bars.barWidth/2,d=a.bars.fill?function(b,c){return Y(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,0,d,a.xaxis,a.yaxis),q.restore()}function Y(a,b,c,d){var e=a.fill;if(!e)return null;if(a.fillColor)return bz(a.fillColor,c,d,b);var f=h(b);return f.a=typeof e=="number"?e:.4,f.normalize(),f.toString()}function Z(){b.find(".legend").remove();if(!m.legend.show)return;var c=[],d=!1,e=m.legend.labelFormatter,f,j;for(i=0;i<l.length;++i){f=l[i],j=f.label;if(!j)continue;i%m.legend.noColumns==0&&(d&&c.push("</tr>"),c.push("<tr>"),d=!0),e&&(j=e(j,f)),c.push('<td class="legendColorBox"><div style="border:1px solid '+m.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+f.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+j+"</td>")}d&&c.push("</tr>");if(c.length==0)return;var k='<table style="font-size:smaller;color:'+m.grid.color+'">'+c.join("")+"</table>";if(m.legend.container!=null)a(m.legend.container).html(k);else{var n="",o=m.legend.position,p=m.legend.margin;p[0]==null&&(p=[p,p]),o.charAt(0)=="n"?n+="top:"+(p[1]+t.top)+"px;":o.charAt(0)=="s"&&(n+="bottom:"+(p[1]+t.bottom)+"px;"),o.charAt(1)=="e"?n+="right:"+(p[0]+t.right)+"px;":o.charAt(1)=="w"&&(n+="left:"+(p[0]+t.left)+"px;");var q=a('<div class="legend">'+k.replace('style="','style="position:absolute;'+n+";")+"</div>").appendTo(b);if(m.legend.backgroundOpacity!=0){var r=m.legend.backgroundColor;if(r==null){var s;m.grid.backgroundColor&&typeof m.grid.backgroundColor=="string"?s=m.grid.backgroundColor:s=g(q),r=h(s).adjust(null,null,null,1).toString()}var u=q.children();a('<div style="position:absolute;width:'+u.width()+"px;height:"+u.height()+"px;"+n+"background-color:"+r+';"> </div>').prependTo(q).css("opacity",m.legend.backgroundOpacity)}}}function bf(a,b,c){var d=m.grid.mouseActiveRadius,e=d*d+1,f=null,g=!1,h,i;for(var h=0;h<l.length;++h){if(!c(l[h]))continue;var j=l[h],k=j.xaxis,n=j.yaxis,o=j.datapoints.points,p=j.datapoints.pointsize,q=k.c2p(a),r=n.c2p(b),s=d/k.scale,t=d/n.scale;if(j.lines.show||j.points.show)for(i=0;i<o.length;i+=p){var u=o[i],v=o[i+1];if(u==null)continue;if(u-q>s||u-q<-s||v-r>t||v-r<-t)continue;var w=Math.abs(k.p2c(u)-a),x=Math.abs(n.p2c(v)-b),y=w*w+x*x;y<e&&(e=y,f=[h,i/p])}if(j.bars.show&&!f){var z=j.bars.align=="left"?0:-j.bars.barWidth/2,A=z+j.bars.barWidth;for(i=0;i<o.length;i+=p){var u=o[i],v=o[i+1],B=o[i+2];if(u==null)continue;if(l[h].bars.horizontal?q<=Math.max(B,u)&&q>=Math.min(B,u)&&r>=v+z&&r<=v+A:q>=u+z&&q<=u+A&&r>=Math.min(B,v)&&r<=Math.max(B,v))f=[h,i/p]}}}return f?(h=f[0],i=f[1],{datapoint:l[h].datapoints.points.slice(i*p,(i+1)*p),dataIndex:i,series:l[h],seriesIndex:h}):null}function bg(a){_.pageX=a.pageX,_.pageY=a.pageY,m.grid.hoverable&&bj("plothover",_,function(a){return a["hoverable"]!=0}),ba.active&&(b.trigger("plotselecting",[br()]),bv(_))}function bh(b){if(b.which!=1)return;document.body.focus(),document.onselectstart!==undefined&&A.onselectstart==null&&(A.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag!==undefined&&A.ondrag==null&&(A.ondrag=document.ondrag,document.ondrag=function(){return!1}),bu(ba.first,b),_.pageX=null,ba.active=!0,a(document).one("mouseup",bt)}function bi(a){if(bc){bc=!1;return}bj("plotclick",a,function(a){return a["clickable"]!=0})}function bj(a,c,d){var e=p.offset(),f={pageX:c.pageX,pageY:c.pageY},g=c.pageX-e.left-t.left,h=c.pageY-e.top-t.top;s.xaxis.used&&(f.x=s.xaxis.c2p(g)),s.yaxis.used&&(f.y=s.yaxis.c2p(h)),s.x2axis.used&&(f.x2=s.x2axis.c2p(g)),s.y2axis.used&&(f.y2=s.y2axis.c2p(h));var i=bf(g,h,d);i&&(i.pageX=parseInt(i.series.xaxis.p2c(i.datapoint[0])+e.left+t.left),i.pageY=parseInt(i.series.yaxis.p2c(i.datapoint[1])+e.top+t.top));if(m.grid.autoHighlight){for(var j=0;j<bb.length;++j){var k=bb[j];k.auto==a&&(!i||k.series!=i.series||k.point!=i.datapoint)&&bn(k.series,k.point)}i&&bm(i.series,i.datapoint,a)}b.trigger(a,[f,i])}function bk(){bd||(bd=setTimeout(bl,30))}function bl(){bd=null,r.save(),r.clearRect(0,0,u,v),r.translate(t.left,t.top);var a,b;for(a=0;a<bb.length;++a)b=bb[a],b.series.bars.show?bq(b.series,b.point):bp(b.series,b.point);if(ba.show&&by()){r.strokeStyle=h(m.selection.color).scale(null,null,null,.8).toString(),r.lineWidth=1,q.lineJoin="round",r.fillStyle=h(m.selection.color).scale(null,null,null,.4).toString();var c=Math.min(ba.first.x,ba.second.x),d=Math.min(ba.first.y,ba.second.y),e=Math.abs(ba.second.x-ba.first.x),f=Math.abs(ba.second.y-ba.first.y);r.fillRect(c,d,e,f),r.strokeRect(c,d,e,f)}r.restore(),B(y.drawOverlay,[r])}function bm(a,b,c){typeof a=="number"&&(a=l[a]),typeof b=="number"&&(b=a.data[b]);var d=bo(a,b);d==-1?(bb.push({series:a,point:b,auto:c}),bk()):c||(bb[d].auto=!1)}function bn(a,b){a==null&&b==null&&(bb=[],bk()),typeof a=="number"&&(a=l[a]),typeof b=="number"&&(b=a.data[b]);var c=bo(a,b);c!=-1&&(bb.splice(c,1),bk())}function bo(a,b){for(var c=0;c<bb.length;++c){var d=bb[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function bp(a,b){var c=b[0],d=b[1],e=a.xaxis,f=a.yaxis;if(c<e.min||c>e.max||d<f.min||d>f.max)return;var g=a.points.radius+a.points.lineWidth/2;r.lineWidth=g,r.strokeStyle=h(a.color).scale(1,1,1,.5).toString();var i=1.5*g;r.beginPath(),r.arc(e.p2c(c),f.p2c(d),i,0,2*Math.PI,!1),r.stroke()}function bq(a,b){r.lineWidth=a.bars.lineWidth,r.strokeStyle=h(a.color).scale(1,1,1,.5).toString();var c=h(a.color).scale(1,1,1,.5).toString(),d=a.bars.align=="left"?0:-a.bars.barWidth/2;W(b[0],b[1],b[2]||0,d,d+a.bars.barWidth,0,function(){return c},a.xaxis,a.yaxis,r,a.bars.horizontal)}function br(){if(!by())return null;var a=Math.min(ba.first.x,ba.second.x),b=Math.max(ba.first.x,ba.second.x),c=Math.max(ba.first.y,ba.second.y),d=Math.min(ba.first.y,ba.second.y),e={};return s.xaxis.used&&(e.xaxis={from:s.xaxis.c2p(a),to:s.xaxis.c2p(b)}),s.x2axis.used&&(e.x2axis={from:s.x2axis.c2p(a),to:s.x2axis.c2p(b)}),s.yaxis.used&&(e.yaxis={from:s.yaxis.c2p(c),to:s.yaxis.c2p(d)}),s.y2axis.used&&(e.y2axis={from:s.y2axis.c2p(c),to:s.y2axis.c2p(d)}),e}function bs(){var a=br();b.trigger("plotselected",[a]),s.xaxis.used&&s.yaxis.used&&b.trigger("selected",[{x1:a.xaxis.from,y1:a.yaxis.from,x2:a.xaxis.to,y2:a.yaxis.to}])}function bt(a){return document.onselectstart!==undefined&&(document.onselectstart=A.onselectstart),document.ondrag!==undefined&&(document.ondrag=A.ondrag),ba.active=!1,bv(a),by()?(bs(),bc=!0):(b.trigger("plotunselected",[]),b.trigger("plotselecting",[null])),!1}function bu(a,b){var c=p.offset();a.x=d(0,b.pageX-c.left-t.left,w),a.y=d(0,b.pageY-c.top-t.top,x),m.selection.mode=="y"&&(a==ba.first?a.x=0:a.x=w),m.selection.mode=="x"&&(a==ba.first?a.y=0:a.y=x)}function bv(a){if(a.pageX==null)return;bu(ba.second,a),by()?(ba.show=!0,bk()):bw(!0)}function bw(a){ba.show&&(ba.show=!1,bk(),a||b.trigger("plotunselected",[]))}function bx(a,b){var c;m.selection.mode=="y"?(ba.first.x=0,ba.second.x=w):(c=Q(a,"x"),ba.first.x=c.axis.p2c(c.from),ba.second.x=c.axis.p2c(c.to)),m.selection.mode=="x"?(ba.first.y=0,ba.second.y=x):(c=Q(a,"y"),ba.first.y=c.axis.p2c(c.from),ba.second.y=c.axis.p2c(c.to)),ba.show=!0,bk(),b||bs()}function by(){var a=5;return Math.abs(ba.second.x-ba.first.x)>=a&&Math.abs(ba.second.y-ba.first.y)>=a}function bz(a,b,c,d){if(typeof a=="string")return a;var e=q.createLinearGradient(0,c,0,b);for(var f=0,g=a.colors.length;f<g;++f){var i=a.colors[f];e.addColorStop(f/(g-1),typeof i=="string"?i:h(d).scale(i.brightness,i.brightness,i.brightness,i.opacity))}return e}var l=[],m={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{mode:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null},yaxis:{autoscaleMargin:.02},x2axis:{autoscaleMargin:null},y2axis:{autoscaleMargin:.02},series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,color:"#545454",backgroundColor:null,tickColor:"#dddddd",labelMargin:5,borderWidth:2,borderColor:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},selection:{mode:null,color:"#e8cfac"}},n=null,o=null,p=null,q=null,r=null,s={xaxis:{},yaxis:{},x2axis:{},y2axis:{}},t={left:0,right
:0,top:0,bottom:0},u=0,v=0,w=0,x=0,y={processOptions:[],processRawData:[],processDatapoints:[],draw:[],bindEvents:[],drawOverlay:[]},z=this,A={};z.setData=E,z.setupGrid=L,z.draw=P,z.clearSelection=bw,z.setSelection=bx,z.getSelection=br,z.getPlaceholder=function(){return b},z.getCanvas=function(){return n},z.getPlotOffset=function(){return t},z.width=function(){return w},z.height=function(){return x},z.offset=function(){var a=p.offset();return a.left+=t.left,a.top+=t.top,a},z.getData=function(){return l},z.getAxes=function(){return s},z.getOptions=function(){return m},z.highlight=bm,z.unhighlight=bn,z.triggerRedrawOverlay=bk,z.pointOffset=function(a){return{left:parseInt(G(a,"xaxis").p2c(+a.x)+t.left),top:parseInt(G(a,"yaxis").p2c(+a.y)+t.top)}},z.hooks=y,C(z),D(j),J(),E(f),L(),P(),K();var _={pageX:null,pageY:null},ba={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},bb=[],bc=!1,bd=null,be=null}function c(a,b){return b*Math.floor(a/b)}function d(a,b,c){return b<a?a:b>c?c:b}function e(a,b,c,f){var g=["r","g","b","a"],h=4;while(-1<--h)this[g[h]]=arguments[h]||(h==3?1:0);this.toString=function(){return this.a>=1?"rgb("+[this.r,this.g,this.b].join(",")+")":"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"},this.scale=function(a,b,c,d){h=4;while(-1<--h)arguments[h]!=null&&(this[g[h]]*=arguments[h]);return this.normalize()},this.adjust=function(a,b,c,d){h=4;while(-1<--h)arguments[h]!=null&&(this[g[h]]+=arguments[h]);return this.normalize()},this.clone=function(){return new e(this.r,this.b,this.g,this.a)},this.normalize=function(){return this.r=d(0,parseInt(this.r),255),this.g=d(0,parseInt(this.g),255),this.b=d(0,parseInt(this.b),255),this.a=d(0,this.a,1),this},this.normalize()}function g(b){var c,d=b;do{c=d.css("background-color").toLowerCase();if(c!=""&&c!="transparent")break;d=d.parent()}while(!a.nodeName(d.get(0),"body"));return c=="rgba(0, 0, 0, 0)"?"transparent":c}function h(b){var c;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))return new e(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10));if(c=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(b))return new e(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),parseFloat(c[4]));if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))return new e(parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55);if(c=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(b))return new e(parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55,parseFloat(c[4]));if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))return new e(parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16));if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))return new e(parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16));var d=a.trim(b).toLowerCase();return d=="transparent"?new e(255,255,255,0):(c=f[d],new e(c[0],c[1],c[2]))}a.plot=function(c,d,e){var f=new b(a(c),d,e,a.plot.plugins);return f},a.plot.plugins=[],a.plot.formatDate=function(a,b,c){var d=function(a){return a=""+a,a.length==1?"0"+a:a},e=[],f=!1;c==null&&(c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);for(var g=0;g<b.length;++g){var h=b.charAt(g);if(f){switch(h){case"h":h=""+a.getUTCHours();break;case"H":h=d(a.getUTCHours());break;case"M":h=d(a.getUTCMinutes());break;case"S":h=d(a.getUTCSeconds());break;case"d":h=""+a.getUTCDate();break;case"m":h=""+(a.getUTCMonth()+1);break;case"y":h=""+a.getUTCFullYear();break;case"b":h=""+c[a.getUTCMonth()]}e.push(h),f=!1}else h=="%"?f=!0:e.push(h)}return e.join("")};var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(a){function c(a){var b={x:-1,y:-1},c={x1:-1,x2:-1};a.setCrosshair=function d(c){if(!c)b.x=-1;else{var d=a.getAxes();b.x=Math.max(0,Math.min(c.x!=null?d.xaxis.p2c(c.x):d.x2axis.p2c(c.x2),a.width())),b.y=Math.max(0,Math.min(c.y!=null?d.yaxis.p2c(c.y):d.y2axis.p2c(c.y2),a.height()))}a.triggerRedrawOverlay()},a.clearCrosshair=a.setCrosshair,a.setHighlight=function(b){if(!b)c.x1=-1;else{var d=a.getAxes();c.x1=Math.max(0,Math.min(d.xaxis.p2c(b.x1),a.width())),c.x2=Math.max(0,Math.min(d.xaxis.p2c(b.x2),a.width()))}a.triggerRedrawOverlay()},a.clearHighlight=a.setHighlight,a.hooks.drawOverlay.push(function(a,c){var d=a.getOptions().crosshair;if(!d.mode)return;var e=a.getPlotOffset();c.save(),c.translate(e.left,e.top),b.x!=-1&&(c.strokeStyle=d.color,c.lineWidth=2,c.lineJoin="round",c.beginPath(),d.mode.indexOf("x")!=-1&&(c.moveTo(b.x,0),c.lineTo(b.x,a.height())),d.mode.indexOf("y")!=-1&&(c.moveTo(0,b.y),c.lineTo(a.width(),b.y)),c.stroke()),c.restore()}),a.hooks.drawOverlay.push(function(a,b){var d=a.getOptions().highlight,e=a.getPlotOffset();b.save(),b.translate(e.left,e.top),c.x1!=-1&&(b.strokeStyle=d.color,b.lineWidth=2,b.lineJoin="round",b.fillStyle=d.color,b.strokeRect(c.x1-2,-2,c.x2-c.x1+4,a.height()+4)),b.restore()})}var b={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)"},highlight:{color:"rgba(0, 192, 255, 0.60)"}};a.plot.plugins.push({init:c,options:b,name:"wistia",version:"1.0"})}(jQuery),function(a){var b=function(){var b={},c,d=65,e,f='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',g={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},h=function(b,c){var d=O(b);a(c).data("colorpicker").fields.eq(1).val(d.r).end().eq(2).val(d.g).end().eq(3).val(d.b).end()},i=function(b,c){a(c).data("colorpicker").fields.eq(4).val(b.h).end().eq(5).val(b.s).end().eq(6).val(b.b).end()},j=function(b,c){a(c).data("colorpicker").fields.eq(0).val(Q(b)).end()},k=function(b,c){a(c).data("colorpicker").selector.css("backgroundColor","#"+Q({h:b.h,s:100,b:100})),a(c).data("colorpicker").selectorIndic.css({left:parseInt(150*b.s/100,10),top:parseInt(150*(100-b.b)/100,10)})},l=function(b,c){a(c).data("colorpicker").hue.css("top",parseInt(150-150*b.h/360,10))},m=function(b,c){a(c).data("colorpicker").currentColor.css("backgroundColor","#"+Q(b))},n=function(b,c){a(c).data("colorpicker").newColor.css("backgroundColor","#"+Q(b))},o=function(b){var c=b.charCode||b.keyCode||-1;if(c>d&&c<=90||c==32)return!1;var e=a(this).parent().parent();e.data("colorpicker").livePreview===!0&&p.apply(this)},p=function(b){var c=a(this).parent().parent(),d;this.parentNode.className.indexOf("_hex")>0?c.data("colorpicker").color=d=M(K(this.value)):this.parentNode.className.indexOf("_hsb")>0?c.data("colorpicker").color=d=I({h:parseInt(c.data("colorpicker").fields.eq(4).val(),10),s:parseInt(c.data("colorpicker").fields.eq(5).val(),10),b:parseInt(c.data("colorpicker").fields.eq(6).val(),10)}):c.data("colorpicker").color=d=N(J({r:parseInt(c.data("colorpicker").fields.eq(1).val(),10),g:parseInt(c.data("colorpicker").fields.eq(2).val(),10),b:parseInt(c.data("colorpicker").fields.eq(3).val(),10)})),b&&(h(d,c.get(0)),j(d,c.get(0)),i(d,c.get(0))),k(d,c.get(0)),l(d,c.get(0)),n(d,c.get(0)),c.data("colorpicker").onChange.apply(c,[d,Q(d),O(d)])},q=function(b){var c=a(this).parent().parent();c.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},r=function(){d=this.parentNode.className.indexOf("_hex")>0?70:65,a(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),a(this).parent().addClass("colorpicker_focus")},s=function(b){var c=a(this).parent().find("input").focus(),d={el:a(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:b.pageY,field:c,val:parseInt(c.val(),10),preview:a(this).parent().parent().data("colorpicker").livePreview};a(document).bind("mouseup",d,u),a(document).bind("mousemove",d,t)},t=function(a){return a.data.field.val(Math.max(0,Math.min(a.data.max,parseInt(a.data.val+a.pageY-a.data.y,10)))),a.data.preview&&p.apply(a.data.field.get(0),[!0]),!1},u=function(b){return p.apply(b.data.field.get(0),[!0]),b.data.el.removeClass("colorpicker_slider").find("input").focus(),a(document).unbind("mouseup",u),a(document).unbind("mousemove",t),!1},v=function(b){var c={cal:a(this).parent(),y:a(this).offset().top};c.preview=c.cal.data("colorpicker").livePreview,a(document).bind("mouseup",c,x),a(document).bind("mousemove",c,w),b.data=c,w(b)},w=function(a){return p.apply(a.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,a.pageY-a.data.y)))/150,10)).get(0),[a.data.preview]),!1},x=function(b){return h(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),j(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),a(document).unbind("mouseup",x),a(document).unbind("mousemove",w),!1},y=function(b){var c={cal:a(this).parent(),pos:a(this).offset()};c.preview=c.cal.data("colorpicker").livePreview,a(document).bind("mouseup",c,A),a(document).bind("mousemove",c,z),b.data=c,z(b)},z=function(a){return p.apply(a.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,a.pageY-a.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,a.pageX-a.data.pos.left))/150,10)).get(0),[a.data.preview]),!1},A=function(b){return h(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),j(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),a(document).unbind("mouseup",A),a(document).unbind("mousemove",z),!1},B=function(b){a(this).addClass("colorpicker_focus")},C=function(b){a(this).removeClass("colorpicker_focus")},D=function(b){var c=a(this).parent(),d=c.data("colorpicker").color;c.data("colorpicker").origColor=d,m(d,c.get(0)),c.data("colorpicker").onSubmit(d,Q(d),O(d),c.data("colorpicker").el)},E=function(b){var c=a("#"+a(this).data("colorpickerId"));c.data("colorpicker").onBeforeShow.apply(this,[c.get(0)]);var d=a(this).offset(),e=H(),f=d.top+this.offsetHeight,g=d.left;return f+176>e.t+e.h&&(f-=this.offsetHeight+176),g+356>e.l+e.w&&(g-=356),c.css({left:g+"px",top:f+"px"}),c.data("colorpicker").onShow.apply(this,[c.get(0)])!=0&&c.show(),a(document).bind("mousedown",{cal:c},F),!1},F=function(b){G(b.data.cal.get(0),b.target,b.data.cal.get(0))||(b.data.cal.data("colorpicker").onHide.apply(this,[b.data.cal.get(0)])!=0&&b.data.cal.hide(),a(document).unbind("mousedown",F))},G=function(a,b,c){if(a==b)return!0;if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);var d=b.parentNode;while(d&&d!=c){if(d==a)return!0;d=d.parentNode}return!1},H=function(){var a=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(a?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(a?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(a?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(a?document.documentElement.clientHeight:document.body.clientHeight)}},I=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}},J=function(a){return{r:Math.min(255,Math.max(0,a.r)),g:Math.min(255,Math.max(0,a.g)),b:Math.min(255,Math.max(0,a.b))}},K=function(a){var b=6-a.length;if(b>0){var c=[];for(var d=0;d<b;d++)c.push("0");c.push(a),a=c.join("")}return a},L=function(a){var a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&255}},M=function(a){return N(L(a))},N=function(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,d==0,b.s=d!=0?255*e/d:0,b.s!=0?a.r==d?b.h=(a.g-a.b)/e:a.g==d?b.h=2+(a.b-a.r)/e:b.h=4+(a.r-a.g)/e:b.h=-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b},O=function(a){var b={},c=Math.round(a.h),d=Math.round(a.s*255/100),e=Math.round(a.b*255/100);if(d==0)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60;c==360&&(c=0),c<60?(b.r=f,b.b=g,b.g=g+h):c<120?(b.g=f,b.b=g,b.r=f-h):c<180?(b.g=f,b.r=g,b.b=g+h):c<240?(b.b=f,b.r=g,b.g=f-h):c<300?(b.b=f,b.g=g,b.r=g+h):c<360?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}},P=function(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){b.length==1&&(c[a]="0"+b)}),c.join("")},Q=function(a){return P(O(a))},R=function(){var b=a(this).parent(),c=b.data("colorpicker").origColor;b.data("colorpicker").color=c,h(c,b.get(0)),j(c,b.get(0)),i(c,b.get(0)),k(c,b.get(0)),l(c,b.get(0)),n(c,b.get(0))};return{init:function(b){b=a.extend({},g,b||{});if(typeof b.color=="string")b.color=M(b.color);else if(b.color.r!=undefined&&b.color.g!=undefined&&b.color.b!=undefined)b.color=N(b.color);else if(b.color.h!=undefined&&b.color.s!=undefined&&b.color.b!=undefined)b.color=I(b.color);else return this;return this.each(function(){if(!a(this).data("colorpickerId")){var c=a.extend({},b);c.origColor=b.color;var d="collorpicker_"+parseInt(Math.random()*1e3);a(this).data("colorpickerId",d);var e=a(f).attr("id",d);c.flat?e.appendTo(this).show():e.appendTo(document.body),c.fields=e.find("input").bind("keyup",o).bind("change",p).bind("blur",q).bind("focus",r),e.find("span").bind("mousedown",s).end().find(">div.colorpicker_current_color").bind("click",R),c.selector=e.find("div.colorpicker_color").bind("mousedown",y),c.selectorIndic=c.selector.find("div div"),c.el=this,c.hue=e.find("div.colorpicker_hue div"),e.find("div.colorpicker_hue").bind("mousedown",v),c.newColor=e.find("div.colorpicker_new_color"),c.currentColor=e.find("div.colorpicker_current_color"),e.data("colorpicker",c),e.find("div.colorpicker_submit").bind("mouseenter",B).bind("mouseleave",C).bind("click",D),h(c.color,e.get(0)),i(c.color,e.get(0)),j(c.color,e.get(0)),l(c.color,e.get(0)),k(c.color,e.get(0)),m(c.color,e.get(0)),n(c.color,e.get(0)),c.flat?e.css({position:"relative",display:"block"}):a(this).bind(c.eventName,E)}})},showPicker:function(){return this.each(function(){a(this).data("colorpickerId")&&E.apply(this)})},hidePicker:function(){return this.each(function(){a(this).data("colorpickerId")&&a("#"+a(this).data("colorpickerId")).hide()})},setColor:function(b){if(typeof b=="string")b=M(b);else if(b.r!=undefined&&b.g!=undefined&&b.b!=undefined)b=N(b);else if(b.h!=undefined&&b.s!=undefined&&b.b!=undefined)b=I(b);else return this;return this.each(function(){if(a(this).data("colorpickerId")){var c=a("#"+a(this).data("colorpickerId"));c.data("colorpicker").color=b,c.data("colorpicker").origColor=b,h(b,c.get(0)),i(b,c.get(0)),j(b,c.get(0)),l(b,c.get(0)),k(b,c.get(0)),m(b,c.get(0)),n(b,c.get(0))}})}}}();a.fn.extend({ColorPicker:b.init,ColorPickerHide:b.hidePicker,ColorPickerShow:b.showPicker,ColorPickerSetColor:b.setColor})}(jQuery),function(a){return a.fn.buttonSelect=function(b){return b=a.extend({title:"Select",onChange:function(){}},b),a(this).each(function(){var c,d,e,f,g,h,i,j,k,l,m;return g=a(this),f=g.children(),g.hide(),l=function(){return a.isFunction(b.title)?b.title.call(g[0]):b.title},c=a("<a href='#' class='button_select'><span class='title'>"+l()+"</span> <span class='arrow'></span></a>"),d=a("<div class='button_select_dd' style='display:none;'></div>"),e=a("<ul></ul>"),f.each(function(){var b,c;return c=a(this),b=a("<li/>").data("val",c.val()),c.attr("data-html")?b.append(a(c.attr("data-html"))):b.html(c.text()),e.append(b),b.click(h)}),d.append(e),g.bind("refresh-title",function(){return c.find(".title").html(l())}),h=function(d){var f,h;d.preventDefault(),f=a(this),h=g.val(),g.val(f.data("val")),e.find("li").removeClass("selected"),f.addClass("selected"),j(),g.val()!==h&&b.onChange.call(g[0]),c.find(".title").html(l())},d.find("li").click(h),k=function(b){return b&&b.preventDefault(),c.addClass("open"),a("body").append(d.show()),d.css({top:c.offset().top+c.outerHeight(),left:c.offset().left}),setTimeout(function(){return a(document).click(j)},1)},i=function(){return c.removeClass("open"),c.after(d.hide())},j=function(){return i(),a(document).unbind("click",j)},m=function(a){return d.is(":visible")?j.call(this,a):k.call(this,a)},d.click(function(){return!1}),c.click(m),g.after(c)})}}(jQuery),function(a){return a.fn.mrBubble=function(b,c){var d;return c=a.extend({"class":"",manual:!1,orientation:"right",padding:20,title:"",toothAnchor:"top",toothBottomCorrection:23,toothOffset:-8,toothOverlapX:0,toothOverlapY:-3,width:300},c),d=a(b).hide(),a(this).each(function(){var b,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;g=a(this),b=f=e=h=x=null,t=function(){a(".help_bubble").each(function(){return a(this).triggerHandler("close")}),o(),p(),i(),u(),j(),b.fadeIn(200),b.trigger("opened-help_bubble",c.title)},o=function(){r(),b=a("<div class='help_bubble help_bubble_orientation_"+c.orientation+" "+c["class"]+"' style='display:none'></div>"),a("body").append(b),c.title&&(f=a("<div class='help_bubble_title'></div>").html(c.title),b.append(f)),e=a("<div class='help_bubble_close'>close</div>"),b.append(e),h=a("<div class='help_bubble_tooth'>&nbsp;</div>"),b.append(h),b.append(d),d.show()},p=function(){var b,d;c.toothAnchor?x=c.toothAnchor:(d=g.offset().top-a(window).scrollTop(),b=a(window).scrollTop()+a(window).height()-g.offset().top,d>b?x="bottom":x="top")},i=function(){c.width&&b.css("width",c.width),c.padding&&(b.css("padding",c.padding),e.css({right:c.padding,top:c.padding,display:"none"})),x==="bottom"?h.css(x,c.toothOffset-c.toothOverlapY):h.css(x,c.toothOffset),c.orientation==="left"?h.css("right",-h.peek("width")):h.css("left",-h.peek("width"))},w=null,j=function(){e.click(k),setTimeout(function(){return a(document).click(l)},1),b.bind("close",r),w=setInterval(v,500)},u=function(){var a,d;x==="top"?c.orientation==="right"?(a=g.offset().left+g.outerWidth()+h.peek("outerWidth")-c.toothOverlapX,d=g.offset().top-c.toothOffset-c.toothOverlapY):(a=g.offset().left-b.peek("outerWidth")-h.peek("outerWidth")+c.toothOverlapX,d=g.offset().top-c.toothOffset-c.toothOverlapY):x==="bottom"&&(c.orientation==="right"?(a=g.offset().left+g.outerWidth()+h.peek("outerWidth")-c.toothOverlapX,d=g.offset().top+g.outerHeight()-b.peek("outerHeight")+c.toothOffset+c.toothOverlapY+c.toothBottomCorrection):(a=g.offset().left-b.peek("outerWidth")-h.peek("outerWidth")+c.toothOverlapX,d=g.offset().top+g.outerHeight()-b.peek("outerHeight")+c.toothOffset+c.toothOverlapY+c.toothBottomCorrection)),b.css({left:a,top:d})},s={top:null,left:null},v=function(){(g.offset().left!==s.left||g.offset().top!==s.top)&&u(),s.left=g.offset().left,s.top=g.offset().top},n=function(g){b&&(clearInterval(w),b.fadeOut(200,function(){return a("body").append(d),d.hide(),b&&b.remove(),b=f=e=null}),b.trigger("closed-help_bubble",c.title))},r=function(){b&&(clearInterval(w),b.hide(),a("body").append(d),d.hide(),b&&b.remove(),b.trigger("closed-help_bubble",c.title),b=f=e=null)},m=function(a){a.preventDefault(),b?n():t()},l=function(b){var c;c=a(b.srcElement||b.target);if(c.closest(".help_bubble").length>0||c.closest(g[0]).length>0)return;n(),a(document).unbind("click",l)},k=function(a){a.preventDefault(),n()},q=function(){c.manual?t():g.click(m)},q()})},a.fn.mrIssue=function(b,c){return c==null&&(c={}),c=a.extend({manual:!0,padding:"6px 20px",width:220,"class":"mr_issues"},c),a(this).mrBubble(b,c)},a(document).ready(function(){var b;return b=function(){var b;b=a(this),b.mrBubble(b.attr("data-help-bubble"),{title:b.attr("title"),orientation:b.attr("data-help-bubble-orientation"),toothAnchor:b.attr("data-help-bubble-tooth-anchor"),width:b.attr("data-help-bubble-width")})},a("[data-help-bubble]").livequery(b)})}(jQuery),function(a){return a.fn.label=function(){var b,c;return b=a(this),(c=a("label[for='"+b.attr("id")+"']:first")).length?c:(c=b.closest("label")).length?c:null},a.fn.statebox=function(b){return b=a.extend({checkedText:"On",checkedClass:"statebox_checked",uncheckedText:"Off",uncheckedClass:"statebox_unchecked",textClass:"statebox_text"},b),a(this).each(function(){var c,d,e,f;c=a(this),d=c.label();if(!c.is(":checkbox")||!d)return;e=a("<span class='"+b.textClass+"'></span>"),d.append(e),f=function(){c.is(":checked")?(d.addClass(b.checkedClass).removeClass(b.uncheckedClass),e.text(b.checkedText)):(d.removeClass(b.checkedClass).addClass(b.uncheckedClass),e.text(b.uncheckedText))},c.click(f),f()})}}(jQuery),function(a){a.fn.peek=function(b){function h(){var b=a(this);b.data(g+"-visibility",b.css("visibility")),b.data(g+"-display",b.css("display"))}function i(){a(this).css({visibility:"hidden"}).show()}function j(){var b=a(this);b.css({display:b.data(g+"-display"),visibility:b.data(g+"-visibility")}),b.removeData(g+"-display"),b.removeData(g+"-visibility")}var c,d,e=arguments,f=Array.prototype.slice,g="peek"+Math.floor(Math.random()*999999);return!a.isFunction(b)&&a.isFunction(a.fn[b])&&(b=a.fn[b]),a(this).each(function(){var g=a(this),k=g.parents(":hidden").andSelf();k.each(h).each(i),b&&(c=b.apply(g,f.call(e,1)),d===undefined&&c!==undefined&&(d=c)),k.each(j)}),d!==undefined?d:a(this)}}(jQuery),function(a){var b,c,d;return d=function(b){var c,d,e,f,g,h,i;d=a(b),g=d.find(":not(iframe)").andSelf().contents().filter(function(){return this.nodeType===3});for(h=0,i=g.length;h<i;h++)f=g[h],a.trim(f.textContent)&&a(f).wrap("<span class='text_node'></span>");return e=a([]),c=a("<div>"),d.find(".text_node:visible").each(function(){var b,d,f,g,h;return b=a(this),d=b.html(),g=b.text().split(/\s+/),h=function(){var a,b,d;d=[];for(a=0,b=g.length;a<b;a++)f=g[a],d.push(f?"<span class='nth_word'>"+c.text(f).html()+"</span>":"");return d}().join(" "),b.data("saved-html",d).html(h),e=e.add(b)}),e},b=function(b){return a(b).each(function(){var b;return b=a(this),b.html(b.data("saved-html")),b.removeData("saved-html"),b.contents().unwrap()})},a.fn.nthWordDimensions=function(c){var e,f,g,h;return g=a(this),f=d(g),c==="last"?e=g.find(".nth_word:last"):c==="first"?e=g.find(".nth_word:first"):e=g.find(".nth_word:eq("+c+")"),e.length?h={top:e.offset().top,right:e.offset().left+e.width(),bottom:e.offset().top+e.height(),left:e.offset().left,width:e.width(),height:e.height()}:h={top:0,right:0,bottom:0,left:0,width:0,height:0},b(f),h},a.fn.nthLineDimensions=function(c){var e,f,g,h,i,j,k,l;return i=a(this),h=d(i),j=i.find(".nth_word"),k=1e6,g=null,j.each(function(){var b;return b=a(this),b.text()&&(b.offset().left<k||g&&b.offset().left===k&&b.offset().top>=g.offset().top+g.height()||g.width()>=i.width()&&g.height()>=b.height()*2)&&(b.addClass("first_in_line"),g&&g.addClass("last_in_line"),k=b.offset().left),g=b}),j.filter(":last").addClass("last_in_line"),c==="first"?e=i.find(".first_in_line:first"):c==="last"?e=i.find(".first_in_line:last"):e=i.find(".first_in_line:eq("+c+")"),e.is(".last_in_line")?f=e:f=e.nextAll(".last_in_line:first"),e.length?l={top:e.offset().top,right:f.offset().left+f.width(),bottom:e.offset().top+e.height(),left:e.offset().left,width:f.offset().left+f.width()-e.offset().left,height:e.height()}:l={top:i.offset().top,right:i.offset().left,bottom:i.offset().top,left:i.offset().left,width:0,height:0},b(h),l},c=function(a){var b,c,d,e,f,g,h;if(!a||!a.length)return null;f={},e=a[0],d=1;for(c=g=0,h=a.length;0<=h?g<h:g>h;c=0<=h?++g:--g)b=a[c],f[b]?f[b]++:f[b]=1,f[b]>d&&(e=b,d=f[b]);return e}}(jQuery),function(a){return a.fn.flashText=function(b,c){return c==null&&(c={}),a(this).each(function(){var d;return d=a(this),c=a.extend({time:1e3,revertTo:d.text()},c),d.text(b),clearTimeout(this.revertTimeout),this.revertTimeout=setTimeout(function(){return d.text(c.revertTo)},c.time)})}}(jQuery),function(a){"use strict",a.fn.example=function(b,c){var d=a.isFunction(b),e=a.extend({},c,{example:b});return this.each(function(){var b,c,f=a(this);a.metadata?b=a.extend({},a.fn.example.defaults,f.metadata(),e):b=a.extend({},a.fn.example.defaults,e),c=function(){a(this).find("."+b.className).val("")},a.fn.example.boundClassNames[b.className]||(a(window).bind("unload.example",function(){a("."+b.className).val("")}),a.fn.on?a("body").on("submit.example","form",c):a.fn.delegate?a("body").delegate("form","submit.example",c):a.fn.live?a("form").live("submit.example",c):a("form").bind("submit.example",c),a.fn.example.boundClassNames[b.className]=!0),f.val()!==this.defaultValue&&(d||f.val()===b.example)&&f.val(this.defaultValue),f.val()===""&&!f.is(":focus")&&f.addClass(b.className).val(d?b.example.call(this):b.example),f.bind("focus.example",function(){a(this).is("."+b.className)&&a(this).val("").removeClass(b.className)}).bind("change.example",function(){a(this).is("."+b.className)&&a(this).removeClass(b.className)}).bind("blur.example",function(){a(this).val()===""&&a(this).addClass(b.className).val(d?b.example.call(this):b.example)})})},a.fn.example.defaults={className:"example"},a.fn.example.boundClassNames=[]}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c:jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}}),function(a,b){function c(a,b,c){var d=k[b.type]||{};return a==null?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=i(),d=c._rgba=[];return b=b.toLowerCase(),o(h,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";if(h)return f=c[i](h),c[j[i].cache]=f[j[i].cache],d=c._rgba=f._rgba,!1}),d.length?(d.join()==="0,0,0,0"&&a.extend(d,n.transparent),c):n[b]}function e(a,b,c){return c=(c+1)%1,c*6<1?a+(b-a)*c*6:c*2<1?b:c*3<2?a+(b-a)*(2/3-c)*6:a}var f="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1]*2.55,a[2]*2.55,a[3]*2.55,a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],i=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},j={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=i.support={},m=a("<p>")[0],n,o=a.each;m.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=m.style.backgroundColor.indexOf("rgba")>-1,o(j,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),i.fn=a.extend(i.prototype,{parse:function(e,f,g,h){if(e===b)return this._rgba=[null,null,null,null],this;if(e.jquery||e.nodeType)e=a(e).css(f),f=b;var k=this,l=a.type(e),m=this._rgba=[];f!==b&&(e=[e,f,g,h],l="array");if(l==="string")return this.parse(d(e)||n._default);if(l==="array")return o(j.rgba.props,function(a,b){m[b.idx]=c(e[b.idx],b)}),this;if(l==="object")return e instanceof i?o(j,function(a,b){e[b.cache]&&(k[b.cache]=e[b.cache].slice())}):o(j,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!k[f]&&d.to){if(a==="alpha"||e[a]==null)return;k[f]=d.to(k._rgba)}k[f][b.idx]=c(e[a],b,!0)}),k[f]&&a.inArray(null,k[f].slice(0,3))<0&&(k[f][3]=1,d.from&&(k._rgba=d.from(k[f])))}),this},is:function(a){var b=i(a),c=!0,d=this;return o(j,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props
,function(a,b){if(g[b.idx]!=null)return c=g[b.idx]===f[b.idx],c})),c}),c},_space:function(){var a=[],b=this;return o(j,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=i(a),e=d._space(),f=j[e],g=this.alpha()===0?i("transparent"):this,h=g[f.cache]||f.to(g._rgba),l=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],i=d[f],j=k[e.type]||{};if(i===null)return;g===null?l[f]=i:(j.mod&&(i-g>j.mod/2?g+=j.mod:g-i>j.mod/2&&(g-=j.mod)),l[f]=c((i-g)*b+g,e))}),this[e](l)},blend:function(b){if(this._rgba[3]===1)return this;var c=this._rgba.slice(),d=c.pop(),e=i(b)._rgba;return i(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});return c[3]===1&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return a==null&&(a=b>2?1:0),b&&b<3&&(a=Math.round(a*100)+"%"),a});return c[3]===1&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(d*255)),"#"+a.map(c,function(a){return a=(a||0).toString(16),a.length===1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,j.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=i*.5,k,l;return g===f?k=0:b===f?k=60*(c-d)/h+360:c===f?k=60*(d-b)/h+120:k=60*(b-c)/h+240,h===0?l=0:j<=.5?l=h/i:l=h/(2-i),[Math.round(k)%360,l,j,e==null?1:e]},j.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=d<=.5?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(e(h,g,b+1/3)*255),Math.round(e(h,g,b)*255),Math.round(e(h,g,b-1/3)*255),f]},o(j,function(d,e){var f=e.props,h=e.cache,j=e.to,k=e.from;i.fn[d]=function(d){j&&!this[h]&&(this[h]=j(this._rgba));if(d===b)return this[h].slice();var e,g=a.type(d),l=g==="array"||g==="object"?d:arguments,m=this[h].slice();return o(f,function(a,b){var d=l[g==="object"?a:b.idx];d==null&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=i(k(m)),e[h]=m,e):i(m)},o(f,function(b,c){if(i.fn[b])return;i.fn[b]=function(e){var f=a.type(e),h=b==="alpha"?this._hsla?"hsla":"rgba":d,i=this[h](),j=i[c.idx],k;return f==="undefined"?j:(f==="function"&&(e=e.call(this,j),f=a.type(e)),e==null&&c.empty?this:(f==="string"&&(k=g.exec(e),k&&(e=j+parseFloat(k[2])*(k[1]==="+"?1:-1))),i[c.idx]=e,this[h](i)))}})}),i.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if(e!=="transparent"&&(a.type(e)!=="string"||(f=d(e)))){e=i(f||e);if(!l.rgba&&e._rgba[3]!==1){g=c==="backgroundColor"?b.parentNode:b;while((h===""||h==="transparent")&&g&&g.style)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(j){}e=e.blend(h&&h!=="transparent"?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(j){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=i(b.elem,c),b.end=i(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},i.hook(f),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},n=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return dI.apply(null,arguments)}function b(a){dI=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return bC(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),dK.length>0)for(c in dK)d=dK[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),dL===!1&&(dL=!0,a.updateOffset(this),dL=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!dM[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=dJ._abbr,require("./locale/"+a),w(b)}catch(c){}return dM[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(dJ=c)),dJ._abbr}function x(a,b){return null!==b?(b.abbr=a,dM[a]=dM[a]||new s,dM[a].set(b),w(a),dM[a]):(delete dM[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return dJ;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();dN[c]=dN[c+"s"]=dN[b]=a}function A(a){return"string"==typeof a?dN[a]||dN[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(dR[a]=e),b&&(dR[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(dR[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(dO);for(b=0,c=d.length;c>b;b++)dR[d[b]]?d[b]=dR[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),dQ[b]=dQ[b]||J(b),dQ[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(dP.lastIndex=0;d>=0&&dP.test(a);)a=a.replace(dP,c),dP.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){ee[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(ee,a)?ee[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)ef[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(ef,a)&&ef[a](b,c._a,c,a)}function T(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[eh]<0||c[eh]>11?eh:c[ei]<1||c[ei]>T(c[eg],c[eh])?ei:c[ej]<0||c[ej]>24||24===c[ej]&&(0!==c[ek]||0!==c[el]||0!==c[em])?ej:c[ek]<0||c[ek]>59?ek:c[el]<0||c[el]>59?el:c[em]<0||c[em]>999?em:-1,j(a)._overflowDayOfYear&&(eg>b||b>ei)&&(b=ei),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function ba(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function bb(a,b){ep[a]||(_(b),ep[a]=!0)}function bc(a){var b,c,d=a._i,e=eq.exec(d);if(e){for(j(a).iso=!0,b=0,c=er.length;c>b;b++)if(er[b][1].exec(d)){a._f=er[b][0];break}for(b=0,c=es.length;c>b;b++)if(es[b][1].exec(d)){a._f+=(e[6]||" ")+es[b][0];break}d.match(eb)&&(a._f+="Z"),bv(a)}else a._isValid=!1}function bd(b){var c=et.exec(b._i);return null!==c?void (b._d=new Date(+c[1])):(bc(b),void (b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function be(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function bf(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function bg(a){return bh(a)?366:365}function bh(a){return a%4===0&&a%100!==0||a%400===0}function bi(){return bh(this.year())}function bj(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=bD(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function bk(a){return bj(a,this._week.dow,this._week.doy).week}function bl(){return this._week.dow}function bm(){return this._week.doy}function bn(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function bo(a){var b=bj(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function bp(a,b,c,d,e){var f,g=6+e-d,h=bf(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:bg(a-1)+f}}function bq(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function br(a,b,c){return null!=a?a:null!=b?b:c}function bs(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function bt(a){var b,c,d,e,f=[];if(!a._d){for(d=bs(a),a._w&&null==a._a[ei]&&null==a._a[eh]&&bu(a),a._dayOfYear&&(e=br(a._a[eg],d[eg]),a._dayOfYear>bg(e)&&(j(a)._overflowDayOfYear=!0),c=bf(e,0,a._dayOfYear),a._a[eh]=c.getUTCMonth(),a._a[ei]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ej]&&0===a._a[ek]&&0===a._a[el]&&0===a._a[em]&&(a._nextDay=!0,a._a[ej]=0),a._d=(a._useUTC?bf:be).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ej]=24)}}function bu(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=br(b.GG,a._a[eg],bj(bD(),1,4).year),d=br(b.W,1),e=br(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=br(b.gg,a._a[eg],bj(bD(),f,g).year),d=br(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=bp(c,d,e,g,f),a._a[eg]=h.year,a._dayOfYear=h.dayOfYear}function bv(b){if(b._f===a.ISO_8601)return void bc(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(dO)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),dR[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ej]<=12&&b._a[ej]>0&&(j(b).bigHour=void 0),b._a[ej]=bw(b._locale,b._a[ej],b._meridiem),bt(b),$(b)}function bw(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function bx(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void (a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],bv(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function by(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],bt(a)}}function bz(a){var b=new n($(bA(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function bA(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?bx(a):e?bv(a):d(b)?a._d=b:bB(a),a))}function bB(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?bd(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),bt(b)):"object"==typeof f?by(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function bC(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,bz(f)}function bD(a,b,c,d){return bC(a,b,c,d,!1)}function bE(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return bD();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function bF(){var a=[].slice.call(arguments,0);return bE("isBefore",a)}function bG(){var a=[].slice.call(arguments,0);return bE("isAfter",a)}function bH(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function bI(a){return a instanceof bH}function bJ(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function bK(a){var b=(a||"").match(eb)||[],c=b[b.length-1]||[],d=(c+"").match(ey)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function bL(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+bD(b))- +e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):bD(b).local()}function bM(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function bN(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=bK(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=bM(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?cb(this,bY(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:bM(this)}function bO(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function bP(a){return this.utcOffset(0,a)}function bQ(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(bM(this),"m")),this}function bR(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(bK(this._i)),this}function bS(a){return a=a?bD(a).utcOffset():0,(this.utcOffset()-a)%60===0}function bT(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function bU(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=bA(a),a._a){var b=a._isUTC?h(a._a):bD(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function bV(){return!this._isUTC}function bW(){return this._isUTC}function bX(){return this._isUTC&&0===this._offset}function bY(a,b){var c,d,e,g=a,h=null;return bI(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ez.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[ei])*c,h:q(h[ej])*c,m:q(h[ek])*c,s:q(h[el])*c,ms:q(h[em])*c}):(h=eA.exec(a))?(c="-"===h[1]?-1:1,g={y:bZ(h[2],c),M:bZ(h[3],c),d:bZ(h[4],c),h:bZ(h[5],c),m:bZ(h[6],c),s:bZ(h[7],c),w:bZ(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=b_(bD(g.from),bD(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new bH(g),bI(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function bZ(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function b$(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b- +a.clone().add(c.months,"M"),c}function b_(a,b){var c;return b=bL(b,a),a.isBefore(b)?c=b$(a,b):(c=b$(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ca(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(bb(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=bY(c,d),cb(this,e,a),this}}function cb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cc(a,b){var c=a||bD(),d=bL(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,bD(c)))}function cd(){return new n(this)}function ce(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:bD(a),+this>+a):(c=o(a)?+a:+bD(a),c<+this.clone().startOf(b))}function cf(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:bD(a),+a>+this):(c=o(a)?+a:+bD(a),+this.clone().endOf(b)<c)}function cg(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function ch(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:bD(a),+this===+a):(c=+bD(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ci(a,b,c){var d,e,f=bL(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=cj(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function cj(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ck(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cl(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function cm(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function cn(a,b){return this.isValid()?bY({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function co(a){return this.from(bD(),a)}function cp(a,b){return this.isValid()?bY({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function cq(a){return this.to(bD(),a)}function cr(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function cs(){return this._locale}function ct(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function cu(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function cv(){return+this._d-6e4*(this._offset||0)}function cw(){return Math.floor(+this/1e3)}function cx(){return this._offset?new Date(+this):this._d}function cy(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function cz(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function cA(){return k(this)}function cB(){return g({},j(this))}function cC(){return j(this).overflow}function cD(a,b){H(0,[a,a.length],0,b)}function cE(a,b,c){return bj(bD([a,11,31+b-c]),b,c).week}function cF(a){var b=bj(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function cG(a){var b=bj(this,1,4).year;return null==a?b:this.add(a-b,"y")}function cH(){return cE(this.year(),1,4)}function cI(){var a=this.localeData()._week;return cE(this.year(),a.dow,a.doy)}function cJ(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function cK(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function cL(a){return this._weekdays[a.day()]}function cM(a){return this._weekdaysShort[a.day()]}function cN(a){return this._weekdaysMin[a.day()]}function cO(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=bD([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function cP(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=cK(a,this.localeData()),this.add(a-b,"d")):b}function cQ(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function cR(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function cS(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function cT(a,b){return b._meridiemParse}function cU(a){return"p"===(a+"").toLowerCase().charAt(0)}function cV(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function cW(a,b){b[em]=q(1e3*("0."+a))}function cX(){return this._isUTC?"UTC":""}function cY(){return this._isUTC?"Coordinated Universal Time":""}function cZ(a){return bD(1e3*a)}function c$(){return bD.apply(null,arguments).parseZone()}function c_(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function da(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function db(){return this._invalidDate}function dc(a){return this._ordinal.replace("%d",a)}function dd(a){return a}function de(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function df(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dg(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function dh(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function di(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return dh(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=dh(a,f,c,e);return g}function dj(a,b){return di(a,b,"months",12,"month")}function dk(a,b){return di(a,b,"monthsShort",12,"month")}function dl(a,b){return di(a,b,"weekdays",7,"day")}function dm(a,b){return di(a,b,"weekdaysShort",7,"day")}function dn(a,b){return di(a,b,"weekdaysMin",7,"day")}function dp(){var a=this._data;return this._milliseconds=eX(this._milliseconds),this._days=eX(this._days),this._months=eX(this._months),a.milliseconds=eX(a.milliseconds),a.seconds=eX(a.seconds),a.minutes=eX(a.minutes),a.hours=eX(a.hours),a.months=eX(a.months),a.years=eX(a.years),this}function dq(a,b,c,d){var e=bY(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function dr(a,b){return dq(this,a,b,1)}function ds(a,b){return dq(this,a,b,-1)}function dt(a){return 0>a?Math.floor(a):Math.ceil(a)}function du(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*dt(dw(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(dv(g)),h+=e,g-=dt(dw(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function dv(a){return 4800*a/146097}function dw(a){return 146097*a/4800}function dx(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+dv(b),"month"===a?c:c/12;switch(b=this._days+Math.round(dw(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function dy(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function dz(a){return function(){return this.as(a)}}function dA(a){return a=A(a),this[a+"s"]()}function dB(a){return function(){return this._data[a]}}function dC(){return p(this.days()/7)}function dD(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function dE(a,b,c){var d=bY(a).abs(),e=fl(d.as("s")),f=fl(d.as("m")),g=fl(d.as("h")),h=fl(d.as("d")),i=fl(d.as("M")),j=fl(d.as("y")),k=e<fm.s&&["s",e]||1===f&&["m"]||f<fm.m&&["mm",f]||1===g&&["h"]||g<fm.h&&["hh",g]||1===h&&["d"]||h<fm.d&&["dd",h]||1===i&&["M"]||i<fm.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,dD.apply(null,k)}function dF(a,b){return void 0===fm[a]?!1:void 0===b?fm[a]:(fm[a]=b,!0)}function dG(a){var b=this.localeData(),c=dE(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function dH(){var a,b,c,d=fn(this._milliseconds)/1e3,e=fn(this._days),f=fn(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}"use strict";var dI,dJ,dK=a.momentProperties=[],dL=!1,dM={},dN={},dO=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dP=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,dQ={},dR={},dS=/\d/,dT=/\d\d/,dU=/\d{3}/,dV=/\d{4}/,dW=/[+-]?\d{6}/,dX=/\d\d?/,dY=/\d{1,3}/,dZ=/\d{1,4}/,d$=/[+-]?\d{1,6}/,d_=/\d+/,ea=/[+-]?\d+/,eb=/Z|[+-]\d\d:?\d\d/gi,ec=/[+-]?\d+(\.\d{1,3})?/,ed=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ee={},ef={},eg=0,eh=1,ei=2,ej=3,ek=4,el=5,em=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",dX),N("MM",dX,dT),N("MMM",ed),N("MMMM",ed),Q(["M","MM"],function(a,b){b[eh]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[eh]=e:j(c).invalidMonth=a});var en="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),eo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ep={};a.suppressDeprecationWarnings=!1;var eq=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,er=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],es=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],et=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=ba("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",ea),N("YY",dX,dT),N("YYYY",dZ,dV),N("YYYYY",d$,dW),N("YYYYYY",d$,dW),Q(["YYYYY","YYYYYY"],eg),Q("YYYY",function(b,c){c[eg]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[eg]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var eu=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",dX),N("ww",dX,dT),N("W",dX),N("WW",dX,dT),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ev={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",dY),N("DDDD",dU),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var ew=ba("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=bD.apply(null,arguments);return this>a?this:a}),ex=ba("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=bD.apply(null,arguments);return a>this?this:a});bJ("Z",":"),bJ("ZZ",""),N("Z",eb),N("ZZ",eb),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=bK(a)});var ey=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ez=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,eA=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;bY.fn=bH.prototype;var eB=ca(1,"add"),eC=ca(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var eD=ba("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),cD("gggg","weekYear"),cD("ggggg","weekYear"),cD("GGGG","isoWeekYear"),cD("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",ea),N("g",ea),N("GG",dX,dT),N("gg",dX,dT),N("GGGG",dZ,dV),N("gggg",dZ,dV),N("GGGGG",d$,dW),N("ggggg",d$,dW),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",dS),Q("Q",function(a,b){b[eh]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",dX),N("DD",dX,dT),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],ei),Q("Do",function(a,b){b[ei]=q(a.match(dX)[0],10)
});var eE=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",dX),N("e",dX),N("E",dX),N("dd",ed),N("ddd",ed),N("dddd",ed),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var eF="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),eG="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),eH="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),cS("a",!0),cS("A",!1),z("hour","h"),N("a",cT),N("A",cT),N("H",dX),N("h",dX),N("HH",dX,dT),N("hh",dX,dT),Q(["H","HH"],ej),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[ej]=q(a),j(c).bigHour=!0});var eI=/[ap]\.?m?\.?/i,eJ=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",dX),N("mm",dX,dT),Q(["m","mm"],ek);var eK=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",dX),N("ss",dX,dT),Q(["s","ss"],el);var eL=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",dY,dS),N("SS",dY,dT),N("SSS",dY,dU);var eM;for(eM="SSSS";eM.length<=9;eM+="S")N(eM,d_);for(eM="S";eM.length<=9;eM+="S")Q(eM,cW);var eN=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var eO=n.prototype;eO.add=eB,eO.calendar=cc,eO.clone=cd,eO.diff=ci,eO.endOf=cu,eO.format=cm,eO.from=cn,eO.fromNow=co,eO.to=cp,eO.toNow=cq,eO.get=F,eO.invalidAt=cC,eO.isAfter=ce,eO.isBefore=cf,eO.isBetween=cg,eO.isSame=ch,eO.isValid=cA,eO.lang=eD,eO.locale=cr,eO.localeData=cs,eO.max=ex,eO.min=ew,eO.parsingFlags=cB,eO.set=F,eO.startOf=ct,eO.subtract=eC,eO.toArray=cy,eO.toObject=cz,eO.toDate=cx,eO.toISOString=cl,eO.toJSON=cl,eO.toString=ck,eO.unix=cw,eO.valueOf=cv,eO.year=eu,eO.isLeapYear=bi,eO.weekYear=cF,eO.isoWeekYear=cG,eO.quarter=eO.quarters=cJ,eO.month=Y,eO.daysInMonth=Z,eO.week=eO.weeks=bn,eO.isoWeek=eO.isoWeeks=bo,eO.weeksInYear=cI,eO.isoWeeksInYear=cH,eO.date=eE,eO.day=eO.days=cP,eO.weekday=cQ,eO.isoWeekday=cR,eO.dayOfYear=bq,eO.hour=eO.hours=eJ,eO.minute=eO.minutes=eK,eO.second=eO.seconds=eL,eO.millisecond=eO.milliseconds=eN,eO.utcOffset=bN,eO.utc=bP,eO.local=bQ,eO.parseZone=bR,eO.hasAlignedHourOffset=bS,eO.isDST=bT,eO.isDSTShifted=bU,eO.isLocal=bV,eO.isUtcOffset=bW,eO.isUtc=bX,eO.isUTC=bX,eO.zoneAbbr=cX,eO.zoneName=cY,eO.dates=ba("dates accessor is deprecated. Use date instead.",eE),eO.months=ba("months accessor is deprecated. Use month instead",Y),eO.years=ba("years accessor is deprecated. Use year instead",eu),eO.zone=ba("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",bO);var eP=eO,eQ={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},eR={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},eS="Invalid date",eT="%d",eU=/\d{1,2}/,eV={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},eW=s.prototype;eW._calendar=eQ,eW.calendar=c_,eW._longDateFormat=eR,eW.longDateFormat=da,eW._invalidDate=eS,eW.invalidDate=db,eW._ordinal=eT,eW.ordinal=dc,eW._ordinalParse=eU,eW.preparse=dd,eW.postformat=dd,eW._relativeTime=eV,eW.relativeTime=de,eW.pastFuture=df,eW.set=dg,eW.months=U,eW._months=en,eW.monthsShort=V,eW._monthsShort=eo,eW.monthsParse=W,eW.week=bk,eW._week=ev,eW.firstDayOfYear=bm,eW.firstDayOfWeek=bl,eW.weekdays=cL,eW._weekdays=eF,eW.weekdaysMin=cN,eW._weekdaysMin=eH,eW.weekdaysShort=cM,eW._weekdaysShort=eG,eW.weekdaysParse=cO,eW.isPM=cU,eW._meridiemParse=eI,eW.meridiem=cV,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=ba("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=ba("moment.langData is deprecated. Use moment.localeData instead.",y);var eX=Math.abs,eY=dz("ms"),eZ=dz("s"),e$=dz("m"),e_=dz("h"),fa=dz("d"),fb=dz("w"),fc=dz("M"),fd=dz("y"),fe=dB("milliseconds"),ff=dB("seconds"),fg=dB("minutes"),fh=dB("hours"),fi=dB("days"),fj=dB("months"),fk=dB("years"),fl=Math.round,fm={s:45,m:45,h:22,d:26,M:11},fn=Math.abs,fo=bH.prototype;fo.abs=dp,fo.add=dr,fo.subtract=ds,fo.as=dx,fo.asMilliseconds=eY,fo.asSeconds=eZ,fo.asMinutes=e$,fo.asHours=e_,fo.asDays=fa,fo.asWeeks=fb,fo.asMonths=fc,fo.asYears=fd,fo.valueOf=dy,fo._bubble=du,fo.get=dA,fo.milliseconds=fe,fo.seconds=ff,fo.minutes=fg,fo.hours=fh,fo.days=fi,fo.weeks=dC,fo.months=fj,fo.years=fk,fo.humanize=dG,fo.toISOString=dH,fo.toString=dH,fo.toJSON=dH,fo.locale=cr,fo.localeData=cs,fo.toIsoString=ba("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dH),fo.lang=eD,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",ea),N("X",ec),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",b(bD),a.fn=eP,a.min=bF,a.max=bG,a.utc=h,a.unix=cZ,a.months=dj,a.isDate=d,a.locale=w,a.invalid=l,a.duration=bY,a.isMoment=o,a.weekdays=dl,a.parseZone=c$,a.localeData=y,a.isDuration=bI,a.monthsShort=dk,a.weekdaysMin=dn,a.defineLocale=x,a.weekdaysShort=dm,a.normalizeUnits=A,a.relativeTimeThreshold=dF;var fp=a;return fp}),function(a,b){var c,d;c=function(){function b(a){this.jQuery=a,this.$=this.jQuery}return b.prototype.data=function(b,c){var d=this;return c!=null?(a.obj.get(this._data,b)!==c&&(a.obj.set(this._data,b,c),a.timeout("commit_user_data",function(){return d.commitData()},1e3)),c):b!=null?a.obj.get(this._data,b):this._data},b.prototype.commitData=function(){var a,b=this;if((a=window.WistiaContext)!=null?!a.user:!void 0)return;this.$(function(){return b.$.post("/user/update_data",{user_data:JSON.stringify(b._data)})})},b}(),window.currentUser=new c(b);if((d=window.WistiaContext)!=null?d.user:void 0)return window.currentUser._data=a.extend({},WistiaContext.user.data)}(Wistia,jQuery),function(a){var b;return b=a,window.TourGuide=function(){function a(){this.$el=b("#tour-guide"),this.handleToggle(),this.handleLinks()}return a.prototype.handleToggle=function(){return this.$el.find(".links .tour-guide").click(function(a){var c;c=b(a.target||a.srcElement);if(!c.is(".disabled"))return typeof featureBar!="undefined"&&featureBar!==null?featureBar.toggle():void 0})},a.prototype.activate=function(){return this.$el.find(".links a").addClass("active")},a.prototype.deactivate=function(){return this.$el.find(".links a").removeClass("active")},a.prototype.enable=function(){},a.prototype.disable=function(){return this.$el.find(".links a").addClass("disabled")},a.prototype.openTriangle=function(){return this.$el.find("#triangle").animate({"border-top-width":"12px"},300)},a.prototype.closeTriangle=function(){return this.$el.find("#triangle").animate({"border-top-width":0},300)},a.prototype.hideContext=function(){return this.$el.find(".context").addClass("hidden")},a.prototype.getData=function(a){return a!=null?typeof currentUser!="undefined"&&currentUser!==null?currentUser.data("tourGuide."+a):void 0:typeof currentUser!="undefined"&&currentUser!==null?currentUser.data("tourGuide"):void 0},a.prototype.setData=function(a,b){return typeof currentUser!="undefined"&&currentUser!==null?currentUser.data("tourGuide."+a,b):void 0},a.prototype.handleLinks=function(){return this.$el.find("a").click(function(a){var c;c=b(a.target||a.srcElement);if(c.is(".disabled"))return a.preventDefault()})},a}()}(jQuery),function(a){var b;return b=a,window.FeatureBar=function(){function a(a){var c=this;a==null&&(a={canShowOnInit:!0}),this.$el=b("#feature-bar"),this.name=this.$el.attr("class"),this.videoEmbed=this.$el.find(".video iframe").wistiaApi,this.removeEmptyEls(),this.handleOpen(),this.handleClose(),this.handleBorrowVideo(),setTimeout(function(){if(a.canShowOnInit&&c.shouldShowOnInit())return c.open()},1500)}return a.prototype.height=function(){return this.$el.outerHeight()},a.prototype.open=function(){},a.prototype.close=function(){var a,c=this;return(a=this.videoEmbed)!=null&&a.pause(),typeof currentUser!="undefined"&&currentUser!==null&&currentUser.data("featureBar."+this.name,"closed"),this.$el.animate({top:0},300,function(){return c.$el.hide()}),b(".feature-bar-prompt").show(),typeof tourGuide!="undefined"&&tourGuide!==null&&tourGuide.closeTriangle(),typeof tourGuide!="undefined"&&tourGuide!==null?tourGuide.deactivate():void 0},a.prototype.nextStep=function(){if(this.$el.find(".step-2").length!==0)return this.$el.find(".step-1, .upgrade-text").hide(),this.$el.find(".step-2").show(),this.open()},a.prototype.toggle=function(){return this.$el.css("top")!=="0px"?this.close():this.open()},a.prototype.shouldShowOnInit=function(){return(typeof currentUser!="undefined"&&currentUser!==null?currentUser.data("featureBar."+this.name):void 0)!=="closed"},a.prototype.removeEmptyEls=function(){if(this.$el.find("> .video").html()==="")return this.$el.find("> .video").remove()},a.prototype.handleOpen=function(){var a=this;return b(".feature-bar-prompt").click(function(){return a.open()})},a.prototype.handleClose=function(){var a=this;return this.$el.find("#close-feature-bar").click(function(){return a.close()})},a.prototype.handleBorrowVideo=function(){return this.$el.find("#borrow-video").click(function(a){return b.ajax({url:"/projects/borrow_video",dataType:"json",type:"post",data:{media_id:"tt7s4h3phe"},success:function(a){if(a.error)return statusBar.info(a.error);if(a.redirect_to!==void 0)return window.location.href=a.redirect_to}})})},a}()}(jQuery),function(a,b){a.fn.extend({autocomplete:function(b,c){var d=typeof b=="string";return c=a.extend({},a.Autocompleter.defaults,{url:d?b:null,data:d?null:b,delay:d?a.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10:150},c),c.highlight=c.highlight||function(a){return a},c.formatMatch=c.formatMatch||c.formatItem,this.each(function(){new a.Autocompleter(this,c)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")}}),a.Autocompleter=function(b,c){function n(){var a=l.selected();if(!a)return!1;var b=a.result;g=b;if(c.multiple){var d=p(e.val());d.length>1&&(b=d.slice(0,d.length-1).join(c.multipleSeparator)+c.multipleSeparator+b),b+=c.multipleSeparator}return e.val(b),e.scrollTop(e[0].scrollHeight),t(),e.trigger("result",[a.data,a.value]),!0}function o(a,b){if(j==d.DEL){l.hide();return}var f=e.val();if(!b&&f==g)return;g=f,f=q(f),f.length>=c.minChars?(e.addClass(c.loadingClass),c.matchCase||(f=f.toLowerCase()),v(f,u,t)):(x(),l.hide())}function p(b){if(!b)return[""];var d=b.split(a.trim(c.multipleSeparator)),e=[];return a.each(d,function(b,c){a.trim(c)&&(e[b]=a.trim(c))}),e}function q(a){if(!c.multiple)return a;var b=p(a);return b[b.length-1]}function r(f,h){c.autoFill&&q(e.val()).toLowerCase()==f.toLowerCase()&&j!=d.BACKSPACE&&(e.val(e.val()+h.substring(q(g).length)),a.Autocompleter.Selection(b,g.length,g.length+h.length))}function s(){clearTimeout(f),f=setTimeout(t,200)}function t(){var d=l.visible();l.hide(),clearTimeout(f),x(),c.mustMatch&&e.search(function(a){if(!a)if(c.multiple){var b=p(e.val()).slice(0,-1);e.val(b.join(c.multipleSeparator)+(b.length?c.multipleSeparator:""))}else e.val("")}),d&&a.Autocompleter.Selection(b,b.value.length,b.value.length)}function u(a,b){b&&b.length&&i?(x(),l.display(b,a),r(a,b[0].value),l.show()):t()}function v(d,e,f){c.matchCase||(d=d.toLowerCase());var g=h.load(d);if(g&&g.length)e(d,g);else if(typeof c.url=="string"&&c.url.length>0){var i={timestamp:+(new Date)};a.each(c.extraParams,function(a,b){i[a]=typeof b=="function"?b():b}),a.ajax({mode:"abort",port:"autocomplete"+b.name,dataType:c.dataType||"html",url:c.url,data:a.extend({q:q(d),limit:c.max},i),success:function(a){var b=c.parse&&c.parse(a)||w(a);h.add(d,b),e(d,b)}})}else l.emptyList(),f(d)}function w(b){var d=[],e=b.split("\n");for(var f=0;f<e.length;f++){var g=a.trim(e[f]);g&&(g=g.split("|"),d[d.length]={data:g,value:g[0],result:c.formatResult&&c.formatResult(g,g[0])||g[0]})}return d}function x(){e.removeClass(c.loadingClass)}var d={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},e=a(b).attr("autocomplete","off").addClass(c.inputClass),f,g="",h=a.Autocompleter.Cache(c),i=0,j,k={mouseDownOnSelect:!1},l=a.Autocompleter.Select(c,b,n,k),m;a.browser.opera&&a(b.form).bind("submit.autocomplete",function(){if(m)return m=!1,!1}),e.bind((a.browser.opera?"keypress":"keydown")+".autocomplete",function(b){j=b.keyCode;switch(b.keyCode){case d.UP:c.freeKeyBrowse||b.preventDefault(),l.visible()?(b.preventDefault(),l.prev()):o(0,!0);break;case d.DOWN:c.freeKeyBrowse||b.preventDefault(),l.visible()?(b.preventDefault(),l.next()):o(0,!0);break;case d.PAGEUP:c.freeKeyBrowse||b.preventDefault(),l.visible()?(b.preventDefault(),l.pageUp()):o(0,!0);break;case d.PAGEDOWN:c.freeKeyBrowse||b.preventDefault(),l.visible()?(b.preventDefault(),l.pageDown()):o(0,!0);break;case c.multiple&&a.trim(c.multipleSeparator)==","&&d.COMMA:l.hide();break;case d.TAB:case d.RETURN:if(n())return b.preventDefault(),m=!0,!1;break;case d.ESC:l.hide();break;default:clearTimeout(f),f=setTimeout(o,c.delay)}}).focus(function(){i++}).blur(function(){i=0,k.mouseDownOnSelect||s()}).click(function(){i++>1&&!l.visible()&&o(0,!0)}).bind("search",function(){function c(a,c){var d;if(c&&c.length)for(var f=0;f<c.length;f++)if(c[f].result.toLowerCase()==a.toLowerCase()){d=c[f];break}typeof b=="function"?b(d):e.trigger("result",d&&[d.data,d.value])}var b=arguments.length>1?arguments[1]:null;a.each(p(e.val()),function(a,b){v(b,c,c)})}).bind("flushCache",function(){h.flush()}).bind("setOptions",function(){a.extend(c,arguments[1]),"data"in arguments[1]&&h.populate()}).bind("unautocomplete",function(){l.unbind(),e.unbind(),a(b.form).unbind(".autocomplete")})},a.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(a){return a[0]},formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",freeKeyBrowse:!1,quicksilverStyleFiltering:!1,highlight:function(a,b){var c="",d=0,e="";lower_raw_term=b.toLowerCase();for(var f=0;f<lower_raw_term.length;f++){var g=lower_raw_term.charAt(f);g!=" "&&(e+=g)}for(var h=0;h<a.length;h++){if(a.charAt(h)=="<")while(h<a.length&&a.charAt(h)!=">")c+=a.charAt(h),h++;else if(a.charAt(h)=="&")while(h<a.length&&a.charAt(h)!=";")c+=a.charAt(h),h++;a.charAt(h).toLowerCase()==e.charAt(d)?(c+="<strong>"+a.charAt(h)+"</strong>",d++):c+=a.charAt(h)}return c},scroll:!0,scrollHeight:180},a.Autocompleter.Cache=function(c){function f(a,b){c.matchCase||(a=a.toLowerCase());var d=a.indexOf(b);return d==-1?!1:d==0||c.matchContains}function g(a,b){e>c.cacheLength&&i(),d[a]||e++,d[a]=b}function h(){if(!c.data)return!1;var b={},d=0;c.url||(c.cacheLength=1),b[""]=[];for(var e=0,f=c.data.length;e<f;e++){var h=c.data[e];h=typeof h=="string"?[h]:h;var i=c.formatMatch(h,e+1,c.data.length);if(i===!1)continue;var j=i.charAt(0).toLowerCase();b[j]||(b[j]=[]);var k={value:i,data:h,result:c.formatResult&&c.formatResult(h)||i};b[j].push(k),d++<c.max&&b[""].push(k)}a.each(b,function(a,b){c.cacheLength++,g(a,b)})}function i(){d={},e=0}var d={},e=0;return setTimeout(h,25),{flush:i,add:g,populate:h,load:function(g){if(!c.cacheLength||!e)return null;if(!c.url&&c.matchContains){if(c.quicksilverStyleFiltering&&g.length>15)return[];var h=[],i=[];for(var j in d)if(j.length>0){var k=d[j];a.each(k,function(a,b){if(c.quicksilverStyleFiltering){var d=b.value.toLowerCase().score(g);d>0&&i.push([d,b])}else f(b.value,g)&&h.push(b)})}return c.quicksilverStyleFiltering&&b.each(i.sort(function(a,b){return b[0]-a[0]}),function(){h.push(this[1])}),h}if(d[g])return d[g];if(c.matchSubset)for(var l=g.length-1;l>=c.minChars;l--){var k=d[g.substr(0,l)];if(k){var h=[];return a.each(k,function(a,b){f(b.value,g)&&(h[h.length]=b)}),h}}return null}}},a.Autocompleter.Select=function(b,c,d,e){function n(){if(!k)return;l=a("<div/>").hide().addClass(b.resultsClass).css("position","absolute").appendTo(document.body),m=a("<ul/>").appendTo(l).mouseover(function(b){o(b).nodeName&&o(b).nodeName.toUpperCase()=="LI"&&(h=a("li",m).removeClass(f.ACTIVE).index(o(b)),a(o(b)).addClass(f.ACTIVE))}).click(function(b){return a(o(b)).addClass(f.ACTIVE),d(),c.focus(),!1}).mousedown(function(){e.mouseDownOnSelect=!0}).mouseup(function(){e.mouseDownOnSelect=!1}),b.width>0&&l.css("width",b.width),k=!1}function o(a){var b=a.target;while(b&&b.tagName!="LI")b=b.parentNode;return b?b:[]}function p(a){g.slice(h,h+1).removeClass(f.ACTIVE),q(a);var c=g.slice(h,h+1).addClass(f.ACTIVE);if(b.scroll){var d=0;g.slice(0,h).each(function(){d+=this.offsetHeight}),d+c[0].offsetHeight-m.scrollTop()>m[0].clientHeight?m.scrollTop(d+c[0].offsetHeight-m.innerHeight()):d<m.scrollTop()&&m.scrollTop(d)}}function q(a){h+=a,h<0?h=g.size()-1:h>=g.size()&&(h=0)}function r(a){return b.max&&b.max<a?b.max:a}function s(){m.empty();var c=r(i.length);for(var d=0;d<c;d++){if(!i[d])continue;var e=b.formatItem(i[d].data,d+1,c,i[d].value,j);if(e===!1)continue;var k=a("<li/>").html(b.highlight(e,j)).addClass(d%2==0?"ac_even":"ac_odd").appendTo(m)[0];a.data(k,"ac_data",i[d])}g=m.find("li"),b.selectFirst&&(g.slice(0,1).addClass(f.ACTIVE),h=0),a.fn.bgiframe&&m.bgiframe()}var f={ACTIVE:"ac_over"},g,h=-1,i,j="",k=!0,l,m;return{display:function(a,b){n(),i=a,j=b,s()},next:function(){p(1)},prev:function(){p(-1)},pageUp:function(){h!=0&&h-8<0?p(-h):p(-8)},pageDown:function(){h!=g.size()-1&&h+8>g.size()?p(g.size()-1-h):p(8)},hide:function(){l&&l.hide(),g&&g.removeClass(f.ACTIVE),h=-1},visible:function(){return l&&l.is(":visible")},current:function(){return this.visible()&&(g.filter("."+f.ACTIVE)[0]||b.selectFirst&&g[0])},show:function(){var d=a(c).offset();l.css({width:typeof b.width=="string"||b.width>0?b.width:a(c).innerWidth(),top:d.top+c.offsetHeight,left:d.left}).show();if(b.scroll){m.scrollTop(0),m.css({maxHeight:b.scrollHeight,overflow:"auto"});if(a.browser.msie&&typeof document.body.style.maxHeight=="undefined"){var e=0;g.each(function(){e+=this.offsetHeight});var f=e>b.scrollHeight;m.css("height",f?b.scrollHeight:e),f||g.width(m.width()-parseInt(g.css("padding-left"))-parseInt(g.css("padding-right")))}}},selected:function(){var b=g&&g.filter("."+f.ACTIVE).removeClass(f.ACTIVE);return b&&b.length&&a.data(b[0],"ac_data")},emptyList:function(){m&&m.empty()},unbind:function(){l&&l.remove()}}},a.Autocompleter.Selection=function(a,b,c){if(a.createTextRange){var d=a.createTextRange();d.collapse(!0),d.moveStart("character",b),d.moveEnd("character",c),d.select()}else a.setSelectionRange?a.setSelectionRange(b,c):a.selectionStart&&(a.selectionStart=b,a.selectionEnd=c);a.focus()}}(jQuery,jQuery),function(a){function d(b){if(a.facebox.settings.inited)return!0;a.facebox.settings.inited=!0,a(document).trigger("init.facebox"),g();var c=a.facebox.settings.imageTypes.join("|");a.facebox.settings.imageTypesRegexp=new RegExp(".("+c+")$","i"),b&&a.extend(a.facebox.settings,b),a("body").append(a.facebox.settings.faceboxHtml);var d=[new Image,new Image];d[0].src=a.facebox.settings.closeImage,d[1].src=a.facebox.settings.loadingImage,a("#facebox").find(".b:first, .bl").each(function(){d.push(new Image),d.slice(-1).src=a(this).css("background-image").replace(/url\((.+)\)/,"$1")}),a("#facebox .close").click(a.facebox.close),a("#facebox .close_image").attr("src",a.facebox.settings.closeImage)}function e(){var a,b;return self.pageYOffset?(b=self.pageYOffset,a=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft):document.body&&(b=document.body.scrollTop,a=document.body.scrollLeft),new Array(a,b)}function f(){var a;return self.innerHeight?a=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&(a=document.body.clientHeight),a}function g(){var b=a.facebox.settings;b.loadingImage=b.loading_image||b.loadingImage,b.closeImage=b.close_image||b.closeImage,b.imageTypes=b.image_types||b.imageTypes,b.faceboxHtml=b.facebox_html||b.faceboxHtml}function h(d,e){if(d.match(/#/)){var f=window.location.href.split("#")[0],g=d.replace(f,"");if(g=="#")return;b=a(g),c=b.children(),a.facebox.reveal(c,e)}else d.match(a.facebox.settings.imageTypesRegexp)?i(d,e):j(d,e)}function i(b,c){var d=new Image;d.onload=function(){a.facebox.reveal('<div class="image"><img src="'+d.src+'" /></div>',c)},d.src=b}function j(b,c){a.get(b,function(b){a.facebox.reveal(b,c)},"html")}function k(){return a.facebox.settings.overlay==0||a.facebox.settings.opacity===null}function l(){if(k())return;return a("#facebox_overlay").length==0&&a("body").append('<div id="facebox_overlay" class="facebox_hide"></div>'),a("#facebox_overlay").hide().addClass("facebox_overlayBG").css("opacity",a.facebox.settings.opacity).click(function(){a(document).trigger("close.facebox")}).fadeIn(200),!1}function m(){if(k())return;return a("#facebox_overlay").fadeOut(200,function(){a("#facebox_overlay").removeClass("facebox_overlayBG"),a("#facebox_overlay").addClass("facebox_hide"),a("#facebox_overlay").remove()}),!1}var b,c;a.facebox=function(b,c){a.facebox.loading(),b.ajax?j(b.ajax,c):b.image?i(b.image,c):b.div?h(b.div,c):a.isFunction(b)?b.call(a):a.facebox.reveal(b,c)},a.extend(a.facebox,{settings:{opacity:.2,overlay:!0,loadingImage:"/facebox/loading.gif",closeImage:"/assets/images/zebra/elements/blank_box.png",imageTypes:["png","jpg","jpeg","gif"],faceboxHtml:'    <div id="facebox" style="display:none;">       <div class="popup">         <div class="content">         </div>         <a href="#" class="close">close</a>       </div>     </div>'},loading:function(){d();if(a("#facebox .loading").length==1)return!0;l(),a("#facebox .content").empty(),a("#facebox .content").children().hide().end().append('<div class="loading"><img src="'+a.facebox.settings.loadingImage+'"/></div>'),a("#facebox").css({top:e()[1]+f()/10,left:a(window).width()/2-346}).show(),a(document).bind("keydown.facebox",function(b){return b.keyCode==27&&a.facebox.close(),!0}),a(document).trigger("loading.facebox")},reveal:function(b,c){a(document).trigger("beforeReveal.facebox"),c&&a("#facebox .content").addClass(c),a("#facebox .content").append(b),a("#facebox .loading").remove(),a("#facebox .body").children().fadeIn(350),a("#facebox").css("left",a(window).width()/2-a("#facebox .popup").width()/2),a(document).trigger("reveal.facebox").trigger("afterReveal.facebox")},close:function(){return a(document).trigger("close.facebox"),!1}}),a.fn.facebox=function(b){function c(){a.facebox.loading(!0);var b=this.rel.match(/facebox\[?\.(\w+)\]?/);return b&&(b=b[1]),h(this.href,b),!1}if(a(this).length==0)return;return d(b),this.bind("click.facebox",c)},a(document).bind("close.facebox",function(){a(document).unbind("keydown.facebox"),a("#facebox").fadeOut(function(){a("#facebox .content").removeClass().addClass("content"),a("#facebox .loading").remove(),b&&c&&(b.append(c),b=c=null),a(document).trigger("afterClose.facebox")}),m()})}(jQuery),function(a){a.fn.collapsible=function(b){this.find(".collapsible-toggle").live("click",function(c){var d=a(c.target);if(d.is("a")&&!d.hasClass("collapsible-toggle"))return!0;var e=a(this).closest(b&&b.collapsibleClass||".collapsible"),f;return e.hasClass("collapsed")?(e.removeClass("collapsed"),f=!1):(e.addClass("collapsed"),f=!0),b&&b.stickyUrl&&a.post(b.stickyUrl,{collapsed:f,"ids[]":e.model_id()}),!1})},a.fn.collapse=function(b){b=a.extend({collapse:!0},b);var c=[];this.each(function(){var d=a(this);b.collapse?d.hasClass("collapsed")||(d.addClass("collapsed"),c.push(d.model_id())):d.hasClass("collapsed")&&(d.removeClass("collapsed"),c.push(d.model_id()))}),b&&b.stickyUrl&&a.post(b.stickyUrl,{collapsed:b.collapse,"ids[]":c})},a.fn.expand=function(b){this.collapse(a.extend(b,{collapse:!1}))}}(jQuery),String.prototype.score=function(a,b){b=b||0;if(a.length==0)return.9;if(a.length>this.length)return 0;for(var c=a.length;c>0;c--){var d=a.substring(0,c),e=this.indexOf(d);if(e<0)continue;if(e+a.length>this.length+b)continue;var f=this.substring(e+d.length),g=null;c>=a.length?g="":g=a.substring(c);var h=f.score(g,b+e);if(h>0){var i=this.length-f.length;if(e!=0){var j=0,k=this.charCodeAt(e-1);if(k==32||k==9)for(var j=e-2;j>=0;j--)k=this.charCodeAt(j),i-=k==32||k==9?1:.15;else i-=e}return i+=h*f.length,i/=this.length,i}}return 0},function(a,b){typeof Wistia=="undefined"&&(Wistia={}),Wistia.Instructables={initialize:function(){b(".instructable:visible").length>0?b("a.instructable-toggle").addClass("instructable-toggle-on"):b("a.instructable-toggle").removeClass("instructable-toggle-on"),b("a.instructable-toggle").click(function(){return Wistia.Instructables.toggle(),!1})},toggle:function(a){a==undefined&&(a=!b("a.instructable-toggle").hasClass("instructable-toggle-on")),a?(b("a.instructable-toggle").addClass("instructable-toggle-on"),b(".instructable").slideDown(300),b(".trouble-uploading").slideDown(300)):b(".media").length>0&&(b("a.instructable-toggle").removeClass("instructable-toggle-on"),b(".instructable").slideUp(300),b(".trouble-uploading").slideUp(300))},show:function(){Wistia.Instructables.toggle(!0)},hide:function(){Wistia.Instructables.toggle(!1)}}}(jQuery,jQuery),jQuery.ajaxSetup({beforeSend:function(a){a.setRequestHeader("Accept","text/javascript")}}),function(a){var b=a.ajax;a.ajax=function(a){var c=a.type&&a.type.toUpperCase();if(c=="PUT"||c=="DELETE")a.data&&typeof a.data=="object"?a.data._method=c:a.data&&typeof a.data=="string"?a.data=a.data+"&_method="+c:a.data={_method:c},a.type="POST";b(a)}}(jQuery),jQuery.ajaxPrefilter(function(a,b,c){if(a.type=="GET")return;if(a.data&&a.data.match(new RegExp("\\b"+window._auth_token_name+"=")))return;if(a.contentType=="application/json")return;a.data?a.data=a.data+"&":(a.data="",c.setRequestHeader("Content-Type",a.contentType)),a.data+=encodeURIComponent(window._auth_token_name)+"="+encodeURIComponent(window._auth_token)});var setupStatusBar;setupStatusBar=function(a){return window.FloatingStatusBar=function(){function b(b){this.options=b,this.$anchor=a(this.options.anchor),this.$messagesEl=a("#status_bar"),this._addEventHandlers(),this.messages={},this.render()}return b.prototype.sinkOrSwim=function(){var b,c,d;if((d=this.$anchor)!=null?!d.offset():!void 0)return;this.statusTop||(this.statusTop=this.$anchor.offset().top),c=a(window).scrollTop(),b=this.statusTop-c;if(b<=0){if(!this.floated)return this.float()}else if(this.floated)return this.unfloat()},b.prototype.float=function(){var b,c;if(/iphone|ipad|ipod|android/i.test(navigator.userAgent))return;this.floated=!0,a("body").append(this.$messagesEl),this.$messagesEl.css({position:"fixed",top:0,left:0}),b=parseInt(this.$messagesEl.css("padding-bottom")),c=this.$messagesEl.height()+b;if(this.liveMessageCount()>0)return this.$anchor.height(c).show()},b.prototype.unfloat=function(){return this.floated=!1,this.$anchor.hide(),this.$anchor.after(this.$messagesEl),this.$messagesEl.css({position:"relative",top:0,left:0})},b.prototype.render=function(){var b=this;return this.sinkOrSwim(),a(window).scroll(function(){return _.throttle(b.sinkOrSwim(),100)})},b.prototype._addEventHandlers=function(){var a=this;return this.$messagesEl.on("click",".message",function(b){return a.clearMessage(b)})},b.prototype.messageCount=function(){var a,b;return function(){var c,d;c=this.messages,d=[];for(a in c)b=c[a],d.push(a);return d}.call(this).length},b.prototype.liveMessageCount=function(){var a,b,c,d;b=0,d=this.messages;for(a in d)c=d[a],c.dead||(b+=1);return b},b.prototype._add=function(b,c){var d,e,f,g=this;return c==null&&(c={}),c=_.extend({life:8e3,id:"message_"+this.messageCount(),speed:400},c),this.$messagesEl.stop().height(this.$messagesEl.height()),f=this.$messagesEl.height(),d=a("<div id='"+c.id+"'></div>").append(b),this.messages[c.id]={$el:d},this.$messagesEl.append(d),this.$messagesEl.height(""),e=this.$messagesEl.peek("height"),this.$messagesEl.height(f),this.$messagesEl.is(":hidden")&&(this.$messagesEl.css({height:0,opacity:0}),this.$messagesEl.show()),d.css({opacity:0}).animate({opacity:1},c.speed,function(){return d.css({opacity:""})}),this.$messagesEl.animate({height:e,opacity:1},c.speed,function(){return g.$messagesEl.height("")}),c.life>0&&(this.messages[c.id].lifeTimeout=setTimeout(function(){return g.remove(c.id)},c.life)),this.reapplyHelperClasses(),this},b.prototype.reapplyHelperClasses=function(){return this.$messagesEl.find(".message").removeClass("first").removeClass("last"),this.$messagesEl.find(".message:first").addClass("first"),this.$messagesEl.find(".message:last").addClass("last")},b.prototype.replaceContents=function(a,b){var c;if(!(c=this.messages[a]))return;return c.$el.find(".message").html(""+b+"<div class='remove'></div>")},b.prototype.remove=function(a){var b,c=this;if(!(b=this.messages[a]))return;return b.dead=!0,b.lifeTimeout&&(clearTimeout(b.lifeTimeout),b.lifeTimeout=null),b.$el&&b.$el.animate({height:0,opacity:0},400,function(){return b.$el.remove()}),this.liveMessageCount()===0&&this.$messagesEl.animate({height:0,paddingTop:0,paddingBottom:0},400,function(){return c.$messagesEl.hide().css({height:"",paddingTop:"",paddingBottom:""})}),this.reapplyHelperClasses(),this},b.prototype.addAll=function(b,c){var d,e,f,g;c==null&&(c={}),g=[];for(e=0,f=b.length;e<f;e++)d=b[e],a.isPlainObject(d)?g.push(this.add(_.extend({},d,c))):g.push(this.info(d,c));return g},b.prototype.add=function(a){return a==null&&(a={}),a.error?this.error(a.error,a):this.info(a.info,a)},b.prototype.info=function(b,c){return c==null&&(c={}),this._add(a("<div class='info message'>"+b+"<div class='remove'></div></div>"),c),this},b.prototype.error=function(b,c){return c==null&&(c={}),this._add(a("<div class='error message'>"+b+"<div class='remove'></div></div>"),c),this},b.prototype.clear=function(){var a,b,c;c=this.messages;for(a in c)b=c[a],b.dead||this.remove(a);return this},b.prototype.clearMessage=function(b){var c;return c=a(b.target||b.srcElement).closest(".message"),this.remove(c.parent().attr("id"))},b}(),a(document).ready(function(){return window.statusBar=new FloatingStatusBar({anchor:"#status_bar_anchor"})})},setupStatusBar(jQuery),typeof Wistia=="undefined"&&(Wistia={}),function(a,b){a.fn.modalForm=function(c){var d=b(this);return c=a.extend({dataType:"json",beforeSubmit:function(a,c){b(c).disableForm()},success:function(a,c,d){a.error?(Wistia.Flash.Modal().update(a),b(d).enableForm()):a.redirect_to!=undefined?a.redirect_to==""?window.location.reload():window.location.href=a.redirect_to:(b(document).trigger("close.facebox"),statusBar.add(a))},error:function(a,c,e){Wistia.Flash.Modal().update({error:"Unexpected error. Wistia has been notified of this error and will address it shortly."}),b(d).enableForm()}},c),this.each(function(){b(this).ajaxForm(c)})},a.fn.disableForm=function(){return this.each(function(){b(this).find("textarea,input,button").enable(!1),b(this).find("button").addClass("disabled")})},a.fn.enableForm=function(){return this.each(function(){b(this).find("textarea,input,button").enable(!0),b(this).find("button").removeClass("disabled")})},a.fn.enableHint=function(){return this.each(function(){if(!b(this).hasClass("with-hint"))return;b(this).focus(function(a){var c=b(this);c.data("default")==undefined&&c.data("default",c.val()),c.val()==c.data("default")&&c.val(""),c.removeClass("with-hint")}).blur(function(a){var c=b(this);c.val()==""&&c.val(c.data("default")).addClass("with-hint")})})},Wistia.Form={initializeHints:function(){b("input.with-hint,textarea.with-hint"
).livequery(function(){b(this).enableHint()})},initializeAutosubmits:function(){b("form.autosubmit").each(function(){var a=b(this);a.find("select").change(function(){a.submit()})})}}}(jQuery,jQuery),function(a){Wistia.Menu={isActive:function(){return Wistia.Menu.currentMenu().length>0},activateMenu:function(b){a.scrollTo(0),Wistia.Menu.closeAll(),b.addClass("hover"),Wistia.Menu.selectItem(a("#nav li.hover li:first"))},selectItem:function(b){a("#nav > ul > li.hover li").removeClass("hover"),b.addClass("hover").find("a").focus()},currentMenu:function(){return a("#nav > ul > li.hover:first")},currentMenuItem:function(){return a("#nav > ul > li.hover li.hover:first")},closeAll:function(){a("#nav li").removeClass("hover")},nextMenu:function(){var b=Wistia.Menu.currentMenu().next();b.length==0&&(b=a("#nav > ul > li:first")),Wistia.Menu.activateMenu(b)},prevMenu:function(){var b=Wistia.Menu.currentMenu().prev();b.length==0&&(b=a("#nav > ul > li:last")),Wistia.Menu.activateMenu(b)},nextMenuItem:function(){var b=Wistia.Menu.currentMenuItem().next();b.length==0&&(b=a("#nav > ul > li.hover li:first")),Wistia.Menu.selectItem(b)},prevMenuItem:function(){var b=Wistia.Menu.currentMenuItem().prev();b.length==0&&(b=a("#nav > ul > li.hover li:last")),Wistia.Menu.selectItem(b)},toggleCollapse:function(){a("#header .container").css("height")=="48px"||a("#header .container").css("height")=="3em"?(a("#header .container").animate({height:"7em"}),a("#logo").animate({bottom:".5em",fontSize:"3em"})):(a("#header .container").animate({height:"3em"}),a("#logo").animate({bottom:5,fontSize:"2em"}))}},a(document).ready(function(){a("#nav .submenu").find("li:first").addClass("first"),a("#nav .submenu").find("li:last").addClass("last"),a("#nav li").hover(function(b){a(this).addClass("hover").siblings().removeClass("hover")},function(b){a(this).removeClass("hover")}),a("#nav span.down").click(function(){var b=a(this).closest("li");b.hasClass("hover")?b.removeClass("hover"):b.addClass("hover")}),a("a.menu").click(function(a){a.preventDefault()}),a.hotkeys({p:function(b){Wistia.Menu.activateMenu(a("#nav li.projects"))},s:function(b){Wistia.Menu.activateMenu(a("#nav li.stats"))},a:function(b){Wistia.Menu.activateMenu(a("#nav li.account"))}}),a.hotkeys({27:function(a){Wistia.Menu.isActive()&&Wistia.Menu.closeAll()},39:function(a){Wistia.Menu.isActive()&&Wistia.Menu.nextMenu()},37:function(a){Wistia.Menu.isActive()&&Wistia.Menu.prevMenu()},38:function(a){Wistia.Menu.isActive()&&(Wistia.Menu.prevMenuItem(),a.preventDefault())},40:function(a){Wistia.Menu.isActive()&&(Wistia.Menu.nextMenuItem(),a.preventDefault())}})})}(jQuery),function(a,b){Wistia.Flash={},Wistia.Flash.Controller=function(b){var c=a(b);this.clear=function(){c.animate({top:"-15em"},400,"swing",function(){c.find(".message").remove(),c.hide()})},this.show=function(){if(c.find(".message").length>0){var a=this;c.find("a.hide").click(function(){return a.clear(),!1}),c.show().animate({top:"0"},400,"swing")}},this.clearAllButLast=function(){c.find("div.message:not(:last)").slideUp()},this.update=function(b){a.each(["info","error"],function(){b[this]&&c.find(".messages").append("<div class='"+this+" message'>"+b[this]+"</div>")}),this.show();var d=this;setTimeout(function(){d.clearAllButLast()},1e3)}},Wistia.Flash.Main=function(){return new Wistia.Flash.Controller("#flash")},Wistia.Flash.Modal=function(){return new Wistia.Flash.Controller("#facebox .main .current .flash")}}(jQuery,jQuery),function(a){Wistia.Comments={init:function(b){a("#comments .comment").livequery(function(){Wistia.Comments.ajaxifyForm(this),Wistia.Comments.makeEditable(this),Wistia.Comments.makeDeletable(this),Wistia.Comments.makeTimecodable(this),Wistia.Comments.replyToggle(this)})},setupTimecodeInterval:function(a){setInterval(function(){Wistia.Comments.updateTimecodes(a)},500)},replyToggle:function(b){var c=a(b);if(!c.is("form"))return;c.find("a.reply").click(function(){return c.hasClass("collapsed")?(c.removeClass("collapsed"),c.find("textarea").focus()):c.addClass("collapsed"),!1})},ajaxifyForm:function(b){var c=a(b);c.ajaxForm({beforeSubmit:function(b,c){if(a(c).find("textarea").val()=="")return alert("Oops. You've just tried to post a blank comment."),!1;a(c).find("textarea,input").enable(!1)},success:function(b,c,d){a(d).find("textarea,input").enable(!0).val(""),a(d).find("textarea:first").focus();var e=a(b).fadeTo(1,0).hide();e.insertBefore(a(d)),e.slideDown().fadeTo(750,1)},error:function(b,d,e){a(c).find("textarea,input").enable(!0),a(c).find("textarea:first").focus(),alert("Unexpected error. Wistia has been notified and will address this error shortly.")}})},makeEditable:function(b){var c=a(b).find(".body:first");Wistia.Editable.makeEditable(c,Wistia.Comments.getUrl(b),{name:"comment[body]",type:"autogrow",submit:"Save",cancel:"Cancel",onblur:"ignore",editHint:"true",event:"edit-toggle",placeholder:"(blank comment)"})},makeDeletable:function(b){a(b).find("a.delete:first").click(function(c){return confirm("Really delete this comment?")?(a.ajax({type:"DELETE",url:Wistia.Comments.getUrl(b)+".js",beforeSend:function(){a(b).slideUp(100)},error:function(){a(b).slideDown(100),alert("Failed to delete comment.")}}),!1):!1})},makeTimecodable:function(b){if(a(b).find(".replies").length>0)return;var c=a(b).find("input[type=checkbox]"),d=a(b).find(".formatted-timecode");c.attr("checked")&&d.show(),c.click(function(a){c.attr("checked")?d.show():d.hide()})},updateTimecodes:function(b){try{time=theMediaEmbed.getCurrentPosition();var c;b=="Document"?c=Wistia.TimeHelpers.time_to_page_number(time):c=Wistia.TimeHelpers.ms_to_formatted_time(time*1e3),a("#comments a.formatted-timecode:visible").html(c),a("#comments input.timecode").attr("value",time)}catch(d){}},getUrl:function(b){return"/comments/"+a(b).model_id()}}}(jQuery),typeof Wistia=="undefined"&&(Wistia={}),Wistia.TimeHelpers={s_to_formatted_time:function(a){return Wistia.TimeHelpers.ms_to_formatted_time(a*1e3,!0)},ms_to_formatted_time:function(a,b){var c=Math.floor(a/1e3),d=Math.floor(c/60),e=a%1e3,f=Math.floor(e/10),g=c%60,h=Wistia.TimeHelpers.two(d)+":"+Wistia.TimeHelpers.two(g);return b||(h+=":"+Wistia.TimeHelpers.two(f)),h},time_to_page_number:function(a){return"Page "+Math.floor(a)},two:function(a){return(a>9?"":"0")+a},three:function(a){return(a>99?"":"0")+(a>9?"":"0")+a},getTimezoneOffset:function(){var a=new Date,b=new Date(a.getFullYear(),0,1,0,0,0,0),c=new Date(a.getFullYear(),6,1,0,0,0,0),d=b.toGMTString(),e=new Date(d.substring(0,d.lastIndexOf(" ")-1));d=c.toGMTString();var f=new Date(d.substring(0,d.lastIndexOf(" ")-1)),g=(b-e)/36e5,h=(c-f)/36e5,i;if(g==h)i="0";else{var j=g-h;j>=0&&(g=h),i="1"}return g}},Wistia.MovingAverage=function(a){this.ary=[],this.push=function(b){this.ary.push(b),this.ary.length>a&&this.ary.shift()},this.getAverage=function(){return this.getTotal()/this.ary.length},this.getTotal=function(){var a=0;for(var b=0;b<this.ary.length;b++)a+=this.ary[b];return a}},this.JSON||(JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){typeof Wistia=="undefined"&&(Wistia={}),Wistia.Editable={makeEditable:function(b,c,d){var e=a(b),f=e.find(".editable");if(f.length==0)return;var g=Wistia.Editable.setupSavingHint(e);d=a.extend({method:"PUT",event:"click",onsubmit:function(a,b){var c=f.find("input");f.find("input,textarea,button,submit").attr("disabled",!0);if(d.smartSaveHint){var h=c.offset().left+c.val().length*parseInt(c.css("font-size"),10)*.55-e.offset().left,i=c.offset().top-e.offset().top;g.css({top:Math.round(i+(c.outerHeight()-6)/2-4),right:"auto",bottom:"auto",left:Math.round(h)+3})}g.show()},callback:function(){g.hide()},data:function(a,b,c){return a.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")}},d),d.type=="autogrow"&&a.browser.msie&&a.browser.version<7&&(d.type="textarea"),d.editHint&&Wistia.Editable.setupEditHint(e,f,d),f.editable(c,d)},setupSavingHint:function(b){var c;return c=a('<div class="saving-hint"></div>'),b.append(c),c},setupEditHint:function(b,c,d){var e;e=a('<a class="edit-hint edit-left" href="#">Edit</a>'),d.buttonclass&&e.addClass(d.buttonclass),e.click(function(){return c.trigger(d.event),!1}),c.after(e),c.bind(d.event,function(){b.removeClass("edit-hover"),e.hide()});var f=function(){if(c.find("form").length==0){b.addClass("edit-hover");var a=Math.min(c.width()+c.position().left,b.width()+c.position().left);e.css({top:1,left:a+18}),e.show()}};b.hover(f,function(){a(this).removeClass("edit-hover"),e.hide()}),d.showHintToStart&&f()}}}(jQuery,jQuery),typeof Wistia=="undefined"&&(Wistia={}),function(a){Wistia.Medias={makeSortable:function(){if(a.browser.msie&&a.browser.version<7){a("#medias").removeClass("sortable");return}a("#medias.sortable .medias").sortable({axis:"y",connectWith:["#medias .medias"],placeholder:"placeholder",distance:5,appendTo:a("#medias"),revert:200,opacity:.8,helper:function(a,b){return b.clone().addClass("media-sortable-helper")},update:Wistia.Medias.updateOrder})},makeDeletable:function(){a("#medias").click(function(b){if(!a(b.target).is("a.delete"))return!0;if(!confirm("Are you sure you want to delete this item?"))return;var c=a(b.target).closest(".media");return a.ajax({type:"DELETE",url:Wistia.Medias.getUrl(c)+".js",beforeSend:function(){a(c).slideUp()},error:function(){a(c).show(),alert("Failed to delete media.")}}),!1})},updateOrder:function(b,c){var d=Wistia.Medias.getGroupUrl(this)+"/medias/order",e=a(this).sortable("serialize",{key:"media_ids[]"});a.post(d,e)},getUrl:function(b){return"/medias/"+a(b).attr("data-hashed_id")},getGroupUrl:function(b){return Wistia.MediaGroups.getUrl(a(b).parents(".group"))}},Wistia.MediaGroups={collapsiblesSelector:"#medias .collapsible-group",init:function(b){a("#medias .group").livequery(function(){Wistia.MediaGroups.makeEditable(this),Wistia.MediaGroups.makeDeletable(this),Wistia.MediaGroups.makeTargetable(this)}),a("#section_controls a.new").click(function(){return Wistia.MediaGroups.newGroup(b),!1}),Wistia.MediaGroups.makeSortable(b)},newGroup:function(b){a(".blank").hide();var c=a("#medias .untitled.group"),d=Math.round(c.offset().top+c.height());return a.scrollTo(d-100,1e3),a.ajax({type:"POST",url:b.newGroupUrl,dataType:"html",data:"media_group[name]=Untitled+Section",success:function(b){var d=a(b).fadeTo(1,0).hide();c.after(d),d.slideDown().fadeTo(750,1),Wistia.Medias.makeSortable(),a("#section_controls .toggle-collapse").show()}}),!1},targetGroup:function(){var b=a("#medias .group a.target.activated").parents(".group");return b.length==0&&(b=a("#medias .group:first")),b},makeTargetable:function(b){a(b).find(".header a.target").click(function(b){var c=a(this).hasClass("activated");return a("#medias a.target").removeClass("activated"),c||a(this).addClass("activated"),!1})},makeSortable:function(b){if(a.browser.msie&&a.browser.version<7)return;a("#medias").sortable({items:"> .sortable",axis:"y",handle:".header",placeholder:"placeholder",distance:5,revert:200,opacity:.8,helper:function(a,b){return b.clone().addClass("media-group-sortable-helper collapsed")},update:function(c,d){var e=a(this).sortable("serialize",{key:"media_group_ids[]"});a.post(b.updateOrderUrl,e)}})},makeEditable:function(b){var c=Wistia.MediaGroups.getUrl(b),d=a(b).find(".title");Wistia.Editable.makeEditable(d,c,{name:"media_group[name]",select:!0,width:540,editHint:!0,onblur:"submit",placeholder:"Untitled Section",event:"edit-toggle"})},makeDeletable:function(b){a(b).find(".header a.delete").click(function(c){return confirm("Deleting this section will delete all the items contained within it. Are you sure you want to delete this section?")?(a.ajax({type:"DELETE",url:Wistia.MediaGroups.getUrl(b),beforeSend:function(){a(b).slideUp()},error:function(){a(b).show(),alert("Failed to delete section.")}}),!1):!1})},getUrl:function(b){return"/media_groups/"+a(b).model_id()}},Wistia.MediaProgressBar=function(b,c){var d=a("#media_status .progress"),e=(new Date).getTime();d.find(".progress-bar").animate({width:b+"%"},6e3);var f=function(){a.get(c,undefined,function(a){var c=parseFloat(a)*100,g=(new Date).getTime()-e,h=(c-b)/g,i=Math.min(Math.max(5/h,5e3),Math.max(g*2*1e3,5e3));c>=100?(d.find(".progress-bar").stop(!0).animate({width:"100%"},2e3),setTimeout(function(){window.location.reload(!0)},2e3)):(d.find(".progress-bar").stop(!0).animate({width:c+"%"},i+1e3),setTimeout(f,i))},"html")};setTimeout(f,5e3)}}(jQuery);var swfu;Wistia.Upload={init:function(a){$("#swfu_container").hover(function(a){$("#action_menu a.upload-media").addClass("hover")},function(a){$("#action_menu a.upload-media").removeClass("hover")}),Wistia.Upload.createUploader(a),$("#upload_status a.cancel").click(function(){if(!confirm("This will cancel all your current and pending uploads. Are you sure?"))return;return Wistia.Upload.cancelAll.call(swfu),!1}),Wistia.Upload.Item.prototype.isUploading=!1,window.onbeforeunload=function(){try{if(Wistia.Upload.Item.prototype.isUploading)return"You have uploads in progress.\nPressing OK will cancel all remaining uploads."}catch(a){}},Wistia.Upload.Item.prototype.messageUrl=a.messageUrl},createUploader:function(a){var a={upload_url:a.uploadUrl,post_params:{signature:a.signature,expires:a.expires},file_post_name:"media[source_file]",file_size_limit:"2GB",file_types:"*.*",file_types_description:"All Files",file_upload_limit:a.fileUploadLimit!=null?a.fileUploadLimit:0,file_queue_limit:a.fileQueueLimit!=null?a.fileQueueLimit:0,minimum_flash_version:"9.0.28",swfupload_load_failed_handler:Wistia.Upload.Swfu.loadFailed,swfupload_pre_load_handler:Wistia.Upload.Swfu.preLoad,swfupload_loaded_handler:Wistia.Upload.Swfu.loadSucceeded,file_queued_handler:Wistia.Upload.fileQueued,file_queue_error_handler:Wistia.Upload.fileQueueError,file_dialog_complete_handler:Wistia.Upload.fileDialogComplete,upload_progress_handler:Wistia.Upload.uploadProgress,upload_success_handler:Wistia.Upload.uploadSuccess,upload_complete_handler:Wistia.Upload.uploadComplete,upload_error_handler:Wistia.Upload.uploadError,flash_url:location.protocol+"//fast.wistia.com/flash/swfupload_f10.swf",flash_container_id:"swfu_container",debug:!1,custom_settings:{foreignId:a.foreignId,createMediaUrl:a.createMediaUrl}};swfu=new SWFUpload(a),swfu.uploads={}},fileDialogComplete:function(){$(".blank").hide(),Wistia.Instructables.hide(),this.startUpload()},fileQueued:function(a){$("#upload_status").slideDown();var b=this.customSettings.foreignId+"+"+a.id;this.uploads[a.id]=new Wistia.Upload.Item(a,b),this.addFileParam(a.id,"media[foreign_id]",b)},uploadProgress:function(a,b){this.uploads[a.id].updateProgress(b)},uploadComplete:function(a){},cancelAll:function(){for(var a in this.uploads)this.cancelUpload(a)},uploadSuccess:function(a,b){var c=this.uploads[a.id];c.complete();var d=c.groupElt().model_id(),e=c.position(),f=this;$.ajax({type:"POST",url:this.customSettings.createMediaUrl,dataType:"html",data:{"media[foreign_id]":c.foreignId,media_group_id:d,position:e},success:function(a){c.success(a)},error:function(){c.fail()},complete:function(){f.startUpload()}})},fileQueueError:function(a,b,c){switch(b){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:statusBar.error("You may not upload files exceeding "+swfu.settings.file_size_limit+' in size. <br />Please try the <a href="http://wistia.com/doc/simple-uploader">Simple Uploader</a> for files larger than '+swfu.settings.file_size_limit+".");break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:statusBar.error("Unfortunately, the file you're trying to upload exceeds the "+swfu.settings.file_size_limit+' size limit. <br />Please try the <a href="http://wistia.com/doc/simple-uploader">Simple Uploader</a> for files larger than '+swfu.settings.file_size_limit+".");break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:statusBar.error('Unfortunately, you\'ve uploaded all the videos you can for your current plan.<br/>To upload more, please <a href="/features/video_count" rel="facebox">upgrade your plan</a>.');break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:default:statusBar.error("Upload queue error: "+c)}},uploadError:function(a,b,c){var d=this.uploads[a.id];switch(b){case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:d.cancel();break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:d.fail(),statusBar.error('Connection interrupted. This error may be caused by intermittent connection loss, local firewall software, or issues with your network configuration. Please try your upload again or <a href="http://wistia.com/doc/upload-troubleshooting">follow our upload trouble shooting guide</a>.');break;case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:d.fail();break;case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:default:statusBar.error("Upload error: "+c)}this.startUpload()},Swfu:{loadFailed:function(){$("#swfu_container").hide()},preLoad:function(){},loadSucceeded:function(){}}},Wistia.Upload.Item=function(a,b){this.queue=function(){Wistia.Upload.Item.prototype.isUploading=!0,this.elt=$("<div class='media upload hoverable'><h3><a>"+this.fileObj.name+"</a></h3>"+"<a class='cancel' href='' onclick='swfu.cancelUpload(\""+this.fileObj.id+"\");return false;' title='Cancel upload'></a>"+"<div class='progress'><div class='progress-bar'></div><span>0%</span></div>"+"<div class='controls'><a class='move'></a></div>"+"</div>");var a=this.mediaGroup.find(".upload:last");a.length>0?a.after(this.elt):this.mediaGroup.find(".medias").prepend(this.elt),Wistia.Upload.Item.prototype.totalCount++,Wistia.Upload.Item.prototype.totalBytesToUpload+=this.fileObj.size,this.uploadNumber=this.totalCount,this.updateStatus()},this.updateProgress=function(a){this.lastBytesLoaded=this.bytesLoaded,this.lastUpdateTime=this.updateTime,this.bytesLoaded=a,this.updateTime=(new Date).getTime(),Wistia.Upload.Item.prototype.totalBytesUploaded+=this.bytesLoaded-this.lastBytesLoaded,this.sampleUploadSpeed();var b=this.bytesLoaded/this.fileObj.size*100;this.elt.addClass("uploading"),this.elt.find(".progress-bar").css({width:b+"%"}),this.elt.find(".progress span").html(Math.ceil(b)+"%"),Wistia.Upload.Item.prototype.currentUploadNumber=this.uploadNumber,this.updateStatus()},this.fail=function(){this.elt.addClass("failed"),this.elt.find(".progress span").html("Upload failed"),this.elt.animate({opacity:1},3e3).fadeOut(),Wistia.Upload.Item.prototype.totalBytesToUpload-=this.fileObj.size,Wistia.Upload.Item.prototype.totalBytesUploaded-=this.bytesLoaded,this.updateStatus()},this.success=function(a){this.elt.replaceWith(a),this.uploadNumber!=Wistia.Upload.Item.prototype.totalCount},this.complete=function(){this.updateProgress(this.fileObj.size),this.elt.addClass("processing").removeClass("uploading"),this.elt.find(".progress span").html("Processing upload ...")},this.cancel=function(){this.elt.fadeOut(),Wistia.Upload.Item.prototype.totalBytesToUpload-=this.fileObj.size,Wistia.Upload.Item.prototype.totalBytesUploaded-=this.bytesLoaded,this.updateStatus()},this.position=function(){this.elt.addClass("sortable");var a=this.groupElt().find(".sortable").index(this.elt);return this.elt.removeClass("sortable"),a+1},this.groupElt=function(){return this.elt.parents(".group")},this.sampleUploadSpeed=function(){if(!this.lastUpdateTime)return;var a=(this.updateTime-this.lastUpdateTime)/1e3,b=(this.bytesLoaded-this.lastBytesLoaded)/1024;this.uploadMovingAverage.push(b/a)},this.uploadSpeed=function(){return this.uploadMovingAverage.getAverage()},this.uploadSpeedInWords=function(){var a=this.uploadSpeed();return isNaN(a)?"0 KB/s":Math.ceil(a)+" KB/s"},this.totalTimeLeft=function(){return this.totalBytesLeft()/1024/this.uploadSpeed()},this.totalBytesLeft=function(){return Wistia.Upload.Item.prototype.totalBytesToUpload-Wistia.Upload.Item.prototype.totalBytesUploaded},this.totalPercentComplete=function(){return Math.round(Wistia.Upload.Item.prototype.totalBytesUploaded/Wistia.Upload.Item.prototype.totalBytesToUpload*100)},this.totalTimeLeftInWords=function(){var a=this.totalTimeLeft();if(isNaN(a))return"Preparing files for upload";if(this.totalBytesLeft()<=0)return"Complete";if(a<60)return Math.ceil(a)+" seconds remaining";if(a<3600){var b=Math.ceil(a/60);return"about "+b+" minutes remaining"}var c=Math.ceil(a/3600);return"about "+c+" hours remaining"},this.updateStatus=function(){var a=$("#upload_status");a.find(".time-left").html(this.totalTimeLeftInWords()),a.find(".upload-speed").html(this.uploadSpeedInWords()),a.find(".upload-number").html(this.currentUploadNumber),a.find(".upload-count").html(this.totalCount),this.totalBytesLeft()<=0?this.finishedUploading():(document.title="("+this.totalPercentComplete()+"% complete) "+Wistia.Upload.Item.prototype.originalTitle,Wistia.Upload.Item.prototype.finishedUploading=!1)},this.finishedUploading=function(){if(Wistia.Upload.Item.prototype.finishedUploading)return;Wistia.Upload.Item.prototype.finishedUploading=!0,document.title=Wistia.Upload.Item.prototype.originalTitle,$("#upload_status").animate({opacity:1},3e3).slideUp(),Wistia.Upload.Item.prototype.isUploading=!1},this.lastUpdateTime,this.fileObj=a,this.foreignId=b,this.mediaGroup=Wistia.MediaGroups.targetGroup(),this.bytesLoaded=0,this.lastBytesLoaded=0,this.queue()},Wistia.Upload.Item.prototype={totalCount:0,totalBytesToUpload:0,totalBytesUploaded:0,finishedUploading:!1,uploadMovingAverage:new Wistia.MovingAverage(50),originalTitle:document.title},function(a,b){Wistia.Contacts={init:function(){a("#contacts .contact").live("click",function(b){a(b.target).is("a")||Wistia.Contacts.toggleSelect(a(this))}).filter(":has(input:checked)").addClass("selected")},toggleSelect:function(a){a.toggleClass("selected"),a.find("input:checkbox")[0].checked=a.hasClass("selected")},selectedIds:function(){return a.map(a("#contacts .selected"),function(b){return a(b).model_id()})},serialize:function(b){return a.map(Wistia.Contacts.selectedIds(),function(a){return b+"[]="+a}).join("&")}}}(jQuery,jQuery),function(a,b){Wistia.DisplayFilter={init:function(){b("a.display-toggle").click(function(){var a=b(this);return a.hasClass("display-all")?(a.removeClass("display-all").addClass("display-none"),b(".more-detail, .most-detail").hide()):a.hasClass("display-some")?(a.removeClass("display-some").addClass("display-all"),b(".more-detail, .most-detail").show()):(a.removeClass("display-none").addClass("display-some"),b(".more-detail").show()),!1})}}}(jQuery,jQuery),function(a,b){Wistia.Tabs=function(){this.tab_container=a("#facebox .tabs"),this.body_container=a("#facebox .main"),this.tab_container.find(".current").data("body",a("#facebox .current.tab-body"));var b=this;this.tab_container.find("a").click(function(){return b.hideTabs(),b.loadTab(a(this)),!1}),this.loadTab=function(b){b.addClass("current");if(b.data("body"))b.data("body").addClass("current").show();else{var c=b.attr("href"),d=a("<div class='tab-body current'>Loading ... </div>");this.body_container.append(d),a.get(c,function(b){var c=a(b);d.html(c.find(".tab-body").html()),c.filter("script").each(function(){a.globalEval(this.text||this.textContent||this.innerHTML||"")})},"html"),b.data("body",d)}},this.hideTabs=function(){this.tab_container.find("a").removeClass("current"),this.body_container.find(".tab-body").removeClass("current").hide()}}}(jQuery,jQuery),function(a,b){if(!b.__SV){var c,d,e,f;window.mixpanel=b,b._i=[],b.init=function(a,c,d){function h(a,b){var c=b.split(".");2==c.length&&(a=a[c[0]],b=c[1]),a[b]=function(){a.push([b].concat(Array.prototype.slice.call(arguments,0)))}}var j=b;"undefined"!=typeof d?j=b[d]=[]:d="mixpanel",j.people=j.people||[],j.toString=function(a){var b="mixpanel";return"mixpanel"!==d&&(b+="."+d),a||(b+=" (stub)"),b},j.people.toString=function(){return j.toString(1)+".people (stub)"},e="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");for(f=0;f<e.length;f++)h(j,e[f]);b._i.push([a,c,d])},b.__SV=1.2,c=a.createElement("script"),c.type="text/javascript",c.async=!0,c.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",d=a.getElementsByTagName("script")[0],d.parentNode.insertBefore(c,d)}}(document,window.mixpanel||[]);var MixPanelTracker={};MixPanelTracker.initialize=function(){mixpanel.init("8e806db62ec25dd1e81478b8bb80e1bf")},MixPanelTracker.trackPageView=function(a){var b="viewed "+a,c={};c[b]=(new Date).toJSON(),mixpanel.people.set(c),mixpanel.track("page viewed",{page:a})},MixPanelTracker.identifyLoggedInUser=function(){WistiaContext.account&&WistiaContext.account.id&&mixpanel.identify(WistiaContext.account.id)},MixPanelTracker.initialize(),function(a,b){Wistia.Embeds={embedCode:function(b,c,d,e,f,g){f==null&&(f={}),g==null&&(g={}),g=a.extend({allowFullscreen:"true",allowScriptAccess:"always",wmode:"opaque"},g);var h=[];for(var i in f)h.push(i+"="+f[i]);var j=h.join("&");return'<object width="'+d+'" height="'+e+'" '+'id="'+c+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+'<param name="movie" value="'+b+'"/>'+'<param name="allowfullscreen" value="'+g.allowFullscreen+'"/>'+'<param name="allowscriptaccess" value="'+g.allowScriptAccess+'"/>'+'<param name="wmode" value="'+g.wmode+'"/>'+'<param name="flashvars" value="'+j+'"/>'+'<embed src="'+b+'" width="'+d+'" height="'+e+'" name="'+c+'" type="application/x-shockwave-flash" '+'allowfullscreen="'+g.allowFullscreen+'" '+'allowscriptaccess="'+g.allowScriptAccess+'" '+'wmode="'+g.wmode+'" '+'flashvars="'+j+'">'+"</embed></object>"},videoEmbedCode:function(b,c,d,e){e=a.extend({playButtonVisible:!0,controlsVisibleOnLoad:!1,unbufferedSeek:!1,autoPlay:!1},e);var f=Wistia.Embeds.htmlVideoEmbedCode(b,c,d,e),g=["videoUrl="+e.flashVideoUrl,"stillUrl="+e.stillUrl,"unbufferedSeek="+e.unbufferedSeek,"controlsVisibleOnLoad="+e.controlsVisibleOnLoad,"autoPlay="+e.autoPlay,"endVideoBehavior="+e.endVideoBehavior,"playButtonVisible="+e.playButtonVisible,"embedServiceURL="+e.embedServiceURL,"accountKey="+e.accountKey,"mediaID="+e.mediaID,"mediaDuration="+e.mediaDuration];e.hdUrl&&g.push("hdUrl="+e.hdUrl),e.playerColor&&e.playerColor!=="636155"&&g.push("customColor="+e.playerColor),e.smallPlayButton===!1&&g.push("showPlayButton=false"),e.volumeControl===!0&&g.push("showVolume=true"),e.playbar===!1&&g.push("showPlaybar=false"),e.fullscreenButton===!1&&g.push("fullscreenDisabled=true"),e.videoQuality!=null&&g.push("quality="+e.videoQuality);var h=g.join("&"),i="";e.showInteractiveTranscript&&(e.threeplayQuickEmbed?i=Wistia.Embeds.threeplayQuickEmbedCode(e.threeplayVideoId,e.threeplayApiUrl,e.threeplayApiKey):i=Wistia.Embeds.threeplayEmbedCode(e.threeplayVideoId,e.threeplayApiUrl,e.threeplayApiKey));var j="";return e.noscriptContents!==""&&(j="<noscript>"+e.noscriptContents+"</noscript>"),'<object width="'+c+'" height="'+d+'" '+'id="'+b+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+'<param name="movie" value="'+e.flashPlayerUrl+'"/>'+'<param name="allowfullscreen" value="true"/>'+'<param name="allowscriptaccess" value="always"/>'+'<param name="wmode" value="opaque"/>'+'<param name="flashvars" value="'+h+'"/>'+'<embed src="'+e.flashPlayerUrl+'" width="'+c+'" height="'+d+'" name="'+b+'" type="application/x-shockwave-flash" '+'allowfullscreen="true" '+'allowscriptaccess="always" '+'wmode="opaque" '+'flashvars="'+h+'">'+"</embed></object>"+f+i+j},htmlVideoEmbedCode:function(a,b,c,d){return d.htmlVideoUrl?'<script src="'+d.htmlVideoEmbedJavascriptUrl+'" charset="ISO-8859-1"></script>'+"<script>"+"if(!navigator.mimeTypes['application/x-shockwave-flash'] || navigator.userAgent.match(/Android/i)!==null)"+"Wistia.VideoEmbed('"+a+"',"+b+","+c+",{"+"videoUrl:'"+d.htmlVideoUrl+"',"+"stillUrl:'"+d.stillUrl+"',"+"distilleryUrl:'"+d.embedServiceURL+"',"+"accountKey:'"+d.accountKey+"',"+"mediaId:'"+d.mediaID+"',"+"mediaDuration:"+d.mediaDuration+"})</script>":""},oEmbedVideoEmbedCode:function(a,b,c){var d=c.oEmbedMediaUrl||window.location.href,e=d+"?width="+a+"&height="+b;return e+="&autoplay="+c.autoPlay,e+="&playbutton="+c.playButtonVisible,e+="&controls_visible="+c.controlsVisibleOnLoad,e+="&end_video_behavior="+c.endVideoBehavior,c.playerColor&&c.playerColor!=="636155"&&(e+="&playerColor="+c.playerColor),c.smallPlayButton===!1&&(e+="&smallPlayButton=false"),c.volumeControl===!0&&(e+="&volumeControl=true"),c.playbar===!1&&(e+="&playbar=false"),c.fullscreenButton===!1&&(e+="&fullscreenButton=false"),c.videoQuality!=null&&(e+="&videoQuality="+c.videoQuality),e},betaVideoEmbedCode:function(a,b,c,d,e){var f={playButton:!0,smallPlayButton:!0,volumeControl:!1,playbar:!0,fullscreenButton:!0,controlsVisibleOnLoad:!1,autoPlay:!1,autoLoad:!1,endVideoBehavior:"default",platformPreference:"flash",playerColor:"636155",videoQuality:null},g=[];for(var h in f)e[h]!=undefined&&e[h]!=f[h]&&g.push(h+"="+e[h]);var i=g.length>0?"?"+g.join("&"):"";return e.autoPlay&&g.push("autoPlay=true"),'<iframe class="wistia_embed" style="width:'+c+"px;height:"+d+'px;" '+'height="'+d+'" width="'+c+'" '+'allowtransparency="true" '+'src="'+a+i+'" '+'frameborder="0">'+"</iframe>\n"+'<script charset="ISO-8859-1" src="'+b+'/assets/external/iframe-v1-shim.js"></script>'},rawVideoEmbedCode:function(a,b,c,d,e){var f={playButton:!0,smallPlayButton:!0,volumeControl:!1,playbar:!0,fullscreenButton:!0,controlsVisibleOnLoad:!1,autoPlay:!1,autoLoad:!1,endVideoBehavior:"default",platformPreference:"flash",playerColor:"636155",videoQuality:null},g=[];for(var h in f)e[h]!=undefined&&e[h]!=f[h]&&(typeof e[h]=="string"?g.push("  "+h+': "'+e[h]+'"'):g.push("  "+h+": "+e[h]));return e.uuid&&g.push('  uuid: "'+e.uuid+'"'),e.handle||(e.handle="wistiaEmbed"),e.doNotTrack&&
g.push("  doNotTrack: true"),'<div id="wistia_'+e.hashedId+'" style="height:'+d+"px;width:"+c+'px;"></div>\n'+'<script charset="ISO-8859-1" src="'+b+'/assets/external/E-v1.js"></script>\n'+"<script>//<![CDATA[\n"+"window."+e.handle+' = Wistia.embed("'+e.hashedId+'"'+(g.length?", {\n"+g.join(",\n")+"\n}":"")+");\n"+"//]]></script>\n"},iframeVideoEmbedCode:function(a,b,c,d){var e={playButton:!0,smallPlayButton:!0,volumeControl:!1,playbar:!0,fullscreenButton:!0,controlsVisibleOnLoad:!1,autoPlay:!1,autoLoad:!1,endVideoBehavior:"default",platformPreference:"flash",doNotTrack:!1,playerColor:"636155",videoQuality:null},f=[];for(var g in e)d[g]!=undefined&&d[g]!=e[g]&&f.push(g+"="+d[g]);var h=f.length>0?"?"+f.join("&"):"";return d.autoPlay&&f.push("autoPlay=true"),'<iframe width="'+b+'" height="'+c+'" '+'src="'+a+h+'" '+'frameborder="0">'+"</iframe>"},javaScriptVideoEmbedCode:function(a,b,c,d,e){var f=[];f.push("autoPlay="+e.autoPlay),f.push("playButton="+e.playButtonVisible),f.push("controlsVisibleOnLoad="+e.controlsVisibleOnLoad),f.push("endVideoBehavior="+e.endVideoBehavior),e.playerColor&&e.playerColor!=="636155"&&f.push("playerColor="+e.playerColor),e.smallPlayButton===!1&&f.push("smallPlayButton=false"),e.volumeControl===!0&&f.push("volumeControl=true"),e.playbar===!1&&f.push("playbar=false"),e.fullscreenButton===!1&&f.push("fullscreenButton=false"),e.videoQuality!=null&&f.push("videoQuality="+e.videoQuality);var g="";e.noscriptContents!==""&&(g="<noscript>"+e.noscriptContents+"</noscript>");var h="";return e.showInteractiveTranscript&&(h=Wistia.Embeds.threeplayEmbedCode(e.threeplayVideoId,e.threeplayApiUrl,e.threeplayApiKey)),'<div id="wistia_'+a+'" style="width:'+c+"px;height:"+d+'px"></div>\n'+"<script>(function(){"+'var ssl = "https:" == document.location.protocol;'+"document.write(unescape('%3Cscript src=\"'+(ssl ? 'https://secure.':'http://static.')+'"+b+"/embed/e.js\"%3E%3C/script%3E'));"+"document.write(unescape('%3Cscript async defer src=\"'+(ssl ? 'https://':'http://')+'get-embed."+b+"/embed/medias/"+a+".js?"+f.join("&")+"\"%3E%3C/script%3E'));"+"})()</script>"+h+g},threeplayQuickEmbedCode:function(a,b,c){return"<script type='text/javascript' src='"+b+"/"+a+"/interactivetranscript.js?apikey="+c+"&amp;can_download=false&amp;can_collapse=true&amp;onload_collapse=false&amp;can_clip=true&amp;scan_view=false&amp;can_print=true&amp;usevideoid=1'></script>"},threeplayEmbedCode:function(a,b,c){return"<p3-transcript file_id='"+a+"' can_download='false' can_collapse='true' scan_view='false' can_clip='true' onload_collapse='false' can_print='true' skin='frost'></p3-transcript> \n        <div id='p3-root'></div> \n"+"<script type='text/javascript' src='//get-embed.wistia.com/embed/transcripts/"+a+".js'></script>"}}}(jQuery,jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){return typeof a=="string"&&(a=document.getElementById(a)),a.addClass||(a.hide=function(){this.style.display="none"},a.show=function(){this.style.display=""},a.addClass=function(a){this.removeClass(a),this.className+=" "+a},a.removeClass=function(a){var b=this.className.split(/\s+/),c=-1;for(var d=0;d<b.length;d++)b[d]==a&&(c=d,d=b.length);return c>-1&&(b.splice(c,1),this.className=b.join(" ")),this},a.hasClass=function(a){return!!this.className.match(new RegExp("\\s*"+a+"\\s*"))}),a},setMoviePath:function(a){this.moviePath=a},dispatch:function(a,b,c){var d=this.clients[a];d&&d.receiveEvent(b,c)},register:function(a,b){this.clients[a]=b},getDOMObjectPosition:function(a,b){var c={left:0,top:0,width:a.width?a.width:a.offsetWidth,height:a.height?a.height:a.offsetHeight};while(a&&a!=b)c.left+=a.offsetLeft,c.top+=a.offsetTop,a=a.offsetParent;return c},Client:function(a){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),a&&this.glue(a)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(a,b,c){this.domElement=ZeroClipboard.$(a);var d=99;this.domElement.style.zIndex&&(d=parseInt(this.domElement.style.zIndex,10)+1),typeof b=="string"?b=ZeroClipboard.$(b):typeof b=="undefined"&&(b=document.getElementsByTagName("body")[0]);var e=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div");var f=this.div.style;f.position="absolute",f.left=""+e.left+"px",f.top=""+e.top+"px",f.width=""+e.width+"px",f.height=""+e.height+"px",f.zIndex=d;if(typeof c=="object")for(addedStyle in c)f[addedStyle]=c[addedStyle];b.appendChild(this.div),this.div.innerHTML=this.getHTML(e.width,e.height)},getHTML:function(a,b){var c="",d="id="+this.id+"&width="+a+"&height="+b;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+a+'" height="'+b+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+d+'"/><param name="wmode" value="transparent"/></object>'}else c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+a+'" height="'+b+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+d+'" wmode="transparent" />';return c},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null,this.div=null}},reposition:function(a){a&&(this.domElement=ZeroClipboard.$(a),this.domElement||this.hide());if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement),c=this.div.style;c.left=""+b.left+"px",c.top=""+b.top+"px"}},setText:function(a){this.clipText=a,this.ready&&this.movie.setText(a)},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=[]),this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a,this.ready&&this.movie.setHandCursor(a)},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");switch(a){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent("load",null)},100),this.ready=!0;return}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[a])for(var d=0,e=this.handlers[a].length;d<e;d++){var f=this.handlers[a][d];typeof f=="function"?f(this,b):typeof f=="object"&&f.length==2?f[0][f[1]](this,b):typeof f=="string"&&window[f](this,b)}}},ZeroClipboard.setMoviePath("//app.wistia.com/flash/ZeroClipboard.swf"),window.ZeroClipboard=ZeroClipboard;var setupPsychobar;setupPsychobar=function(a){var b,c;return c=function(){return!!currentUser.data("psychobar.timelineaction")},b=function(){return currentUser.data("psychobar.timelineaction",!0),a("#psychobar").slideUp()},a(document).ready(function(){if(window.location.pathname.match(/stats\/medias/)&&a("#nav .stats").length>0&&!c())return a("#header").before('<div id="psychobar">\n  Introducing Timeline Actions and Improved Analytics.\n  <a href="http://wistia.com/blog/introducing-timeline-actions-and-improved-analytics" target="_blank">\n    Learn more on the blog.</a>\n  <a class="hide" href="#">Hide</a>\n</div>'),a("#psychobar a.hide").click(function(){return b(),!1}),a("#psychobar").bind("hide-psychobar",b)})},function(a){a(document).ready(function(){function g(){e.show(),c.show().addClass("open").animate({height:110},"fast","swing",function(){f.addClass("clicked"),c.triggerHandler("opened")})}function h(){c.removeClass("open").animate({height:0},"fast","swing",function(){c.hide(),e.hide(),f.removeClass("clicked"),c.triggerHandler("closed")})}function i(){h(),a(document).unbind("click",i)}if(a(".video_drawer").length==0)return;var b=a("li#help_videos"),c=a(".video_drawer"),d=c.find("li"),e=a(".drawer_tooth"),f=a("a#videos");c.bind("open",function(){g()}),c.bind("close",function(){h()}),d.on("hover",function(){a(this).toggleClass("hovered")}),b.on("click",function(){return c.is(".open")?h():(g(),a(document).click(i)),!1}),c.click(function(a){a.stopPropagation()})})}(jQuery),typeof Wistia=="undefined"&&(Wistia={}),function(a){a(document).ready(function(){Wistia.Form.initializeHints(),Wistia.Form.initializeAutosubmits(),a(".hoverable").live("mouseover",function(){a(this).addClass("hover")}).live("mouseout",function(){a(this).removeClass("hover")}),a("#action_menu").hover(function(b){a(this).addClass("hover")},function(b){a(this).removeClass("hover")}).click(function(){a(this).hasClass("hover")?a(this).removeClass("hover"):a(this).addClass("hover")}),Wistia.Instructables.initialize(),a("#search input[type=text]").bind("keydown",function(b){b.keyCode==27?a(this).blur():(b.keyCode<=36||b.keyCode>40)&&a(this).addClass("ac_loading")}).autocomplete("/search/autocomplete",{resultsClass:"quicksearch_results",max:9,cacheLength:0,scrollHeight:360,formatResult:function(a){return a[0].match(/^<div[^>]*>(.*?)<\/div>/)[1]},matchContains:!0,selectFirst:!1}).result(function(a,b){location.href=b[1]});var b=parseInt(a("#nav").css("right"),10),c=a("#search").width();a("#search input[type=text]").focus(function(d){a("#search").addClass("on"),a("#search").animate({width:c+217},100),a("#nav").animate({right:b+217},100),a(this).css({paddingLeft:12,textIndent:0,cursor:"auto"});var e=a(this);setTimeout(function(){e.select()},10)}),a("#search input[type=text]").blur(function(){a("#search").removeClass("on"),a("#search").animate({width:c},100),a("#nav").animate({right:b},100),a(this).css({paddingLeft:0,textIndent:42,cursor:"pointer"})}),a.hotkey(191,function(b){a("#search input[type=text]").focus(),b.preventDefault()}),a.hotkey("q",function(b){a("#jump_to_account").trigger("click")}),a.hotkey("m",function(b){a("#jump_to_media").trigger("click")}),a("a[rel*=facebox]").livequery(function(){a(this).facebox()}),a(document).on("click","a.done, button.done",function(b){b.preventDefault(),a(document).trigger("close.facebox")}),window.flashMessages&&setTimeout(function(){var a=function(){statusBar.addAll(window.flashMessages,{speed:1,life:1e4})};a()},1),a(".collapsible").collapsible(),a(document).bind("reveal.facebox",function(){var b=a("#facebox").find("input:text,textarea,select").enableHint();b.length>0&&b[0].focus()}),a("span.text-swap").livequery(function(){var b=a(this),c=b.find("span.primary"),d=b.find("span.alternate");c.add(d).css({position:"absolute",visibility:"hidden"});var e=c.width()>d.width()?c.width():d.width();c.add(d).css({position:"",visibility:"",width:e}),b.width(e),b.hover(function(){b.addClass("hover")},function(){b.removeClass("hover")})})}),a.fn.model_id=function(){var a=this.attr("id")&&this.attr("id").match(/[0-9]+$/);if(a)return a[0]},a.facebox.settings.opacity=.6,a(document).ready(function(){var b=a(".fixed-bottom-bar");if(b.is(":visible")){var c=b.outerHeight();a("#footerpad").css("padding-bottom",parseInt(a("#footerpad").css("padding-bottom"),10)+c),a("#footer").css("margin-top",parseInt(a("#footer").css("margin-top"),10)-c)}})}(jQuery);var logoSetup;logoSetup=function(a){return a(document).ready(function(){var b;return a("#js-dashboard-update-logo, #js-header-update-logo").on("click",function(){return a("#real_file").click()}),a("#real_file").on("change",function(a){return b()}),b=function(){var b,c,d;return c=a("#upload_logo_form input:file")[0].value,c===""?(alert("Whoops! Don't forget to pick an image file to upload."),!1):(d=c.split("."),b=d[d.length-1],d.length===1||b===""?(alert("Please make sure your file has a valid extension (e.g. 'our_badge_of_courage.jpg')."),!1):b.match(/jpe?g|png|gif/i)?a("#upload_logo_form").submit():(alert("Please select an image with a .jpg, .gif, or .png extension."),!1))},a("#upload_logo_form").submit(function(){var b,c,d;c=a("#upload_logo_form input:file")[0].value;if(c==="")return alert("Select an image file to upload."),!1;d=c.split("."),b=d[d.length-1];if(d.length===1||b==="")return alert("The file you've selected doesn't have an extension. Please make sure your file has a valid extension (e.g. 'my_image.jpg')."),!1;if(!b.match(/jpe?g|png|gif/i))return alert("Please select a jpg, gif, or png image."),!1})})},logoSetup(jQuery),function(a){return a(function(){return a.fn.questionBox=function(){return a(this).each(function(){var b,c,d,e,f;if(this._questionBoxSetup)return;return this._questionBoxSetup=!0,c=a(this),b=c.find(".answer_box"),f=function(){return b.fadeIn(200)},d=function(){return b.fadeOut(200)},e=function(a){var d;d=a.srcElement||a.target;if(d===c[0]||d===b[0])return a.preventDefault()},c.mouseenter(f),c.mouseleave(d),c.focus(f),c.blur(d),c.click(e)})},a(".question_box").questionBox(),a(document).bind("reveal.facebox",function(){return a(".question_box").questionBox()})})}(jQuery),function(a){var b,c,d,e,f,g;return g=function(){return b.css({left:10,position:"absolute",top:10,zIndex:100}),b.html(e.content),b.appendTo("body")},d=function(){return b.empty().remove()},f=function(){return b.html(e.content)},a.loading=function(b){var e;if(b===!1)return d();if(b===!0)return g();if(a.isObject(b))return e=a.extend(c,b),f();if(b)return g();throw"Don't know what to do with input argument "+b},b=a('<div style="position:absolute;"></div>'),c={content:'<img src="/assets/images/zebra/elements/loading.gif" alt="Loading..." />'},e=a.extend({},c),f()}(jQuery),function(a){a.cookie=function(b,c,d){if(arguments.length>1&&String(c)!=="[object Object]"){d=a.extend({},d);if(c===null||c===undefined)d.expires=-1;if(typeof d.expires=="number"){var e=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+e)}return c=String(c),document.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=c||{};var g,h=d.raw?function(a){return a}:decodeURIComponent;return(g=(new RegExp("(?:^|; )"+encodeURIComponent(b)+"=([^;]*)")).exec(document.cookie))?h(g[1]):null}}(jQuery),function(a){a.fn.flashSlideDown=function(b,c){return a(this).each(function(){var d=a(this);d.css({height:"",left:"-99999em",paddingTop:"",paddingBottom:"",position:"absolute"}).show();var e=d.height(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);d.css({height:0,left:0,paddingBottom:0,paddingTop:0,position:"relative"}),d.animate({height:e,paddingTop:f,paddingBottom:g},b!=null?b:200,"linear",function(){d.height(""),c&&c.call(this)})})},a.fn.flashSlideUp=function(b,c){return a(this).each(function(){var d=a(this);d.animate({height:0,paddingTop:0,paddingBottom:0},b!=null?b:200,"linear",function(){d.css({left:"-99999em",position:"absolute"}),c&&c.call(this)})})},a.fn.jamjar=function(b){return b=a.extend({afterClose:function(){},afterOpen:function(){},beforeClose:function(){},beforeOpen:function(){},help:null,helpOptions:{},openOnHover:!1,subhead:null,title:"",userCanControl:!0},b),a(this).each(function(){function n(){return!c.hasClass("jamjar_closed")}function o(){return l&&(j||m)?g.add(f):g}function p(){return o().not(function(){if(this===f[0]&&parseInt(f.css("left"),10)>=0)return!0})}function q(){return o().not(function(){if(this===f[0]&&parseInt(f.css("left"),10)<0)return!0})}function r(d,e){if(c.is(".disabled"))return;b.beforeOpen()!==!1&&p().stop(!0,!0).flashSlideDown(e!=null?e:200,function(){c.removeClass("jamjar_closed"),c.trigger("opened-jamjar"),a.browser.msie&&l&&(j||m)&&(f.hide(),f[0].offsetTop,f.show()),b.afterOpen()})}function s(a,d){b.beforeClose()!==!1&&q().stop(!0,!0).flashSlideUp(d!=null?d:200,function(){c.addClass("jamjar_closed"),c.trigger("closed-jamjar"),b.afterClose()})}function t(){f.flashSlideDown(200)}function u(a,b){l=b}function v(a){a.preventDefault(),n()?s():r()}var c,d,e,f,g,h,i,j,k,l,m;c=a(this),b.help?i=a(b.help):c.find(".help")&&(i=c.find(".help")),b.subhead?j=a(b.subhead):c.find(".subhead").length&&(j=c.find(".subhead")),b.title?k=b.title:k=c.attr("title")||"",l=!0,g=c.find(".jamjar_body").length?c.find(".jamjar_body"):a("<div class='jamjar_body'></div>"),d=c.find(".jamjar_head").length?c.find(".jamjar_head"):a("<div class='jamjar_head'></div>"),e=c.find(".jamjar_title").length?c.find(".jamjar_title"):a("<div class='jamjar_title'></div>"),f=c.find(".jamjar_subhead").length?c.find(".jamjar_subhead"):a("<div class='jamjar_subsubhead'></div>"),$help=c.find(".jamjar_help").length?c.find(".jamjar_help"):a("<div class='jamjar_help' style='display:none;'></div>"),h=c.find(".jamjar_foot").length?c.find(".jamjar_foot"):a("<div class='jamjar_foot'>&nbsp;</div>"),c.find(".jamjar_subhead")&&(m=!0),c.find(".jamjar_body")||g.append(c.contents()),d.append(e).append($help).append(f),c.append(d).append(g).append(h).addClass("jamjar"),e.html(k),i.length&&a.fn.mrBubble&&$help.show().mrBubble(i,a.extend({title:k},b.helpOptions)),j?f.append(j.show()):c.find(".jamjar_subhead")||f.hide(),c.bind("open-jamjar",r),c.bind("close-jamjar",s),c.bind("showsubhead-jamjar",t),c.bind("freezesubhead.jamjar",u);if(b.userCanControl){var w,x;b.openOnHover&&!/iphone|ipad|ipod|android/i.test(navigator.userAgent)?(e.mouseover(function(){clearTimeout(w),clearTimeout(w),w=setTimeout(function(){r(null,0)},50)}),a.browser.msie&&a.browser.version<8?a(document).on("click",function(b){var d=a(b.srcElement||b.target);d.closest(e[0]).length===0&&d.closest(c[0]).length===0&&(clearTimeout(w),clearTimeout(x),x=setTimeout(function(){s(null,0)},50))}):c.mouseout(function(b){var c=a(b.relatedTarget);c.closest(".jamjar").length===0&&(clearTimeout(w),clearTimeout(x),x=setTimeout(function(){s(null,0)},50))})):e.click(v)}else c.addClass("jamjar_no_control")})},window.actionMenuCookie=function(b){var c=a.cookie("action_menu_cookies");return window.JSON&&c?JSON.parse(c)[b]:null},window.setActionMenuCookie=function(b,c,d){if(!window.JSON)return;var e=a.cookie("action_menu_cookies"),f=e?JSON.parse(e):{};f[b]=c,a.cookie("action_menu_cookies",JSON.stringify(f),d)},a.fn.jamjarActionMenu=function(b){b=a.extend({name:window.location.pathname.replace(/\//,"_"),title:a(this).find(".jamjar_title").html()||"Actions",helpOptions:{orientation:"left"},openOnHover:!0},b),a(this).each(function(){var c=a(this);c.jamjar({title:b.title,helpOptions:b.helpOptions,openOnHover:b.openOnHover}),c.find("ul").each(function(){a(this).children(":first").addClass("first"),a(this).children(":last").addClass("last")})})}}(jQuery),function(a){return a.fn.moar=function(b){return b=a.extend({moarText:"More",lessText:"Less",moarClass:"moar_closed",lessClass:"moar_open",location:"before",onMoar:function(){},onLess:function(){}},b),a(this).each(function(){var c,d,e,f,g,h;c=a(this),d=a("<a href='#' class='moar_toggle'></a>");switch(b.location){case"before":c.before(d);break;case"after":c.after(d);break;default:a(b.location).empty().append(d)}f=function(){return c.css("display")!=="none"&&c.css("visibility")!=="hidden"},h=function(a){a==null&&(a=200),d.text(b.lessText).removeClass(b.moarClass).addClass(b.lessClass),c.slideDown(a,function(){c.removeClass(b.moarClass).addClass(b.lessClass),b.onMoar.call(c[0])})},g=function(a){a==null&&(a=200),d.text(b.moarText).addClass(b.moarClass).removeClass(b.lessClass),c.slideUp(a,function(){c.addClass(b.moarClass).removeClass(b.lessClass),b.onLess.call(c[0])})},e=function(a){a.preventDefault(),f()?g():h()},d.click(e),f()?(d.text(b.lessText).addClass(b.lessClass).removeClass(b.moarClass),c.addClass(b.lessClass).removeClass(b.moarClass),b.onMoar.call(c[0])):(d.text(b.moarText).addClass(b.moarClass).removeClass(b.lessClass),c.addClass(b.moarClass).removeClass(b.lessClass),b.onLess.call(c[0]))})}}(jQuery),function(){function a(a){var b=a;return b=b.replace(/&/g,"&amp;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/"/g,"&quot;"),b}function b(){return"rgb("+Math.random()*100+"%, "+Math.random()*100+"%, "+Math.random()*100+"%)"}window.diffString=function(b,c){b=b.replace(/\s+$/,""),c=c.replace(/\s+$/,"");var d=diff(b==""?[]:b.split(/\s+/),c==""?[]:c.split(/\s+/)),e="",f=b.match(/\s+/g);f==null?f=["\n"]:f.push("\n");var g=c.match(/\s+/g);g==null?g=["\n"]:g.push("\n");if(d.n.length==0)for(var h=0;h<d.o.length;h++)e+="<del>"+a(d.o[h])+f[h]+"</del>";else{if(d.n[0].text==null)for(c=0;c<d.o.length&&d.o[c].text==null;c++)e+="<del>"+a(d.o[c])+f[c]+"</del>";for(var h=0;h<d.n.length;h++)if(d.n[h].text==null)e+="<ins>"+a(d.n[h])+g[h]+"</ins>";else{var i="";for(c=d.n[h].row+1;c<d.o.length&&d.o[c].text==null;c++)i+="<del>"+a(d.o[c])+f[c]+"</del>";e+=" "+d.n[h].text+g[h]+i}}return e},window.diffString2=function(c,d){c=c.replace(/\s+$/,""),d=d.replace(/\s+$/,"");var e=diff(c==""?[]:c.split(/\s+/),d==""?[]:d.split(/\s+/)),f=c.match(/\s+/g);f==null?f=["\n"]:f.push("\n");var g=d.match(/\s+/g);g==null?g=["\n"]:g.push("\n");var h="",i=new Array;for(var j=0;j<e.o.length;j++)i[j]=b(),e.o[j].text!=null?h+='<span style="background-color: '+i[j]+'">'+a(e.o[j].text)+f[j]+"</span>":h+="<del>"+a(e.o[j])+f[j]+"</del>";var k="";for(var j=0;j<e.n.length;j++)e.n[j].text!=null?k+='<span style="background-color: '+i[e.n[j].row]+'">'+a(e.n[j].text)+g[j]+"</span>":k+="<ins>"+a(e.n[j])+g[j]+"</ins>";return{o:h,n:k}},window.diff=function(a,b){var c=new Object,d=new Object;for(var e=0;e<b.length;e++)c[b[e]]==null&&(c[b[e]]={rows:new Array,o:null}),c[b[e]].rows.push(e);for(var e=0;e<a.length;e++)d[a[e]]==null&&(d[a[e]]={rows:new Array,n:null}),d[a[e]].rows.push(e);for(var e in c)c[e].rows.length==1&&typeof d[e]!="undefined"&&d[e].rows.length==1&&(b[c[e].rows[0]]={text:b[c[e].rows[0]],row:d[e].rows[0]},a[d[e].rows[0]]={text:a[d[e].rows[0]],row:c[e].rows[0]});for(var e=0;e<b.length-1;e++)b[e].text!=null&&b[e+1].text==null&&b[e].row+1<a.length&&a[b[e].row+1].text==null&&b[e+1]==a[b[e].row+1]&&(b[e+1]={text:b[e+1],row:b[e].row+1},a[b[e].row+1]={text:a[b[e].row+1],row:e+1});for(var e=b.length-1;e>0;e--)b[e].text!=null&&b[e-1].text==null&&b[e].row>0&&a[b[e].row-1].text==null&&b[e-1]==a[b[e].row-1]&&(b[e-1]={text:b[e-1],row:b[e].row-1},a[b[e].row-1]={text:a[b[e].row-1],row:e-1});return{o:a,n:b}}}(),function(a){return Wistia.ColorPicker=function(){function b(b,c,d){var e;this.elem=b,c==null&&(c="#898676"),d==null&&(d={}),this.defineColors(),this.elem.style.position="relative",this.width=d.width||a.elem.width(this.elem),this.height=d.height||a.elem.height(this.elem),this.grayWidth=30,this.colorsWidth=this.width-this.grayWidth,this.anchors=[new a.Color("#f00"),new a.Color("#ff0"),new a.Color("#0f0"),new a.Color("#0ff"),new a.Color("#00f"),new a.Color("#f0f"),new a.Color("#f00")],this.zoneWidth=this.colorsWidth/(this.anchors.length-1),this.usePrerenderedGradient(),this.defineBindings(),this.setupTriggers(),this._hsValue=new a.Color("#f00"),this._brightness=.5,this._value(new a.Color(c)),e=this.pointAtColor(this._value().clone().lightness(50)),this._x=e.left,this._y=e.top}return b.prototype.defineBindings=function(){var b=this;return this.onDragHs||(this.onDragHs=function(a){var c,d;c=b.relativeOffset(a.pageX,a.pageY),d=b.colorAtPoint(c.left,c.top);if(b._draggingHs)return b.point(c.left,c.top),b.trigger("colorchange-via-ui")}),this.startDragHs||(this.startDragHs=function(c){var d;if(c.which===3)return;return d=b.relativeOffset(c.pageX,c.pageY),b._draggingHs=!0,a.elem.addClass(b.elem,"wistia_drag_mode"),a.elem.addClass(document.body,"wistia_no_user_select"),b.embiggenSwatch(b.hsSwatchElem,d.left,d.top),b.onDragHs(c),a.elem.bind(document,"mousemove",b.onDragHs),a.elem.bind(document,"mouseup",b.stopDragHs)}),this.stopDragHs||(this.stopDragHs=function(c){var d;return d=b.relativeOffset(c.pageX,c.pageY),b._draggingHs=!1,a.elem.removeClass(document.body,"wistia_no_user_select"),a.elem.removeClass(b.elem,"wistia_drag_mode"),a.timeout(""+b.hsSwatchId+".delayed_hs_shrink",function(){return b.shrinkSwatch(b.hsSwatchElem,d.left,d.top)},50),a.elem.unbind(document,"mousemove",b.onDragHs),a.elem.unbind(document,"mouseup",b.stopDragHs)}),this.onDragBrightness||(this.onDragBrightness=function(a){var c;if(b._draggingBrightness)return c=b.relativeOffset(a.pageX,a.pageY),b.brightness(1-c.top/b.height),b.trigger("colorchange-via-ui")}),this.startDragBrightness||(this.startDragBrightness=function(c){var d;if(c.which===3)return;return d=b.relativeOffset(c.pageX,c.pageY),b._draggingBrightness=!0,a.elem.addClass(b.elem,"wistia_drag_mode"),a.elem.addClass(document.body,"wistia_no_user_select"),b.embiggenSwatch(b.brightnessSwatchElem,d.left,d.top),b.onDragBrightness(c),a.elem.bind(document,"mousemove",b.onDragBrightness),a.elem.bind(document,"mouseup",b.stopDragBrightness)}),this.stopDragBrightness||(this.stopDragBrightness=function(c){var d;return d=b.relativeOffset(c.pageX,c.pageY),b._draggingBrightness=!1,a.elem.removeClass(b.elem,"wistia_drag_mode"),a.elem.removeClass(document.body,"wistia_no_user_select"),a.timeout(""+b.hsSwatchId+".delayed_brightness_shrink",function(){return b.shrinkSwatch(b.brightnessSwatchElem,d.left,d.top)},50),a.elem.unbind(document,"mousemove",b.onDragBrightness),a.elem.unbind(document,"mouseup",b.stopDragBrightness)})},b.prototype.setupTriggers=function(){return a.elem.bind(this.colorsElem,"mousedown",this.startDragHs),a.elem.bind(this.graysElem,"mousedown",this.startDragBrightness)},b.prototype.relativeOffset=function(b,c){var d,e;return d=a.elem.offset(this.elem),e=a.elem.scrollOffset(this.elem),this.isFixed()&&(e.left-=a.util.scrollLeft(),e.top-=a.util.scrollTop()),{left:Math.min(Math.max(0,b-d.left+e.left),this.colorsWidth-1),top:Math.min(Math.max(0,c-d.top+e.top),this.height)}},b.prototype.isFixed=function(){var b;if(this._isFixed!=null)return this._isFixed;this._isFixed=!1,b=this.elem;while((b!=null?b.nodeType:void 0)===1)a.elem.style(b,"position")==="fixed"&&(this._isFixed=!0),b=b.parentNode;return this._isFixed},b.prototype.colorAtPoint=function(a,b){var c,d,e,f,g,h,i,j,k;return d=Math.floor(a/this.zoneWidth),h=d+1,c=this.anchors[d].clone(),g=this.anchors[h].clone(),j=(a-d*this.zoneWidth)/this.zoneWidth,k=100-this.colorEasing(b/this.height)*100,e=c.clone().saturation(k),i=g.clone().saturation(k),f=e.blend(i,j),f},b.prototype.colorEasing=function(a){return a},b.prototype.grayEasing=function(a){var b,c,d,e,f;return a===0?a:(b=0,c=Math.pow(a,.4),d=Math.pow(a,.4),f=(a/=d)*a,e=f*a,b+c*(-2*e+3*f))},b.prototype.pointAtColor=function(b){var c,d,e,f,g,h,i,j,k,l,m,n;b=new a.Color(b),m=Math.round(this.height*(1-b.saturation()/100));if(b.isGrayscale())f=this._x||0;else{d=b.channelDominance(),n=d[0]+d[1];switch(n){case"rg":g=0,k=1;break;case"gr":g=1,k=2;break;case"gb":g=2,k=3;break;case"bg":g=3,k=4;break;case"br":g=4,k=5;break;case"rb":g=5,k=6}h=this.anchors[g].clone().saturation(b.saturation()),l=this.anchors[k].clone().saturation(b.saturation()),j=this.alphaToForm(l.r,h.r,b.r),e=this.alphaToForm(l.g,h.g,b.g),c=this.alphaToForm(l.b,h.b,b.b),i=Math.sqrt(Math.pow(j,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.round(this.zoneWidth*g+Math.round(this.zoneWidth*i))}return{left:f,top:m}},b.prototype.alphaToForm=function(a,b,c){return Math.abs(a-b)<1e-8?0:(c-b)/(a-b)},b.prototype.point=function(a,b){return a!=null&&b!=null?(this._x=a,this._y=b,this.hsValue(this.colorAtPoint(a,b))):{x:this._x,y:this._y}},b.prototype.shrinkSwatch=function(b,c,d){if(this._isBig)return this._isBig=!1,a.elem.removeClass(b,"wistia_big_swatch"),a.elem.addClass(b,"wistia_little_swatch")},b.prototype.embiggenSwatch=function(b,c,d){if(!this._isBig)return this._isBig=!0,a.elem.addClass(b,"wistia_big_swatch"),a.elem.removeClass(b,"wistia_little_swatch")},b.prototype.noUserSelect=function(){return"-webkit-user-select: none;\n-khtml-user-select: none;\n-moz-user-select: none;\n-o-user-select: none;\nuser-select: none;"},b.prototype.usePrerenderedGradient=function(){return this.colorsId=a.seqId("wistia_color_picker_","_colors"),this.graysId=a.seqId("wistia_color_picker_","_grays"),this.hsSwatchId=a.seqId("wistia_color_picker_","_swatch"),a.elem.html(this.elem,"<style>\n.wistia_no_user_select {\n"+this.noUserSelect()+"\n}\n#"+this.colorsId+" {\nheight: "+this.height+"px;\nleft: 0;\nposition: absolute;\ntop: 0;\nwidth: "+this.colorsWidth+"px;\n"+this.noUserSelect()+"\n}\n#"+this.colorsId+"_image {\nheight: 100%;\nvertical-align: top;\nwidth: 100%;\n}\n#"+this.colorsId+"_brightness_overlay {\nheight: "+this.height+"px;\nleft: 0;\nposition: absolute;\ntop: 0;\nwidth: "+this.colorsWidth+"px;\n"+this.noUserSelect()+"\n}\n#"+this.graysId+" {\n"+(a.detect.ipad||a.detect.iphone?"background:-webkit-linear-gradient(#fff, #808080, #000);":"background: linear-gradient(to bottom, #fff 0%, #808080 50%, #000 100%);")+"\nheight: "+this.height+"px;\nleft: "+this.colorsWidth+"px;\nposition: absolute;\ntop: 0;\nwidth: "+this.grayWidth+"px;\n"+this.noUserSelect()+"\n}\n#"+this.graysId+"_lower {\nheight: 50%;\nleft: 0;\nposition: absolute;\ntop: 50%;\nwidth: 100%;\n}\n#"+this.graysId+"_upper {\nheight: 50%;\nleft: 0;\nposition: absolute;\ntop: 0;\nwidth: 100%;\n}\n#"+this.graysId+"_swatch {\nborder: 2px solid #fff;\nborder-radius: 50%;\nleft: 15px;\npointer-events: none;\nposition: absolute;\ntop: 0;\nz-index: 1;\n}\n#"+this.hsSwatchId+' {\nborder: 2px solid #fff;\nborder-radius: 50%;\nleft: 0;\nposition: absolute;\ntop: 0;\nz-index: 2;\n}\n.wistia_big_swatch {\nheight: 40px;\nmargin: -22px 0 0 -22px;\nwidth: 40px;\n}\n.wistia_little_swatch {\nheight: 14px;\nmargin: -9px 0 0 -9px;\nwidth: 14px;\n}\n</style>\n<div id="'+this.colorsId+'">\n<img id="'+this.colorsId+'_image" src="/assets/images/colorpicker_colors.png" alt="" />\n<div id="'+this.colorsId+'_brightness_overlay"></div>\n<div id="'+this.hsSwatchId+'" class="wistia_little_swatch"></div>\n</div>\n<div id="'+this.graysId+'">\n<div id="'+this.graysId+'_upper"></div>\n<div id="'+this.graysId+'_lower"></div>\n<div id="'+this.graysId+'_swatch" class="wistia_little_swatch"></div>\n</div>'),this.colorsElem=document.getElementById(this.colorsId),this.brightnessOverlay=document.getElementById(""+this.colorsId+"_brightness_overlay"),this.graysElem=document.getElementById(this.graysId),this.graysUpper=document.getElementById(""+this.graysId+"_upper"),this.graysLower=document.getElementById(""+this.graysId+"_lower"),this.hsSwatchElem=document.getElementById(this.hsSwatchId),this.brightnessSwatchElem=document.getElementById(""+this.graysId+"_swatch"),this.preventDrag(this.colorsElem),this.preventDrag(this.graysElem),this.preventDrag(this.hsSwatchElem)},b.prototype.updateBrightnessGradient=function(){var b;return b=a.elem.style(this.graysElem,"background"),a.detect.browser.msie&&a.detect.browser.version<10?(this.graysLower.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr='#"+this.hsValue().toHex()+"', endColorstr='#000000', GradientType=0);",this.graysUpper.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#"+this.hsValue().toHex()+"', GradientType=0);"):a.detect.ipad||a.detect.iphone?this.graysElem.style.background="-webkit-linear-gradient(#fff, #"+this.hsValue().toHex()+", #000)":this.graysElem.style.background="linear-gradient(to bottom, #fff 0%, #"+this.hsValue().toHex()+" 50%, #000 100%)"},b.prototype.preventDrag=function(b){return b.draggable=!1,a.elem.bind(b,"dragstart",function(){return!1})},b.prototype.hsValue=function(a){var b;return a!=null?(this._hsValue=a,b=this.pointAtColor(a),this.updateBrightnessGradient(),this.updateSwatches
(),this.trigger("colorchange"),this):this._hsValue.clone()},b.prototype.brightness=function(a){return a!=null?(this._brightness=a,this._brightness>.5?this.brightnessOverlay.style.backgroundColor="#ffffff":this.brightnessOverlay.style.backgroundColor="#000000",this.brightnessOverlay.style.opacity=Math.abs(.5-a)/.5,this.brightnessOverlay.style.filter="alpha(opacity="+Math.round(Math.abs(.5-a)/.5*100)+")",this.updateSwatches(),this.trigger("colorchange"),this):this._brightness},b.prototype.updateSwatches=function(){var a,b,c,d,e,f;b=this.pointAtColor(this.hsValue()),this.brightnessSwatchElem.style.top=""+Math.round((1-this.brightness())*this.height)+"px",this.brightnessSwatchElem.style.backgroundColor="#"+this._value().toHex(),this.hsSwatchElem.style.left=""+b.left+"px",this.hsSwatchElem.style.top=""+b.top+"px",this.hsSwatchElem.style.backgroundColor="#"+this._value().toHex(),e=[this.brightnessSwatchElem,this.hsSwatchElem],f=[];for(c=0,d=e.length;c<d;c++)a=e[c],a.style.display="none",a.offsetTop,f.push(a.style.display="block");return f},b.prototype._value=function(b){return b!=null?(b=new a.Color(b),this.hsValue(b.clone().lightness(50)),this.brightness(b.lightness()/100),this.updateSwatches()):this.hsValue().lightness(this.brightness()*100)},b.prototype.value=function(a){return a!=null?(this._value(a),this.trigger("colorchange-via-api")):this._value()},b.prototype.generateGradient=function(){var b,c,d,e,f,g;g=[];for(c=e=0,f=this.colorsWidth;0<=f?e<f:e>f;c=0<=f?++e:--e)g.push(function(){var e,f,g;g=[];for(d=e=0,f=this.height;0<=f?e<f:e>f;d=0<=f?++e:--e)b=document.createElement("div"),b.style.position="absolute",b.style.left=""+c+"px",b.style.top=""+d+"px",b.style.height="1px",b.style.width="1px",b.style.backgroundColor="#"+this.colorAtPoint(c,d).toHex(),g.push(a.elem.append(this.elem,b));return g}.call(this));return g},b.prototype.colorName=function(a){var b,c,d,e,f,g;a==null&&(a=this.value()),e=1e6,b="Black",g=this.COLORS;for(f in g){c=g[f],d=a.distanceFrom(c);if(d===0)return this.uncamelize(f);d<e&&(b=f,e=d)}return this.uncamelize(b)},b.prototype.uncamelize=function(a){var b;return b=a.split(/(?=[A-Z])/).join(" "),b},b.prototype.defineColors=function(){var b,c,d,e;this.COLORS={},d=this.RAW_COLORS,e=[];for(c in d)b=d[c],e.push(this.COLORS[c]=new a.Color(b));return e},b.prototype.RAW_COLORS={AliceBlue:"#F0F8FF",AntiqueWhite:"#FAEBD7",Aqua:"#00FFFF",Aquamarine:"#7FFFD4",Azure:"#F0FFFF",Beige:"#F5F5DC",Bisque:"#FFE4C4",Black:"#000000",BlanchedAlmond:"#FFEBCD",Blue:"#0000FF",BlueViolet:"#8A2BE2",Brown:"#A52A2A",BurlyWood:"#DEB887",CadetBlue:"#5F9EA0",Chartreuse:"#7FFF00",Chocolate:"#D2691E",Coral:"#FF7F50",CornflowerBlue:"#6495ED",Cornsilk:"#FFF8DC",Crimson:"#DC143C",Cyan:"#00FFFF",DarkBlue:"#00008B",DarkCyan:"#008B8B",DarkGoldenRod:"#B8860B",DarkGray:"#A9A9A9",DarkGreen:"#006400",DarkKhaki:"#BDB76B",DarkMagenta:"#8B008B",DarkOliveGreen:"#556B2F",DarkOrange:"#FF8C00",DarkOrchid:"#9932CC",DarkRed:"#8B0000",DarkSalmon:"#E9967A",DarkSeaGreen:"#8FBC8F",DarkSlateBlue:"#483D8B",DarkSlateGray:"#2F4F4F",DarkTurquoise:"#00CED1",DarkViolet:"#9400D3",DeepPink:"#FF1493",DeepSkyBlue:"#00BFFF",DimGray:"#696969",DodgerBlue:"#1E90FF",FireBrick:"#B22222",FloralWhite:"#FFFAF0",ForestGreen:"#228B22",Fuchsia:"#FF00FF",Gainsboro:"#DCDCDC",GhostWhite:"#F8F8FF",Gold:"#FFD700",GoldenRod:"#DAA520",Gray:"#808080",Green:"#008000",GreenYellow:"#ADFF2F",HoneyDew:"#F0FFF0",HotPink:"#FF69B4",IndianRed:"#CD5C5C",Indigo:"#4B0082",Ivory:"#FFFFF0",Khaki:"#F0E68C",Lavender:"#E6E6FA",LavenderBlush:"#FFF0F5",LawnGreen:"#7CFC00",LemonChiffon:"#FFFACD",LightBlue:"#ADD8E6",LightCoral:"#F08080",LightCyan:"#E0FFFF",LightGoldenRodYellow:"#FAFAD2",LightGray:"#D3D3D3",LightGreen:"#90EE90",LightPink:"#FFB6C1",LightSalmon:"#FFA07A",LightSeaGreen:"#20B2AA",LightSkyBlue:"#87CEFA",LightSlateGray:"#778899",LightSteelBlue:"#B0C4DE",LightYellow:"#FFFFE0",Lime:"#00FF00",LimeGreen:"#32CD32",Linen:"#FAF0E6",Magenta:"#FF00FF",Maroon:"#800000",MediumAquaMarine:"#66CDAA",MediumBlue:"#0000CD",MediumOrchid:"#BA55D3",MediumPurple:"#9370DB",MediumSeaGreen:"#3CB371",MediumSlateBlue:"#7B68EE",MediumSpringGreen:"#00FA9A",MediumTurquoise:"#48D1CC",MediumVioletRed:"#C71585",MidnightBlue:"#191970",MintCream:"#F5FFFA",MistyRose:"#FFE4E1",Moccasin:"#FFE4B5",NavajoWhite:"#FFDEAD",Navy:"#000080",OldLace:"#FDF5E6",Olive:"#808000",OliveDrab:"#6B8E23",Orange:"#FFA500",OrangeRed:"#FF4500",Orchid:"#DA70D6",PaleGoldenRod:"#EEE8AA",PaleGreen:"#98FB98",PaleTurquoise:"#AFEEEE",PaleVioletRed:"#DB7093",PapayaWhip:"#FFEFD5",PeachPuff:"#FFDAB9",Peru:"#CD853F",Pink:"#FFC0CB",Plum:"#DDA0DD",PowderBlue:"#B0E0E6",Purple:"#800080",Red:"#FF0000",RosyBrown:"#BC8F8F",RoyalBlue:"#4169E1",SaddleBrown:"#8B4513",Salmon:"#FA8072",SandyBrown:"#F4A460",SeaGreen:"#2E8B57",SeaShell:"#FFF5EE",Sienna:"#A0522D",Silver:"#C0C0C0",SkyBlue:"#87CEEB",SlateBlue:"#6A5ACD",SlateGray:"#708090",Snow:"#FFFAFA",SpringGreen:"#00FF7F",SteelBlue:"#4682B4",Tan:"#D2B48C",Teal:"#008080",Thistle:"#D8BFD8",Tomato:"#FF6347",Turquoise:"#40E0D0",Violet:"#EE82EE",Wheat:"#F5DEB3",White:"#FFFFFF",WhiteSmoke:"#F5F5F5",Yellow:"#FFFF00",YellowGreen:"#9ACD32",WarmGray:"#7B796A",WistiaBlue:"#81B7DB"},b}(),a.mixin(a.ColorPicker.prototype,a.bindable)}(Wistia);var __slice=[].slice;(function(a,b){return window.FileUploader=function(){function c(c,d){var e=this;this.button=c,this.options=d!=null?d:{},this.uuid=a.seqId(),this.ready=new a.StopGo,this.$button=b(this.button),this.$button.click(function(a){return a.preventDefault()}),this.originalText=this.statusElem().text(),this.baseId=this.$button.attr("id"),this.setupForm(),this.options.platformPreference==="iframe"?this.initIframe():this.options.platformPreference==="html"?this.initHtml():this.canUseFlash()?this.initFlash():this.initHtml()}return c.prototype.setupForm=function(){return this.$form=b('<form id="'+this.baseId+'_upload_form"></form>').attr("action",this.options.uploadUrl).attr("enctype","multipart/form-data").attr("method","POST"),this.$button.after(this.$form),this.$fileWrapper=b('<div id="'+this.baseId+'_upload_file_wrapper"></div>').attr("class","upload_file_wrapper"),this.$form.append(this.$fileWrapper),this.$fileWrapper.prepend(this.$button),this.$file=b('<input type="file" name="'+this.options.filePostName+'" id="'+this.baseId+'_file" />').hide(),this.$fileWrapper.append(this.$file),this.$swfuContainer=b('<div id="'+this.baseId+'_swfu_container"></div>'),this.$fileWrapper.append(this.$swfuContainer),this.$status=b('<div id="'+this.baseId+'_upload_status"></div>'),this.$form.append(this.$status),this.$form.append('<input type="hidden" name="redirect_to" value="'+(this.options.redirectTo||"")+'"/>')},c.prototype.setUploadUrl=function(a){return this.$form.attr("action",a),this.options.uploadUrl=a},c.prototype.canUseFlash=function(){return a.detect.flash.version>=10||a.detect.flash.version===9&&a.detect.flash.revision<28},c.prototype.defaultPostParams=function(){var a;return a={},a[window._auth_token_name]=window._auth_token,a},c.prototype.initOptions=function(){var a=this;return{upload_url:this.options.uploadUrl,flash_url:"//fast.wistia.com/flash/swfupload2.swf",prevent_swf_caching:!1,post_params:this.defaultPostParams(),file_post_name:this.options.filePostName,file_size_limit:"2MB",file_types:"*.*",file_types_description:"All Files",swfupload_loaded_handler:function(){return a.ready(!0)},file_upload_limit:0,file_queue_limit:1,file_queued_handler:function(){var b;return b=1<=arguments.length?__slice.call(arguments,0):[],a._fileQueued.apply(a,b)},file_queue_error_handler:function(){var b;return b=1<=arguments.length?__slice.call(arguments,0):[],a._fileQueueError.apply(a,b)},upload_progress_handler:function(){var b;return b=1<=arguments.length?__slice.call(arguments,0):[],a._uploadProgress.apply(a,b)},upload_error_handler:function(){var b;return b=1<=arguments.length?__slice.call(arguments,0):[],a._uploadError.apply(a,b)},upload_success_handler:function(){var b;return b=1<=arguments.length?__slice.call(arguments,0):[],a._uploadSuccess.apply(a,b)},button_action:SWFUpload.BUTTON_ACTION.SELECT_FILES,button_cursor:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,button_image_url:"//fast.wistia.com/assets/images/blank.gif",button_placeholder_id:""+this.baseId+"_swfu_container",button_height:this.$fileWrapper.outerHeight(),button_width:this.$fileWrapper.outerWidth(),button_text:"&nbsp;"}},c.prototype.initFlash=function(){return this.swfu=new SWFUpload(this.initOptions())},c.prototype.initIframe=function(){var c,d=this;return this.iframeId=a.seqId("wistia_iframe_upload"),c="/file_uploader?iframe=true&id="+this.iframeId+"&uploadUrl="+encodeURIComponent(this.options.uploadUrl)+"&filePostName="+this.options.filePostName+"&uploadText="+(this.options.uploadText||""),this.$iframe=b('<iframe src="'+c+'" id="'+this.iframeId+'" class="file_uploader_iframe" scrolling="no" allowtransparency="true" frameborder="0" width="105" height="20"></iframe>'),this.$form.before(this.$iframe),this.$form.remove(),this.iframeDispatch||(this.iframeDispatch=function(a){var b,c;return typeof a.data=="string"&&a.data.indexOf(d.iframeId)>=0?b=Wistia.JSON.parse(a.data):b={},typeof (c=d.options).onSuccess=="function"?c.onSuccess(a.data):void 0}),a.elem.unbind(window,"message",this.iframeDispatch),a.elem.bind(window,"message",this.iframeDispatch)},c.prototype.initHtml=function(){var a,c=this;return a=function(d){var e;e=b(d.srcElement||d.target);if(e.closest(c.$file[0]).length>0||e.closest(c.$button[0]).length>0)return;return c.$button.show(),c.$file.hide(),b(document).off("click",a)},this.onClickButton=function(d){return c.$button.hide(),c.$file.show(),b(document).on("click",a)},this.$button.click(this.onClickButton),this.onChangeFile=function(){var a;return c.$file.hide(),c.$button.show(),typeof c.beforeStartUpload=="function"&&c.beforeStartUpload(),typeof (a=c.options).beforeStartUpload=="function"&&a.beforeStartUpload(),c.status("Uploading..."),c.options.noAjax?c.$form.submit():(c.$form.ajaxSubmit({data:c.defaultPostParams(),success:function(a){var b;return typeof c.success=="function"&&c.success(a),c.flash("Success!",1e3),typeof (b=c.options).onSuccess=="function"?b.onSuccess(a):void 0},error:function(a){var b;return a.responseText&&typeof console!="undefined"&&console!==null&&console.log("error",a.responseText),typeof (b=this.options).onError=="function"?b.onError.apply(b,arguments):void 0}}),typeof c.afterStartUpload=="function"?c.afterStartUpload():void 0)},this.$file.change(this.onChangeFile)},c.prototype._fileQueued=function(a){var b;return this.$file.hide(),typeof this.beforeStartUpload=="function"&&this.beforeStartUpload(a),typeof (b=this.options).beforeStartUpload=="function"&&b.beforeStartUpload(),this.status("Uploading..."),this.swfu.startUpload(),typeof this.afterStartUpload=="function"?this.afterStartUpload(a):void 0},c.prototype._fileQueueError=function(a,b){typeof this.error=="function"&&this.error();switch(b){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:return alert("You may not upload files exceeding "+this.swfu.settings.file_size_limit);case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:return alert("This file is reporting its size as 0. The upload has been aborted.")}},c.prototype._uploadProgress=function(a,b){return this.status(""+Math.floor(b/a.size*100)+"% uploaded")},c.prototype._uploadError=function(a,b,c){typeof this.error=="function"&&this.error();switch(b){case SWFUpload.UPLOAD_ERROR.IO_ERROR:return alert("Connection interrupted. This error may be caused by intermittent connection loss, local firewall software, or issues with your network configuration. Please try your upload again or contact Wistia for assistance.");default:return alert("Upload error "+b+": "+c)}},c.prototype._uploadSuccess=function(a,b){return this.success(b)},c.prototype.error=function(){var a;return typeof (a=this.options).onError=="function"&&a.onError(),this.flash("Error!",1e3)},c.prototype.success=function(a){var b;return typeof (b=this.options).onSuccess=="function"&&b.onSuccess(a),this.flash("Success!",1e3)},c.prototype.statusElem=function(){return this.options.statusElem?b(this.options.statusElem):this.$button},c.prototype.status=function(a){return this.statusElem().text(a)},c.prototype.flash=function(b,c,d){var e=this;return c==null&&(c=1e3),this.statusElem().text(b),a.timeout(""+this.uuid+".status_update",function(){return e.statusElem().text(e.originalText),typeof d=="function"?d():void 0},c)},c.prototype.destroy=function(){var a,b,c;return this.onClickButton&&this.$button.unbind("click",this.onClickButton),this.onChangeFile&&(a=this.$file)!=null&&a.unbind("change",this.onChangeFile),(b=this.swfu)!=null&&b.destroy(),this.swfu=null,(c=this.$fileWrapper)!=null?c.find("object").remove():void 0},c.prototype.rebuild=function(){return this.destroy(),this.options.platformPreference==="html"?this.initHtml():this.options.platformPreference==="iframe"?this.initIframe():this.canUseFlash()?(this.$fileWrapper.append("<div id='"+this.baseId+"_swfu_container' class='upload_file_wrapper'></div>"),this.initFlash()):this.initHtml()},c}()})(Wistia,jQuery);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b){return window.ImageUploader=function(c){function d(c,e){this.button=c,this.options=e!=null?e:{},this.success=__bind(this.success,this),this.options=a.obj.merge({filePostName:"media[source_file]",autoCrop:!0,height:null,width:null},this.options),this.$uploadParamsForm=b("#customizer_image_upload_params"),this.getVarsFromForm(this.$uploadParamsForm),d.__super__.constructor.call(this,this.button,this.options),this.$uploadParamsForm.find("input[type=hidden]").clone().appendTo(this.$form),this.getVarsFromForm(this.$form),this.$foreignId=b('<input type="hidden" name="media[foreign_id]" />'),this.$form.append(this.$foreignId),this.options.uploadUrl||this.setUploadUrl(this.defaultUploadUrl()),this.rebuild()}return __extends(d,c),d.prototype.getVarsFromForm=function(a){return this.$flashBakeryUploadUrl=a.find("[name=flash_bakery_upload_url]"),this.$flashSignature=a.find("[name=flash_signature]"),this.$flashExpires=a.find("[name=flash_expires]"),this.$bakeryUploadUrl=a.find("[name=bakery_upload_url]"),this.$signature=a.find("[name=signature]"),this.$expires=a.find("[name=expires]"),this.$deliveryUrlForPath=a.find("[name=delivery_url_for_path]")},d.prototype.defaultUploadUrl=function(){return this.canUseFlash()?this.$flashBakeryUploadUrl.val():this.$bakeryUploadUrl.val()},d.prototype.defaultPostParams=function(){var a;return this.canUseFlash()?a={signature:this.$flashSignature.val(),expires:this.$flashExpires.val()}:a={signature:this.$signature.val(),expires:this.$expires.val()},this.foreignId&&(a["media[foreign_id]"]=this.foreignId),a},d.prototype.initOptions=function(){var b;return b=a.obj.merge(d.__super__.initOptions.apply(this,arguments),{file_types:"*.jpg;*.jpeg;*.png;*.gif;*.bmp"}),b},d.prototype.beforeStartUpload=function(a){var b,c,d,e;return typeof (b=this.options).beforeStartUpload=="function"&&b.beforeStartUpload(),this.foreignId=this.createForeignId(),this.$foreignId.val(this.foreignId),(c=this.swfu)!=null&&(c.customSettings.foreignId=this.foreignId),(d=this.swfu)!=null&&d.removeFileParam(a.id,"media[foreign_id]"),(e=this.swfu)!=null?e.addFileParam(a.id,"media[foreign_id]",this.foreignId):void 0},d.prototype.afterStartUpload=function(){var b=this;this.status("Uploading...");if(!this.canUseFlash())return a.timeout(""+this.uuid+".delayed_success",function(){return b.success()},1e3)},d.prototype.success=function(){var a=this;return this.status("Processing..."),b.ajax({dataType:"html",url:this.$deliveryUrlForPath.val(),data:{use_https_delivery:location.protocol==="https:","media[foreign_id]":this.foreignId},success:function(b){return a.fetchDeliveryUrl(function(b){var c;return c=a.resizedUrl(b),a.status("Processing...",1e3),d.whenImageLoads(c,{success:function(){var b;return a.flash("Success!",1e3),typeof (b=a.options).onSuccess=="function"?b.onSuccess(c):void 0},error:function(){return a.error()}})})},error:function(){return a.error()}})},d.prototype.error=function(){var a;return alert("There was a problem getting the URL of your upload. Please try again or contact support for assistance."),this.flash("Error!"),typeof (a=this.options).onError=="function"?a.onError():void 0},d.prototype.createForeignId=function(){return"customizer_"+this.baseId+"_upload_"+(new Date).getTime()+"-"+Math.floor(Math.random()*4294967296)},d.prototype.resizedUrl=function(b){var c;return c=a.url.parse(b),c.params={},this.options.autoCrop?this.dimensions()&&(c.params.image_crop_resized=this.dimensions()):this.dimensions()&&(c.params.image_resize=this.dimensions()),c.ext("jpg"),c},d.prototype.dimensions=function(){return this.options.width!=null&&this.options.height!=null?""+this.options.width+"x"+this.options.height:this.options.width?""+this.options.width:this.options.height?"x"+this.options.height:""},d.prototype.fetchDeliveryUrl=function(a,c){var d=this;c==null&&(c=0);if(c>=15){alert("There was a problem uploading your file. Please try reducing the size of the file, or contacting support.");return}return b.ajax({dataType:"html",url:this.$deliveryUrlForPath.val(),data:{use_https_delivery:!0,"media[foreign_id]":this.foreignId},success:function(b){return b?a(b):setTimeout(function(){return d.fetchDeliveryUrl(a,c+1)},2e3)},error:function(){return setTimeout(function(){return d.fetchDeliveryUrl(a,c+1)},2e3)}})},d}(FileUploader),ImageUploader.whenImageLoads=function(c,d,e,f,g){var h,i=this;d==null&&(d={}),e==null&&(e=0),f==null&&(f=15),g==null&&(g=2e3);if(e>=f){d.error?d.error():alert("The image was successfully uploaded, but failed to load on the page. It may need additional time to process.");return}return c=a.url.parse(c),c.params.t=(new Date).getTime(),h=b("<img src='"+c.absolute()+"' alt='' style='left:-99999em;position:absolute;' />"),h.load(function(){return d.success(),h.remove()}),h.error(function(){return h.remove(),setTimeout(function(){return ImageUploader.whenImageLoads(c.absolute(),d,e+1,f,g)},g)}),b("body").append(h)}})(Wistia,jQuery),function(a,b){return window.CustomizePanel=function(){function c(b){var c=this;this.video=b,this.isMobile=a.detect.iphone||a.detect.ipad||a.detect.android,this.container=this.video.container.id,this.loaded=new a.StopGo,this.isOpen=new a.StopGo,this.previewWidth=this.video.videoWidth(),this.previewHeight=this.video.videoHeight(),this.modules=[],this.loaded(function(){return c.savedEmbedOptions=c.embedOptions(),c.getStatusOfEmbedInWild(function(a){return c.embedInWild=a.embed_in_wild,c.hasSavedEmbedOptions=a.has_saved_embed_options})})}return c.prototype.maxVideoWidth=function(){return Math.min(960,this.video.data.asset.width)},c.prototype.maxVideoHeight=function(){return this.maxVideoWidth()/this.video.aspect()},c.prototype.customizePanelPath=function(a){return a==null&&(a=this.video.hashedId()),"/medias/"+a+"/customizations/customize_panel.html?t="+(new Date).getTime()},c.prototype.saveEndpoint=function(){return"/medias/"+this.video.hashedId()+"/customizations.json"},c.prototype.validateEndpoint=function(){return"/medias/"+this.video.hashedId()+"/customizations/validate.json"},c.prototype.load=function(d){var e,f=this;if(this.loaded())return;return this.$wrapper=b('<div id="wistia_customize_panel_wrapper" class="wistia_customize_panel_wrapper">\n</div>'),this.$root=b('<div id="wistia_customize_panel" class="wistia_customize_panel"></div>'),this.$wrapper.append(this.$root),this.instaHide(),b("body").append(this.$wrapper),d==="account_defaults"?(e={load_account_defaults:"true"},d=this.video.hashedId()):d!==this.video.hashedId()?e={from_video:this.video.hashedId()}:e={},b.get(this.customizePanelPath(d),e,function(d){return f.$root.empty(),f.$root.append(d),f.$root.find(":checkbox").each(function(){var a,c,d;return a=b(this),c=b("<input type='checkbox' />").attr("id",""+a.attr("id")+"_unchecked").attr("name",a.attr("name")).attr("value","unchecked"),c.css("display","none"),a.after(c),d=function(){return a.is(":checked")?c.removeAttr("checked"):c.attr("checked","checked")},a.click(d).change(d),d()}),f.$root.find("input,textarea,select").filter("[id]").each(function(a,c){var d,e;return d=b(c),e="$"+d.attr("id"),f[e]=d}),c.lastSavedCustomizeOptions!=null?f.savedCustomizeOptions=c.lastSavedCustomizeOptions:f.savedCustomizeOptions=window.customizeBootstrappedSavedOptions,f.createModules(),f.setupBindings(),a.timeout("delayed_load_trigger",function(){return f.loaded(!0)},320)})},c.prototype.createModulesIfNecessary=function(){return this.modules=[this.appearance!=null?this.appearance:this.appearance=new AppearanceModule(this),this.controls!=null?this.controls:this.controls=new ControlsModule(this),this.socialbar!=null?this.socialbar:this.socialbar=new SocialbarModule(this),this.timeline!=null?this.timeline:this.timeline=new TimelineModule(this),this.captions!=null?this.captions:this.captions=new CaptionsModule(this),this.beta!=null?this.beta:this.beta=new BetaModule(this)]},c.prototype.createModules=function(){return this.appearance=this.controls=this.socialbar=this.timeline=this.captions=null,this.createModulesIfNecessary()},c.prototype.setupBindings=function(){var c,d=this;return b("#customize_close").click(function(a){return a.preventDefault(),d.changed()&&!b("#customize_confirm_close").is(":visible")?b("#customize_close").mrIssue("#customize_confirm_close"):d.close()}),b("#customize_save").click(function(a){return a.preventDefault(),d.saveAndClose()}),b("#customize_legacy_in_wild_on_first_save").on("click",".save_anyway",function(a){return a.preventDefault(),d.save({ignore_warnings:["legacy_embed_in_wild_on_first_save","aspect_ratio_changed","customize_embed_in_wild_on_save"]},function(){return d.close()}),b(".help_bubble").trigger("close")}),b("#customize_aspect_ratio_changed").on("click",".save_anyway",function(a){return a.preventDefault(),d.save({ignore_warnings:["legacy_embed_in_wild_on_first_save","aspect_ratio_changed","customize_embed_in_wild_on_save"]},function(){return d.close()}),b(".help_bubble").trigger("close")}),b("#customize_embed_in_wild_on_save").on("click",".save_anyway",function(a){return a.preventDefault(),d.save({ignore_warnings:["legacy_embed_in_wild_on_first_save","aspect_ratio_changed","customize_embed_in_wild_on_save"]},function(){return d.close()}),b(".help_bubble").trigger("close")}),b("#customize_validation_timeout").on("click",".save_anyway",function(a){return a.preventDefault(),d.save({ignore_warnings:"true"},function(){return d.close()}),b(".help_bubble").trigger("close")}),b("#dont_show_embed_in_wild_warning").click(function(){return b(this).is(":checked")?currentUser.data("customize_panel.dont_warn_if_embed_in_wild",!0):currentUser.data("customize_panel.dont_warn_if_embed_in_wild",!1)}),this.highlightSaveIfChanged=function(){return d.changed()?b("#customize_save").addClass("outstanding_changes"):b("#customize_save").removeClass("outstanding_changes")},this.$root.find("input, textarea, select").change(this.highlightSaveIfChanged),this.$root.find(":checkbox, :radio").click(this.highlightSaveIfChanged),b("#customize_confirm_close").on("click",".confirm_close",function(a){return a.preventDefault(),d.close()}),b(window).resize(function(){return d.$root.height(a.elem.height(window)),d.$wrapper.height(a.elem.height(window))}),this.isMobile&&(this.$wrapper.css({position:"absolute"}),b(window).scroll(function(){return d.$wrapper.css({top:b(window).scrollTop()})})),c=function(){return a.timeout("customize_panel.fix_scroll_glitch",function(){return d.$root.css("display","block"),d.$root[0].offsetTop,d.$root.css("display","")},50)},this.$root.scroll(c),this.$root.bind("opened-jamjar",c),this.$root.bind("closed-jamjar",c)},c.prototype.reload=function(a){var b,c,d,e,f,g=this;e=this.modules;for(c=0,d=e.length;c<d;c++)b=e[c],typeof b.beforeClose=="function"&&b.beforeClose();return this.$root.empty(),this.loaded(!1),(f=this.$wrapper)!=null&&f.remove(),this.load(),this.isOpen()&&this.instaShow(),this.loaded(function(){return typeof a=="function"?a():void 0})},c.prototype.loadOptionsFrom=function(a,b){var c,d,e,f,g,h,i=this;d=this.customizeOptions(),g=this.modules;for(e=0,f=g.length;e<f;e++)c=g[e],typeof c.beforeClose=="function"&&c.beforeClose();return this.$root.empty(),this.loaded(!1),(h=this.$wrapper)!=null&&h.remove(),this.load(a),this.isOpen()&&this.instaShow(),this.loaded(function(){return i.appearance.$still_url.val(d.still_url),i.highlightSaveIfChanged(),typeof b=="function"?b():void 0})},c.prototype.close=function(){var a,c=this;return(a=window.analytics)!=null&&a.track("Closed Customize",{properties:{video:this.video.hashedId()},user_id:WistiaContext.user.id}),b(".help_bubble").trigger("close"),this.isOpen(!1),this.hide(function(){return c.changed()?(c.reembedVideoWithSavedOptions(),c.reload()):c.$root.find(".jamjar").trigger("close-jamjar")})},c.prototype.hide=function(b){var c=this;return typeof featureBar!="undefined"&&featureBar!==null&&featureBar.close(),setTimeout(function(){return typeof featureBar!="undefined"&&featureBar!==null?featureBar.nextStep():void 0},500),typeof tourGuide!="undefined"&&tourGuide!==null&&tourGuide.enable(),this.fadeOut(function(){return c.fullWidthElements().stop().animate({paddingLeft:0},320,"linear")}),a.timeout("customize_panel.hide_callback",b,520)},c.prototype.instaHide=function(){return this.$wrapper.css({opacity:0,zIndex:-1}),this.fullWidthElements().css({paddingLeft:0})},c.prototype.fadeOut=function(a){var b=this;return this.$wrapper.stop().animate({opacity:0},200,function(){return b.$wrapper.css({zIndex:-1}),typeof a=="function"?a():void 0})},c.prototype.serializedSortedHash=function(a){var b,c,d,e,f,g;return d=function(){var c;c=[];for(b in a)g=a[b],c.push([b,g]);return c}(),f=d.sort(function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0}),e=function(){var a,b,d;d=[];for(a=0,b=f.length;a<b;a++)c=f[a],d.push(""+c[0]+"="+c[1]);return d}(),e.join("&")},c.prototype.changed=function(){var b,c;return c=this._normalizeValues(this.savedCustomizeOptions),b=this._normalizeValues(a.obj.merge({},this.savedCustomizeOptions,this.customizeOptions())),!a.obj.equalsDeep(c,b)},c.prototype._normalizeValues=function(a){var b;return b=function(a){return a===!0||a==="true"||a==="checked"?!0:a===!1||a==="false"||a==="unchecked"?null:a===null||a===""?null:a},_.reduce(a,function(a,c,d){var e;return e=b(c),e!=null&&(a[d]=e),a},{})},c.prototype.open=function(){var a;return typeof featureBar!="undefined"&&featureBar!==null&&featureBar.close(),typeof tourGuide!="undefined"&&tourGuide!==null&&tourGuide.disable(),this.load(),(a=window.analytics)!=null&&a.track("Opened Customize",{user_id:WistiaContext.user.id,properties:{video:this.video.hashedId()}}),this.isOpen(!0),this.show()},c.prototype.show=function(b){var c=this;return this.loaded(function(){return c.$root.height(a.elem.height(window)),c.$wrapper.height(a.elem.height(window)),c.fullWidthElements().animate({paddingLeft:350},320,"linear",function(){return c.fadeIn()}),a.timeout("customize.show_callback",b,520)})},c.prototype.fullWidthElements=function(){return b("#psychobar, #media_bar, #sub_media_bar_wrapper, #context_bar, #header, #footer_support, #title_and_comments")},c.prototype.instaShow=function(){var b;return b=a.elem.height(window),this.$root.height(a.elem.height(window)),this.$wrapper.height(a.elem.height(window)),this.$wrapper.css({opacity:1,zIndex:100}),this.fullWidthElements().css({paddingLeft:350})},c.prototype.fadeIn=function(a){return this.instaShow(),this.$wrapper.css({opacity:0,zIndex:100}),this.$wrapper.animate({opacity:1},200,a)},c.prototype.shouldWarnThatEmbedIsInWild=function(a){return this.embedInWild&&a.ignore_warnings!=="true"&&b.inArray("customize_embed_in_wild_on_save",a.ignore_warnings||[])<0&&!currentUser.data("customize_panel.dont_warn_if_embed_in_wild")},c.prototype.save=function(c,d){var e,f,g,h,i,j,k=this;c==null&&(c={});if(this.saving)return;j=this.modules;for(h=0,i=j.length;h<i;h++){e=j[h];if((typeof e.beforeSave=="function"?e.beforeSave():void 0)===!1)return!1}if((typeof this.beforeSave=="function"?this.beforeSave():void 0)===!1)return!1;f=a.obj.merge(this.saveParams(),c),console.log("saveParams",f);if(this.shouldWarnThatEmbedIsInWild(f)){this.hasSavedEmbedOptions?this.warnEmbedIsInWild("#customize_embed_in_wild_on_save",this.embedInWild):this.warnEmbedIsInWild("#customize_legacy_in_wild_on_first_save",this.embedInWild);return}return g=a.obj.clone(f),g._method="POST",b("#customize_save").text("Saving"),this.saving=!0,b.ajax({type:"POST",url:this.validateEndpoint(),data:g,dataType:"json",timeout:f.ignore_warnings==="true"?3e4:5e3,success:function(c){var e,g;if(c.success)return e=a.obj.clone(f),e.ignore_warnings="true",b.ajax({type:"POST",url:k.saveEndpoint(),data:e,error:function(a,b,c){return k.saving=!1,b==="timeout"?k.handleSaveError("timeout"):k.handleSaveError("ajax_error")},success:function(a){return k.handleSaveSuccess(a,d),k.saving=!1}});if(((g=c.error.media)!=null?g.length:void 0)>0)return k.handleSaveError(c.error.media[0]),k.saving=!1},error:function(a,b,c){return k.saving=!1,b==="timeout"?k.handleSaveError("timeout"):k.handleSaveError("ajax_error")}})},c.prototype.warnEmbedIsInWild=function(a,c){var d;b("#customize_save").text("Save");try{c&&(Wistia.url.parse(c).host?b(a).find(".embed_location").attr("href",c).text(c):b(a).find(".embed_location").attr("href","#").text(c))}catch(e){d=e,b(a).find(".embed_location").attr("href",c).text(c),typeof console!="undefined"&&console!==null&&console.log(d.message),typeof console!="undefined"&&console!==null&&console.log(d.stack)}return b("#customize_save").mrIssue(b(a),{width:300})},c.prototype.handleSaveSuccess=function(d,e){var f,g,h,i,j,k;(i=window.analytics)!=null&&i.track("Saved Customize",{user_id:WistiaContext.user.id,properties:{video:this.video.hashedId()}}),b("#customize_save").removeClass("outstanding_changes").text("Save").flashText("Saved!"),this.savedEmbedOptions=d.embed_options,this.savedCustomizeOptions=d.customize_options,c.lastSavedCustomizeOptions=this.savedCustomizeOptions,this.timeline=null,this.createModulesIfNecessary(),j=this.modules;for(g=0,h=j.length;g<h;g++)f=j[g],typeof f.afterSave=="function"&&f.afterSave();return typeof this.afterSave=="function"&&this.afterSave(),(k=a.data(["remote-media",this.video.hashedId()]))!=null&&(k.embed_options=this.savedEmbedOptions),typeof e=="function"?e():void 0},c.prototype.handleSaveError=function(a){var c,d=this;return(c=window.analytics)!=null&&c.track("Error Saving Customize",{user_id:WistiaContext.user.id,properties:{video:this.video.hashedId()}}),a==="customize_embed_in_wild_on_save"?this.getSampleEmbedUrl(function(a){return d.warnEmbedIsInWild("#customize_embed_in_wild_on_save",a)}):a==="aspect_ratio_changed"?this.getSampleEmbedUrl(function(a){return d.warnEmbedIsInWild("#customize_aspect_ratio_changed",a)}):a==="legacy_embed_in_wild_on_first_save"?this.getSampleEmbedUrl(function(a){return d.warnEmbedIsInWild("#customize_legacy_in_wild_on_first_save",a)}):a==="timeout"?this.warnEmbedIsInWild("#customize_validation_timeout"):(b("#customize_save").text("Save"),typeof console!="undefined"&&console!==null&&console.log(a),b("#customize_save").mrIssue("#customize_general_saving_problem"))},c.prototype.saveAndClose=function(){var a=this;return this.save(null,function(){return a.close()})},c.prototype.saveParams=function(){var a;return a={customize_options:this.customizeOptions(),embed_options:this.embedOptions(),_method:"PUT"},currentUser.data("customize_panel.dont_warn_if_embed_in_wild")&&(a.ignore_warnings=["customize_embed_in_wild_on_save"]),a},c.prototype.reembedVideoWithOptions=function(b){var c,d,e,f,g=this;c=a.obj.merge({},b,{container:this.container,dontFit:!0,version:"v1",videoObj:this.video,doNotTrack:!0});if((d=c.plugin)!=null?d["socialbar-v1"]:void 0)c.plugin["socialbar-v1"].container="sub_media_bar";return((e=c.plugin)!=null?(f=e["transcript-v2"])!=null?f.position:void 0:void 0)==="below"&&(c.plugin["transcript-v2"].container="sub_media_bar"),this.video.fullRebuild(c),this.video.videoHeight(this.previewHeight),this.video.hasData(function(){return g.video.videoHeight(g.previewHeight)})},c.prototype.reembedVideoWithSavedOptions=function(){return this.reembedVideoWithOptions(this.savedEmbedOptions)},c.prototype.reembedVideoWithCurrentOptions=function(){return this.reembedVideoWithOptions(this.embedOptions())},c.prototype.customizeOptions=function(){var b,c,d,e,f,g,h,i,j,k,l;c=function(){var a,b,c,d;c=this.customizeOptionsBlacklist(),d=[];for(a=0,b=c.length
;a<b;a++)e=c[a],d.push("[name='"+e+"']");return d}.call(this).join(","),b=this.$root.find("input,textarea,select").filter("[name]").not(c).not(".example").serializeArray(),g={};for(h=0,j=b.length;h<j;h++)f=b[h],g[f.name]=f.value;l=this.modules;for(i=0,k=l.length;i<k;i++)d=l[i],d.customizeOptions!=null&&a.obj.merge(g,d.customizeOptions());return g},c.prototype.customizeOptionsBlacklist=function(){return["media[foreign_id]","signature","expires","bakery_upload_url","flash_signature","flash_expires","flash_bakery_upload_url","gratis","dont_show_embed_in_wild_warning","_method","authenticity_token","delivery_url_for_path"]},c.prototype.embedOptions=function(){var b,c,d,e,f;c={},c.version="v2",f=this.modules;for(d=0,e=f.length;d<e;d++)b=f[d],a.obj.merge(c,b.embedOptions());return c},c.prototype.optionsWithoutFit=function(b){var c,d,e,f;e=a.obj.clone(b);if(e.plugin){f=e.plugin;for(c in f)d=f[c],d.dontFit=!0}return e},c.prototype.shallowEmbedOptions=function(){var b;return b={},a.obj.eachLeaf(this.embedOptions(),function(a,c){return b[c.join(".")]=a}),b},c.prototype.rebuild=function(b){return b==null&&(b={}),this.video.suppressPlay(!1),this.video.fullRebuild(a.obj.merge(this.embedOptions(),b,{doNotTrack:!0}))},c.prototype.allModulesClosed=function(){var a,b,c,d;d=this.modules;for(b=0,c=d.length;b<c;b++){a=d[b];if(a.isOpen())return!1}return!0},c.prototype.getSampleEmbedUrl=function(a){return b.getJSON(this.sampleEmbedUrlPath(),function(b){return a(b.embed_url)})},c.prototype.sampleEmbedUrlPath=function(a){return a==null&&(a=this.video.hashedId()),"/medias/"+a+"/customizations/sample_embed_url.json"},c.prototype.getStatusOfEmbedInWild=function(a){return b.getJSON(this.statusOfEmbedInWildPath(),a)},c.prototype.statusOfEmbedInWildPath=function(a){return a==null&&(a=this.video.hashedId()),"/medias/"+a+"/customizations/status_of_embed_in_wild.json"},c}()}(Wistia,jQuery),function(a,b){return window.CustomizePanelModule=function(){function a(a){var c=this;this.customizePanel=a,this.$root=this.customizePanel.$root.find("."+this.name+".jamjar"),this.$root.on("click",".jamjar_body",function(){return c.isFocused()||c.focus(),!0}),this.pluginName&&(this.changedOnOff=function(){var a,b;if(c.isEnabled()){(a=window.analytics)!=null&&a.track("Enabled Jamjar "+c.name,{user_id:WistiaContext.user.id,properties:{video:c.video.hashedId()}}),c.enable({dontTrigger:!0});if(c.isClosed())return c.open()}else{(b=window.analytics)!=null&&b.track("Disabled Jamjar "+c.name,{user_id:WistiaContext.user.id,properties:{video:c.video.hashedId()}}),c.disable({dontTrigger:!0});if(c.isOpen())return c.close()}},this.$on().change(this.changedOnOff)),this.$root.find("input,textarea,select").filter("[id]").each(function(a,d){var e,f;return e=b(d),f="$"+e.attr("id"),c[f]=e}),this.$root.find("h4:visible:first").addClass("first"),this.setupJamjar(),this.setupOnOffSwitches(),this.video=this.customizePanel.video,this.setupBindings()}return a.prototype.setupJamjar=function(){var a=this;return this.$root.jamjar({title:this.$root.find(".jamjar_title").text(),beforeOpen:function(){return!a.isFocused()&&a.focus()===!1?!1:typeof a.beforeOpen=="function"?a.beforeOpen():void 0},beforeClose:function(){return!a.isBlurred()&&a.blur()===!1?!1:typeof a.beforeClose=="function"?a.beforeClose():void 0},afterOpen:function(){return Wistia.timeout("opened_jamjar_"+a.name,function(){var b;return(b=window.analytics)!=null?b.track("Opened Jamjar "+a.name,{user_id:WistiaContext.user.id,properties:{video:a.video.hashedId()}}):void 0},500),typeof a.afterOpen=="function"?a.afterOpen():void 0},afterClose:function(){return Wistia.timeout("closed_jamjar_"+a.name,function(){var b;return(b=window.analytics)!=null?b.track("Closed Jamjar "+a.name,{user_id:WistiaContext.user.id,properties:{video:a.video.hashedId()}}):void 0},500),typeof a.afterClose=="function"?a.afterClose():void 0}})},a.prototype.setupOnOffSwitches=function(){var a=this;return this.$root.find(".on_off_switch").each(function(c,d){var e,f,g,h;f=b(d),e=b("#"+a.name+"_on");if(f.closest(".jamjar").is(".disabled"))return;return h=function(){return e.val("true").trigger("change")},g=function(){return e.val("false").trigger("change")},e.change(function(){return e.val()==="true"?(f.find(".on_off_text").text("on"),f.removeClass("off").addClass("on"),f.removeClass("hover")):(f.find(".on_off_text").text("off"),f.removeClass("on").addClass("off"),f.removeClass("hover"))}),f.click(function(a){return a.preventDefault(),f.is(".on")?g():h()}),f.bind("mouseenter",function(){return f.addClass("hover")}),f.bind("mouseleave",function(){return f.removeClass("hover")}),f.bind("turn-on",h),f.bind("turn-off",g)})},a.prototype.setupBindings=function(){},a.prototype.$on=function(){return b("#"+this.name+"_on")},a.prototype.open=function(a){return a==null&&(a=200),this.$root.trigger("open-jamjar",a)},a.prototype.close=function(a){return a==null&&(a=200),this.$root.trigger("close-jamjar",a)},a.prototype.isOpen=function(){return!this.isClosed()},a.prototype.isClosed=function(){return this.$root.hasClass("jamjar_closed")},a.prototype.beforeOpen=function(){return!0},a.prototype.beforeClose=function(){},a.prototype.focus=function(){var a,b,c,d,e;b=!1,e=this.customizePanel.modules;for(c=0,d=e.length;c<d;c++)a=e[c],a.isFocused()&&this!==a&&a.blur()===!1&&(b=!0);return b?!1:(this._isFocused=!0,typeof this.enable=="function"&&this.enable(),typeof this.onFocus=="function"?this.onFocus():void 0)},a.prototype.isFocused=function(){return!!this._isFocused},a.prototype.blur=function(){var a,b;return b=this._isFocused,this._isFocused=!1,a=typeof this.onBlur=="function"?this.onBlur():void 0,a===!1&&b&&(this._isFocused=!0),a},a.prototype.isBlurred=function(){return!this.isFocused()},a.prototype.enable=function(a){return a==null&&(a={}),this.isEnabled()||(this.$on().val("true"),a.dontTrigger||this.$on().trigger("change")),this.showPlugin()},a.prototype.isEnabled=function(){return!this.pluginName||this.$on().val()==="true"},a.prototype.disable=function(a){a==null&&(a={}),this.removePlugin();if(this.isEnabled()){this.$on().val("false");if(!a.dontTrigger)return this.$on().trigger("change")}},a.prototype.addPlugin=function(){if(!this.plugin()&&this.pluginName)return this.video.addPlugin(this.pluginName,this.pluginOptions())},a.prototype.removePlugin=function(){var a;return(a=this.plugin())!=null?a.remove():void 0},a.prototype.rebuildPlugin=function(){return this.addPlugin(),this.removePlugin()},a.prototype.showPlugin=function(){return this.addPlugin()},a.prototype.hidePlugin=function(){},a.prototype.plugin=function(){return this.video.plugin[this.pluginName]},a.prototype.pluginOptions=function(){return{}},a.prototype.isNavKey=function(a){return a.keyCode===46||a.keyCode===8||a.keyCode===9||a.keyCode===27||a.keyCode===13||a.keyCode===65&&a.ctrlKey===!0||a.keyCode>=35&&a.keyCode<=39},a.prototype.hasNonBasicChars=function(a){var b,c,d,e;for(c=d=0,e=a.length;0<=e?d<=e:d>=e;c=0<=e?++d:--d){b=a.charCodeAt(c);if(b>255)return!0}return!1},a}()}(Wistia,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b){return window.AppearanceModule=function(c){function d(){var c=this;this.name="appearance",d.__super__.constructor.apply(this,arguments),this.defaultColor=new a.Color("#7b796a"),this.colorpicker=new a.ColorPicker(b("#player_color_colorpicker")[0],this.$player_color.val(),{width:236,height:150}),this.colorpicker.bind("colorchange-via-ui",function(){var d,e;return d=c.colorpicker.value().toHex(),c.$player_color.val()!=="#"+d&&(c.$player_color.val("#"+d),c.$player_color.trigger("change")),b("#player_color_name").text(c.colorpicker.colorName()),c.video.playerColor!=null?c.video.playerColor(d):(e=c.video.stillUrl({playerColor:d}),a.timeout("debounce_rebuild",function(){return ImageUploader.whenImageLoads(e,{success:function(){return c.video.params.stillUrl=e,c.customizePanel.rebuild()}})},1e3))})}return __extends(d,c),d.prototype.setupBindings=function(){var c,d=this;return this.setupImageUploader||(this.setupImageUploader=function(){return d.imageUploader?d.imageUploader.rebuild():d.imageUploader||(d.imageUploader=new ImageUploader(b("#upload_my_own")[0],{beforeStartUpload:function(){return d.thumbnailProcessing()},statusElem:"#change_thumbnail_status",onSuccess:function(b){return d.$still_url.val(b).trigger("change"),d.video._impl.changeStill(b),a.timeout("thumbnail_done",function(){return d.thumbnailDoneProcessing()},1e3)},onError:function(){return a.timeout("thumbnail_done",function(){return d.thumbnailDoneProcessing()},1e3)}}))}),b("#use_current_frame").click(function(a){return a.preventDefault(),d.video.state()==="beforeplay"?b("#use_current_frame").mrIssue("#use_current_frame_before_play"):d.useCurrentFrame()}),b("#use_current_frame_before_play").on("click",".use_first_frame",function(a){return a.preventDefault(),b(".help_bubble").trigger("close"),d.useCurrentFrame()}),c=/^#[a-f\d]{6}$/i,this.$player_color.keydown(function(a){return d.preventNonHexKeystrokes(a)}),this.$player_color.on("keyup paste",function(a){if(d.isNavKey(a))return;if(c.test(d.$player_color.val()))return d.colorpicker.value(d.$player_color.val()),d.colorpicker.trigger("colorchange-via-ui")}),this.$player_color.on("change",function(a){return c.test(d.$player_color.val())?(d.colorpicker.value(d.$player_color.val()),d.colorpicker.trigger("colorchange-via-ui")):d.$player_color.val("#"+d.colorpicker.value().toHex())}),this.$show_comments.click(function(){return d.$show_comments.is(":checked")?b("#comments").show():b("#comments").hide()})},d.prototype.useCurrentFrame=function(){var c=this;return this.thumbnailProcessing(),b("#change_thumbnail_status").text("Processing..."),b.post(this.generateStillPath(),{still_time:this.video.time()},function(d){var e;return e={playButton:!1,stillUrl:d.delivery_url},c.$still_url.val(d.delivery_url).trigger("change"),ImageUploader.whenImageLoads(d.delivery_url,{success:function(){return b("#change_thumbnail_status").text("").flashText("Done!"),a.timeout("thumbnail_done",function(){return c.thumbnailDoneProcessing()},1e3),c.video._impl.changeStill(d.delivery_url)},error:function(){return alert("Sorry! The image is taking too long to process. If you save, it will continue to process in the background."),a.timeout("thumbnail_done",function(){return c.thumbnailDoneProcessing()},1e3)}},0,30,5e3)})},d.prototype.thumbnailProcessing=function(){return b("#change_thumbnail_config").css({position:"absolute",left:"-99999em"})},d.prototype.thumbnailDoneProcessing=function(){return b("#change_thumbnail_config").css({position:"static",left:0})},d.prototype.afterOpen=function(){return this.setupImageUploader()},d.prototype.beforeClose=function(){if(this.imageUploader)return this.imageUploader.destroy(),this.imageUploader=null},d.prototype.generateStillPath=function(){return"/medias/"+this.video.hashedId()+"/customizations/generate_still_from_video.json"},d.prototype.afterSave=function(){return this.kickOffStillDerivatives(),this.kickOffThumbnail()},d.prototype.kickOffStillDerivatives=function(){var a,c,d=this;if(c=this.customizePanel.customizeOptions().still_url)return a=new Image,a.src=c,a.style.zIndex=-2,a.style.position="absolute",b("body").append(a),a.onload=function(){var c,e,f,g,h,i,j,k;f=b(a).width(),e=b(a).height(),c=f/e,b(a).remove(),j=[640,960,1280],k=[];for(h=0,i=j.length;h<i;h++)g=j[h],k.push(function(a){var b,e,f;return e={playButton:!1,videoWidth:a,videoHeight:a/c,stillUrl:d.$still_url.val()},f=d.video.stillUrl(e),b=new Image,b.src=f}(g));return k}},d.prototype.kickOffThumbnail=function(){var b,c;return b=a.url.parse(this.$still_url.val()),c=new Image,b.ext("jpg"),b.params.image_crop_resized="100x60",c.src=b.absolute()},d.prototype.embedOptions=function(){var a;return a={},a.playerColor=this.colorpicker.value().toHex().replace(/^\#/,""),a.stillUrl=this.$still_url.val(),a},d.prototype.preventNonHexKeystrokes=function(a){var b,c;if(this.isNavKey(a))return;if(a.keyCode===86&&(a.ctrlKey||a.metaKey))return;b=String.fromCharCode(a.which),c=String.fromCharCode(a.keyCode-48),!/[#a-f\d]/i.test(b)&&!/[#a-f\d]/i.test(c)&&a.preventDefault()},d}(CustomizePanelModule)})(Wistia,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b){return window.ControlsModule=function(a){function b(){this.name="controls",b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b.prototype.setupBindings=function(){var a,b=this;return this.$big_play_button.click(function(){var a;return b.video.options.playButton=b.$big_play_button.is(":checked"),b.video.state()==="beforeplay"?(b.video.bigPlayButtonEnabled(b.$big_play_button.is(":checked")),typeof (a=b.video).previewControls=="function"&&a.previewControls()):b.customizePanel.rebuild(),!0}),this.$small_play_button.click(function(){var a;return b.video.options.smallPlayButton=b.$small_play_button.is(":checked"),b.video.smallPlayButtonEnabled(b.$small_play_button.is(":checked")),typeof (a=b.video).previewControls=="function"&&a.previewControls(),!0}),this.$play_bar.click(function(){var a;return b.video.options.playbar=b.$play_bar.is(":checked"),b.video.playbarControlEnabled(b.$play_bar.is(":checked")),typeof (a=b.video).previewControls=="function"&&a.previewControls(),!0}),this.$volume_control.click(function(){var a;return b.video.options.volumeControl=b.$volume_control.is(":checked"),b.video.volumeControlEnabled(b.$volume_control.is(":checked")),typeof (a=b.video).previewControls=="function"&&a.previewControls(),!0}),this.$full_screen.click(function(){var a;return b.video.options.fullscreenButton=b.$full_screen.is(":checked"),b.video.fullscreenButtonEnabled(b.$full_screen.is(":checked")),typeof (a=b.video).previewControls=="function"&&a.previewControls(),!0}),this.$controls_visible_on_load.click(function(){return b.customizePanel.rebuild()}),(a=this.$powered_by_wistia)!=null?a.click(function(){return b.customizePanel.rebuild()}):void 0},b.prototype.embedOptions=function(){var a;return a={},a.playButton=this.$big_play_button.is(":checked"),a.smallPlayButton=this.$small_play_button.is(":checked"),a.volumeControl=this.$volume_control.is(":checked"),a.fullscreenButton=this.$full_screen.is(":checked"),a.playbar=this.$play_bar.is(":checked"),a.controlsVisibleOnLoad=this.$controls_visible_on_load.is(":checked"),this.$powered_by_wistia&&!this.$powered_by_wistia.is(":disabled")&&(a.branding=this.$powered_by_wistia.is(":checked")),a},b}(CustomizePanelModule)})(Wistia,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b){return window.SocialbarModule=function(c){function d(){this.name="socialbar",this.pluginName="socialbar-v1",d.__super__.constructor.apply(this,arguments)}return __extends(d,c),d.prototype.setupBindings=function(){return this.setupButtons(),this.setupDownload(),this.setupTwitter(),this.setupLogo(),this.setupPageUrl(),this.setupEmbedButton()},d.prototype.afterOpen=function(){if(this.$socialbar_logo.is(":checked"))return this.setupLogoUploader()},d.prototype.beforeClose=function(){if(this.logoUploader)return this.logoUploader.destroy(),this.logoUploader=null},d.prototype.setupPageUrl=function(){var a=this;return this.$socialbar_override_url_true.click(function(){return b("#socialbar_configure_page_url").slideDown(),a.rebuildPlugin()}),this.$socialbar_override_url_false.click(function(){return b("#socialbar_configure_page_url").slideUp(),a.rebuildPlugin()}),this.$socialbar_page_url.change(function(){return a.rebuildPlugin()}),this.$socialbar_page_title.change(function(){return a.rebuildPlugin()})},d.prototype.setupTwitter=function(){var a=this;return this.$socialbar_show_tweet_count.click(function(){return a.plugin().removeButton("twitter"),a.$socialbar_show_tweet_count.is(":checked")?a.plugin().params.showTweetCount=!0:a.plugin().params.showTweetCount=!1,a.matchButtonToCheckbox("twitter")}),this.$socialbar_tweet_text.change(function(){return a.plugin().removeButton("twitter"),a.plugin().updateTweetText(a.$socialbar_tweet_text.val()),a.matchButtonToCheckbox("twitter")}),b("#socialbar_configure_twitter_link").click(function(c){return c.preventDefault(),a.$socialbar_twitter.attr("checked","checked"),a.matchButtonToCheckbox("twitter"),b.facebox({div:"#socialbar_configure_twitter"},"auto_width")})},d.prototype.setupDownload=function(){var a=this;return b("#socialbar_configure_download_link").click(function(c){return c.preventDefault(),a.$socialbar_download.attr("checked","checked"),b.facebox({div:"#socialbar_configure_download"},"auto_width")}),b("#socialbar_configure_download :radio").click(function(){return a.rebuildPlugin()})},d.prototype.setupEmbedButton=function(){var a=this;return b("#socialbar_configure_embed_link").click(function(c){return c.preventDefault(),a.$socialbar_embed.attr("checked","checked"),b.facebox({div:"#socialbar_configure_embed"},"auto_width")}),b("#socialbar_configure_embed :checkbox").click(function(){return a.rebuildPlugin()})},d.prototype.setupButtons=function(){var a=this;return this.$root.find(".more_social_sharing_buttons").moar({moarText:"More...",lessText:"Less",location:"after"}),this.$root.find(".social_sharing_buttons :checkbox").each(function(c,d){var e;return e=b(d),e.click(function(){return a.matchButtonToCheckbox(e.val())})})},d.prototype.matchButtonToCheckbox=function(a){var b;return this.plugin()?(a==="wistia"?b=this.$socialbar_logo:b=this.$root.find(".social_sharing_buttons :checkbox[value="+a+"]"),b.is(":checked")&&!this.plugin().hasButton(b.val())?this.plugin().addButton(b.val(),{autoSort:!0}):!b.is(":checked")&&this.plugin().hasButton(b.val())&&this.plugin().removeButton(b.val()),this.video.videoHeight(this.customizePanel.previewHeight)):this.rebuildPlugin()},d.prototype.setupLogo=function(){var a=this;return this.$socialbar_logo.click(function(){return a.$socialbar_logo.is(":checked")?b("#socialbar_configure_logo").slideDown(400,function(){return a.setupLogoUploader()}):b("#socialbar_configure_logo").slideUp(400),a.rebuildPlugin()}),this.$socialbar_logo_image.change(function(){return a.rebuildPlugin(),a.video.videoHeight(a.customizePanel.previewHeight)}),this.setupLogoUploader=function(){return a.rebuildPlugin(),a.logoUploader?a.logoUploader.rebuild():a.logoUploader=new ImageUploader(b("#socialbar_logo_image_upload")[0],{width:100,height:20,onSuccess:function(b){return a.$socialbar_logo_image.val(b).trigger("change")}})},this.$socialbar_logo_url.change(function(){return a.rebuildPlugin()})},d.prototype.removePlugin=function(){return d.__super__.removePlugin.apply(this,arguments),this.video.videoHeight(this.customizePanel.previewHeight)},d.prototype.addPlugin=function(){if(this.isEnabled())return this.video.addPlugin("socialbar-v1",a.obj.merge(this.pluginOptions(),{_noEmbedOptions:!0,container:"sub_media_bar"})),this.video.videoHeight(this.customizePanel.previewHeight)},d.prototype.rebuildPlugin=function(){return this.removePlugin(),this.addPlugin()},d.prototype.embedOptions=function(){return this.isEnabled()?{plugin:{"socialbar-v1":this.pluginOptions()}}:{}},d.prototype.pluginOptions=function(){var c,d,e,f=this;d={};if(this.isEnabled()){c=[],this.$root.find(".social_sharing_buttons :checkbox").not("[value=unchecked]").each(function(a,d){var e;e=b(d);if(e.is(":checked"))return c.push(e.val())}),c=c.sort(function(b,c){return a.Plugin.SocialbarV1.prototype.buttonOrder()[b]-a.Plugin.SocialbarV1.prototype.buttonOrder()[c]}),c.length>0&&(d.buttons=c.join("-")),this.$socialbar_twitter.is(":checked")&&(d.showTweetCount=this.$socialbar_show_tweet_count.is(":checked"),d.tweetText=this.$socialbar_tweet_text.val()),this.$socialbar_logo.is(":checked")&&(d.logo=!0,d.badgeImage=this.$socialbar_logo_image.val(),d.badgeUrl=this.$socialbar_logo_url.val());if((e=this.$socialbar_download)!=null?e.is(":checked"):void 0)d.downloadType=b("[name=socialbar_download_type]:checked").val();this.$socialbar_override_url_true.is(":checked")&&(d.pageUrl=this.$socialbar_page_url.val(),d.pageTitle=this.$socialbar_page_title.val()),this.$socialbar_include_linkback.is(":checked")&&(d.includeLinkback=!0)}return d.height=25,d},d.prototype.isValidUrl=function(b){return/(https?)?\/\//.test(b)&&!!a.url.parse(b).host},d.prototype.hasValidPageUrl=function(){return this.isValidUrl(this.$socialbar_page_url.val())},d.prototype.hasValidLogoUrl=function(){return this.isValidUrl(this.$socialbar_logo_url.val())},d.prototype.onBlur=function(){if(this.isEnabled()){if(this.$socialbar_override_url_true.is(":checked")&&!this.hasValidPageUrl())return this.$socialbar_page_url.mrIssue("#socialbar_invalid_url"),!1;if(this.$socialbar_logo.is(":checked")&&!this.hasValidLogoUrl())return this.$socialbar_logo_url.mrIssue("#socialbar_invalid_url"),!1}return!0},d.prototype.beforeSave=function(){if(this.isEnabled()){if(this.$socialbar_override_url_true.is(":checked")&&!this.hasValidPageUrl())return b("#customize_save").mrIssue("#socialbar_invalid_url"),!1;if(this.$socialbar_logo.is(":checked")&&!this.hasValidLogoUrl())return b("#customize_save").mrIssue("#socialbar_invalid_url"),!1}return!0},d}(CustomizePanelModule)})(Wistia,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b){return window.PostRollModule=function(c){function d(){this.name="post_roll",this.pluginName="postRoll-v1",d.__super__.constructor.apply(this,arguments),this.plugin()?this.hasWistiaOpenSans=this.plugin().params.useBasicFont:this.hasWistiaOpenSans=!0}return __extends(d,c),d.prototype.beforeOpen=function(){return this.conflictsWithRequireEmail()?(this.disable(),this.$root.find(".on_off_switch").mrIssue("#post_roll_conflict_with_require_email"),!1):!0},d.prototype.afterOpen=function(){if(this.$post_roll_type_image.is(":checked"))return typeof this.setupImageUploader=="function"?this.setupImageUploader():void 0},d.prototype.beforeClose=function(){if(this.imageUploader)return this.imageUploader.destroy(),this.imageUploader=null},d.prototype.showPlugin=function(){var a,b;d.__super__.showPlugin.apply(this,arguments);if(this.isEnabled()&&!this.conflictsWithRequireEmail()){this.video.state()==="playing"&&this.video.pause();if((a=this.plugin())!=null?!a.elem:!void 0)return(b=this.plugin())!=null?b.showPostRoll():void 0}},d.prototype.hidePlugin=function(){var a;d.__super__.hidePlugin.apply(this,arguments);if((a=this.plugin())!=null?a.elem:void 0)return this.plugin().close()},d.prototype.pluginOptions=function(){var c;c={};switch(b("[name=post_roll_type]:checked").val()){case"text":c.text=this.$post_roll_text.val(),c.autoSize=!0,c.link=this.$post_roll_text_url.val(),c.rewatch=this.$post_roll_text_rewatch_true.is(":checked"),this.hasNonBasicChars(c.text)&&(c.useBasicFont=!0);break;case"image":c.image=this.$post_roll_image.val(),c.link=this.$post_roll_image_url.val(),c.rewatch=this.$post_roll_image_rewatch_true.is(":checked");break;case"html":c.raw=this.$post_roll_html.val(),c.autoSize=!0,c.rewatch=this.$post_roll_html_rewatch_true.is(":checked")}return a.obj.set(c,"style.backgroundColor","#303030"),c},d.prototype.embedOptions=function(){return this.isEnabled()?{plugin:{"postRoll-v1":this.pluginOptions()}}:{}},d.prototype.onFocus=function(){return this.showPlugin()},d.prototype.onBlur=function(){var c=this;if(this.isEnabled()){if(!this.hasContent()&&(!this.urlElem()||!this.hasUrl()))return a.timeout("customize_panel.delayed_disable_post_roll",function(){return c.disable()}),!1;if(!this.hasContent())return b(".post_roll.jamjar").mrIssue("#post_roll_no_content"),!1;if(!this.hasUrl())return this.urlElem().mrIssue("#post_roll_no_url"),!1;if(!this.hasValidUrl())return this.urlElem().mrIssue("#post_roll_invalid_url"),!1}return this.hidePlugin(),!0},d.prototype.beforeSave=function(){var a;if(this.isEnabled()){a=b("#customize_save");if(!this.hasContent())return a.mrIssue("#post_roll_no_content"),!1;if(!this.hasUrl())return a.mrIssue("#post_roll_no_url"),!1;if(!this.hasValidUrl())return a.mrIssue("#post_roll_invalid_url"),!1}return!0},d.prototype.contentElem=function(){switch(this.$root.find("[name=post_roll_type]:checked").val()){case"text":return this.$post_roll_text;case"image":return this.$post_roll_image;case"html":return this.$post_roll_html;default:return null}},d.prototype.hasContent=function(){return!this.contentElem()||!this.contentElem().is(".example")},d.prototype.urlElem=function(){switch(this.$root.find("[name=post_roll_type]:checked").val()){case"text":return this.$post_roll_text_url;case"image":return this.$post_roll_image_url;default:return null}},d.prototype.hasUrl=function(){return!this.urlElem()||!this.urlElem().is(".example")},d.prototype.hasValidUrl=function(){var b;if(!this.urlElem())return!0;try{return/^\#.*/.test(this.urlElem().val())||/(https?:)?\/\//.test(this.urlElem().val())&&!!a.url.parse(this.urlElem().val()).host}catch(c){return b=c,typeof console!="undefined"&&console!==null&&console.log(b.message),typeof console!="undefined"&&console!==null&&console.log(b.stack),!1}},d.prototype.setupBindings=function(){var a=this;return this.$root.find("[name=post_roll_type]").click(function(c){var d,e;d=b(c.srcElement||c.target),e=b("#post_roll_"+d.val()+"_configure");if(!e.is(":visible"))return b(".post_roll_type_section").hide(),e.show(),a.rebuildPlugin(),a.showPlugin()}),b("#post_roll_conflict_with_require_email").on("click",".disable_turnstile",function(c){return c.preventDefault(),b(".help_bubble").trigger("close"),a.customizePanel.requireEmail.disable(),a.enable(),a.showPlugin()}),b("#post_roll_no_content, #post_roll_no_url").on("click",".disable_post_roll",function(c){return c.preventDefault(),b(".help_bubble").trigger("close"),a.disable()}),this.setupText(),this.setupImage(),this.setupHtml()},d.prototype.setupText=function(){var a=this;return this.$post_roll_text.example("This clickable message\nwill appear after\nyour video ends!"),this.$post_roll_text_url.example("http://..."),this.$post_roll_image_url.example("http://..."),this.$post_roll_html.example('<div style="text-align:center;"><a href="http://wistia.com" style="color:#ffffff;text-decoration:none;" target="_blank">This clickable message<br/>will appear after your<br/>video ends!</a></div>'),this.$post_roll_text.keyup(function(){return a.showBestFont(),a.plugin().updateText(a.$post_roll_text.val())}),this.$post_roll_text_url.keyup(function(){return a.plugin().updateUrl(a.$post_roll_text_url.val())}),this.$post_roll_text_rewatch_true.click(function(){return a.plugin().showRewatch()}),this.$post_roll_text_rewatch_false.click(function(){return a.plugin().hideRewatch()})},d.prototype.showBestFont=function(){if(this.hasNonBasicChars(this.$post_roll_text.val())&&this.hasWistiaOpenSans)return this.plugin().elem.style.fontFamily="Helvetica, Arial, sans-serif",this.hasWistiaOpenSans=!1;if(!this.hasNonBasicChars(this.$post_roll_text.val())&&!this.hasWistiaOpenSans)return this.plugin().elem.style.fontFamily="WistiaOpenSans, Helvetica, Arial, sans-serif",this.hasWistiaOpenSans=!0},d.prototype.setupImage=function(){var c=this;return this.setupImageUploader||(this.setupImageUploader=function(){return c.imageUploader?c.imageUploader.rebuild():c.imageUploader||(c.imageUploader=new ImageUploader(b("#post_roll_image_upload")[0],{width:c.customizePanel.previewWidth,height:c.customizePanel.previewHeight,onSuccess:function(a){return c.$post_roll_image.val(a).trigger("change")}}))}),this.$post_roll_type_image.click(this.setupImageUploader),this.$post_roll_image.example(""+a.url.proto()+"//fast.wistia.com/assets/images/blank.gif"),this.$post_roll_image.change(function(){return c.plugin().updateImage(c.$post_roll_image.val())}),this.$post_roll_image_url.keyup(function(){return c.plugin().updateUrl(c.$post_roll_image_url.val())}),this.$post_roll_image_rewatch_true.click(function(){return c.plugin().showRewatch()}),this.$post_roll_image_rewatch_false.click(function(){return c.plugin().hideRewatch()})},d.prototype.setupHtml=function(){var a=this;return this.$post_roll_html.keyup(function(){return a.plugin().updateRaw(a.sanitizedHtml(a.$post_roll_html.val()))}),this.$post_roll_html_rewatch_true.click(function(){return a.plugin().showRewatch()}),this.$post_roll_html_rewatch_false.click(function(){return a.plugin().hideRewatch()})},d.prototype.sanitizedHtml=function(c){return b("<div>").html(a.util.removeScriptTags(c)).html()+"\n"+a.util.scriptTags(c).join("\n")},d.prototype.conflictsWithRequireEmail=function(){return this.customizePanel.requireEmail.isEnabled()&&this.customizePanel.requireEmail.$require_email_time_type.val()==="end"},d}(CustomizePanelModule)})(Wistia,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},__bind=function(a,b){return function(){return a.apply(b,arguments)}};(function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;return c=function(a){function c(){return l=c.__super__.constructor.apply(this,arguments),l}return __extends(c,a),c.prototype.urlRoot="/captions",c.prototype.downloadUrl=function(){return this.url()+"/download"},c.prototype.editableUrl=function(){return this.url()+"/editable"},c.prototype.checkReplacingVideo=function(a){return b.get(this.editableUrl(),function(b){return a(b)})},c}(Backbone.Model),i=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments),m}return __extends(b,a),b}(Backbone.Model),k=function(a){function c(){return n=c.__super__.constructor.apply(this,arguments),n}return __extends(c,a),c.prototype.model=i,c.prototype.initialize=function(a){return this.$root=b("#captions_list"),this.template=_.template(b("#transcript-template").html()),this.transcriptStatusObj=a,this.render(),this.setHandlers()},c.prototype.render=function(){return b("#captions_list").prepend(this.template({rush:this.model.get("is_rush"),is_cancellable:this.model.get("is_cancellable")})),this.$el=b("#transcript")},c.prototype.setHandlers=function(){var a=this;return this.$el.find(".transcript-message-link").on("click",function(b){return b.preventDefault(),a.$root.find(".transcript-message").slideToggle(100)}),this.$root.on("click","#cancel_transcript",function(b){return b.preventDefault(),a.cancel()})},c.prototype.cancel=function(){var a=this;if(confirm("Cancel your transcript order without charging?"))return b("#cancel_transcript_form").ajaxSubmit({success:function(b){return a.remove(),window.statusBar.info("Successfully cancelled transcript.")},error:function(a){return typeof console!="undefined"&&console!==null&&console.log(a),window.statusBar.info("There was an error canceling the transcript.")}})},c.prototype.remove=function(){var a=this;return this.$el.slideUp(100,function(){return a.$el.remove()}),b(".transcript-message").slideUp(100,function(){return b(".transcript-message").remove()}),this.$root.off("click","#cancel_transcript"),this.$el.find(".transcript-message-link").off("click")},c}(Backbone.View),j=function(a){function c(){return o=c.__super__.constructor.apply(this,arguments),o}return __extends(c,a),c.prototype.initialize=function(){return this.setTemplates(),this.hashedId=wistiaEmbeds[0].hashedId(),this.render()},c.prototype.render=function(){var a=this;return b.get("/medias/"+this.hashedId+"/transcript/new",function(c){return c.error?window.statusBar.error(c.error):c.can_purchase?(b.facebox(a.transcriptOrderForm({price_per_minute:c.price_per_minute,price:c.price,is_rush:c.is_rush,length_in_minutes:c.length_in_minutes})),a.setHandlers()):a.$el=b.facebox(a.nonCustomerOrderTranscriptTemplate())})},c.prototype.setTemplates=function(){return this.transcriptOrderForm=_.template(b("#transcript-order-form").html()),this.nonCustomerOrderTranscriptForm=_.template(b("#non-customer-transcript-order-form").html())},c.prototype.setHandlers=function(){var a=this;return b("#purchase_transcript_button").on("click",function(b){return b.preventDefault(),a.order()}),b("#gratis_transcript").on("click",function(b){return b.preventDefault(),a.orderGratis()})},c.prototype.order=function(){var a=this;return b("#transcript_confirmation_form").ajaxSubmit({success:function(b){var c;return window.statusBar.info("Successfully ordered captions."),c=new i({is_cancellable:!0}),new k({model:c}),a.close()},error
:function(b){return a.close(),window.statusBar.error("There was an error purchasing captions.")}})},c.prototype.orderGratis=function(){var a=this;if(confirm("Remember, this costs us actual money. Continue?"))return b("#gratis_transcript_confirmation_form").ajaxSubmit({success:function(){var b;return b=new i({is_cancellable:!0}),new k({model:b}),window.statusBar.info("Successfully ordered captions."),a.close()},error:function(){return a.close(),window.statusBar.error("There was an error purchasing captions.")}})},c.prototype.close=function(){return b.facebox.close(),this.remove()},c.prototype.remove=function(){return b("#purchase_transcript_button").off("click"),b("#gratis_transcript").off("click")},c}(Backbone.View),g=function(a){function d(){return this.create=__bind(this.create,this),p=d.__super__.constructor.apply(this,arguments),p}return __extends(d,a),d.prototype.model=c,d.prototype.initialize=function(){return this.hashedId=wistiaEmbeds[0].hashedId(),this.url="/medias/"+this.hashedId+"/captions"},d.prototype.create=function(a,d){var e=this;return b.post(this.url,a,function(a){return a.error?window.statusBar.error(a.error):(e.add(new c(a.captions)),d())})},d}(Backbone.Collection),e=function(a){function c(){return this["delete"]=__bind(this["delete"],this),this.edit=__bind(this.edit,this),this.refresh=__bind(this.refresh,this),this.render=__bind(this.render,this),q=c.__super__.constructor.apply(this,arguments),q}return __extends(c,a),c.prototype.initialize=function(){return this.setTemplate(),this.render(),this.setHandlers()},c.prototype.setHandlers=function(){return this.$el=b("[data-id="+this.model.id+"]"),this.$el.on("click",".edit-caption",this.edit),this.$el.on("click",".delete-caption",this["delete"]),this.model.on("change",this.refresh)},c.prototype.setTemplate=function(){return this.template=_.template(b("#caption-template").html())},c.prototype.render=function(){return this.template({id:this.model.get("id"),name:this.model.get("english_name"),download_url:this.model.downloadUrl()})},c.prototype.refresh=function(){return this.$el.find(".name").text(this.model.get("english_name"))},c.prototype.edit=function(){var a=this;return this.model.checkReplacingVideo(function(b){return b?window.statusBar.error("Your video is currently being replaced. Please wait to edit captions until it is finished."):new d({model:a.model})})},c.prototype["delete"]=function(){var a,c=this;a=this.model.get("english_name").toLowerCase();if(confirm("Are you sure you want to delete "+a+" captions?"))return this.model.destroy({success:function(){return b("[data-id="+c.model.id+"]").slideUp(100),customizePanel.captions.reloadPlugin()}}),this.model.off(),this.$el.off("click",".edit-caption"),this.$el.off("click",".delete-caption"),window.statusBar.info("Successfully deleted "+a+" captions.")},c}(Backbone.View),h=function(a){function b(){return this._views=__bind(this._views,this),this.render=__bind(this.render,this),r=b.__super__.constructor.apply(this,arguments),r}return __extends(b,a),b.prototype.collection=g,b.prototype.el="#captions_list",b.prototype.initialize=function(){return this.render(),this.collection.bind("add",this.render)},b.prototype.render=function(){var a,b,c,d,e;this.$el.empty(),d=this._views(),e=[];for(b=0,c=d.length;b<c;b++)a=d[b],this.$el.append(a.render()),e.push(a.setHandlers());return e},b.prototype._views=function(){var a,b,c,d,f;b=[],f=this.collection.models;for(c=0,d=f.length;c<d;c++)a=f[c],b.push(new e({model:a}));return b},b}(Backbone.View),d=function(a){function c(){return this.submit=__bind(this.submit,this),s=c.__super__.constructor.apply(this,arguments),s}return __extends(c,a),c.prototype.root="#captions_modal",c.prototype.initialize=function(){return this.setTemplate(),this.render(),this.setHandlers()},c.prototype.setTemplate=function(){return this.template=_.template(b("#edit-caption-template").html())},c.prototype.setHandlers=function(){return this.$el=b(this.root),this.$el.on("click",".cancel",this.close),this.$el.on("click",".submit",this.submit)},c.prototype.render=function(){b.facebox(this.template({language:this.model.get("language"),caption_srt:this.model.get("text")}));if(this.model.get("right_to_left"))return b("#caption_file").attr("dir","rtl")},c.prototype.submit=function(){var a,b,c,d=this;return a=this.$el.find("#caption_file").val(),c=this.$el.find("#selectedLanguage").val(),b=this.$el.find("option[value='"+c+"']").text(),this.model.set({text:a,language:c,english_name:b}),this.model.save({success:function(){return d.close(),window.statusBar.info("Successfully updated captions."),setTimeout(function(){return customizePanel.captions.reloadPlugin()})}})},c.prototype.close=function(){return b.facebox.close(),this.remove()},c.prototype.remove=function(){return this.$el.off("click",".cancel"),this.$el.off("click",".submit")},c}(Backbone.View),f=function(){function a(){this.$div=b("#captions-default"),this._jqSelector="input[name=captions_default_select]",this.$inputs=b(this._jqSelector),this._onVal="true",this._offVal="false",this._default=this._offVal,this.$description=b("#multi-caption-description")}return a.prototype.setup=function(){return this._setDefault()},a.prototype.state=function(){var a;return a=b(""+this._jqSelector+":checked").val(),a===this._onVal?!0:a===this._offVal?!1:null},a.prototype.show=function(){return this.$div.slideDown(100)},a.prototype.hide=function(){return this.$div.slideUp(100)},a.prototype.showDescription=function(){return this.$description.slideDown(100)},a.prototype.hideDescription=function(){return this.$description.slideUp(100)},a.prototype._setDefault=function(){if(this.state()==null)return this.$inputs.filter("[value="+this._default+"]").prop("checked",!0)},a}(),window.CaptionsModule=function(c){function d(){this.reloadPlugin=__bind(this.reloadPlugin,this);var a=this;this.name="captions",this.pluginName="captions-v1",d.__super__.constructor.apply(this,arguments),this.hashedId=this.video.hashedId(),this.initData=customizeInitOpts.captions,this.initPlugin(),this.initCaptions(),this.initTranscripts(),this.initTranscriptOrderer(),this.initCaptionsUploader(),this.initInteractiveTranscripts(),this.initCaptionsDefault(),b(".disable_captions").click(function(){return b(".captions .on_off_switch").click()})}return __extends(d,c),d.prototype.initPlugin=function(){return this.pluginType=this.initData.caption_type||"captions",this.pluginType==="transcript"?this.pluginName="transcript-v2":this.pluginName="captions-v1"},d.prototype.initCaptions=function(){var a;return this.captionsList=new g(this.initData.captions),a=new h({collection:this.captionsList})},d.prototype.initTranscripts=function(){if(this.initData.transcript&&!this.initData.transcript.is_fetched)return this.transcript=new i(this.initData.transcript),new k({model:this.transcript})},d.prototype.initTranscriptOrderer=function(){var a=this;return b("#order-transcript-link").on("click",function(){return new j})},d.prototype.initCaptionsUploader=function(){var c,d,e=this;return c=function(){var a;return b("#captions-uploader").append(b("#captions-simple-uploader-template").html()),a=b("#srt-simple-uploader"),a.on("change",function(b){return a.submit()})},d=function(){return b("#captions-uploader").append(b("#captions-uploader-template").html()),b("#srt-uploader").on("change",function(a){var c,d;return c=a.target.files[0],d=new FileReader,b(d).on("load",function(a){return e.captionsList.create({caption_file:d.result},e.reloadPlugin),b("#srt-uploader")[0].reset()}),d.readAsText(c)})},a.detect.browser.msie&&a.detect.browser.version<=9?c():d()},d.prototype.initInteractiveTranscripts=function(){var a,c,d,e=this;if(a=this.initData.transcript)a.is_fetched&&a.is_interactive&&b("#captions_type_config").show(),this.pluginType==="transcript"&&b("#transcript_position_config").show(),(c=this.$captions_type_captions)!=null&&c.click(function(){return e.changePlugin("captions"),e.resizeForTranscript(),b("#captions_captions_config").show(),b("#transcript_position_config").hide()}),(d=this.$captions_type_transcript)!=null&&d.click(function(){return e.changePlugin("transcript"),e.resizeForTranscript(),b("#transcript_position_config").show(),b("#captions_captions_config").hide()});return this.$root.find("[name=captions_transcript_position]").click(function(){return e.transcriptPosition()==="below"?e.plugin().params.container="sub_media_bar":e.plugin().params.container=null,e.plugin().changePosition(e.transcriptPosition()),e.transcriptPosition()==="right"?e.video.width(e.customizePanel.maxVideoWidth(),{constrain:!0}):(e.video.videoWidth(e.customizePanel.maxVideoWidth()),e.video.videoHeight(e.customizePanel.maxVideoHeight())),e.resizeForTranscript()})},d.prototype.initCaptionsDefault=function(){var a,b,c=this;return this._captionsDefault=new f,this._captionsDefault.setup(),this._captionsDefault.$inputs.change(function(){return c._captionsDefault.state()?c.plugin().turnOn():c.plugin().turnOff()}),b=function(){return c.captionsList.length<=0?c._captionsDefault.hide():c._captionsDefault.show()},a=function(){return c.captionsList.length>1?c._captionsDefault.showDescription():c._captionsDefault.hideDescription()},b(),a(),this.captionsList.bind("add remove",b),this.captionsList.bind("add remove",a)},d.prototype.addPlugin=function(){var b,c=this;if(this.pluginType==="captions")return this.plugin()||this.pluginName&&this.video.addPlugin(this.pluginName,this.pluginOptions()),this.plugin().fetched(function(){if(c.plugin().captions.length<1)return c.loadDefaultCaptions()});if(this.pluginType==="transcript")return this.plugin()||(this.transcriptPosition()==="below"?b=a.obj.merge(this.pluginOptions(),{container:"sub_media_bar"}):b=this.pluginOptions(),this.pluginName&&this.video.addPlugin(this.pluginName,b)),this.resizeForTranscript()},d.prototype.removePlugin=function(){d.__super__.removePlugin.apply(this,arguments);if(this.pluginType==="transcript")return this.resizeForTranscript()},d.prototype.changePlugin=function(a){return this.pluginType=a,this.pluginType==="transcript"?(this.removePlugin(),this.pluginName="transcript-v2",this.reloadPlugin()):(this.removePlugin(),this.pluginName="captions-v1",this.reloadPlugin())},d.prototype.reloadPlugin=function(){return this.plugin()?(this.removePlugin(),this.addPlugin()):this.addPlugin()},d.prototype.embedOptions=function(){var a;return a={plugin:{}},this.isEnabled()&&(this.pluginType==="captions"?a.plugin["captions-v1"]=this.pluginOptions():this.pluginType==="transcript"&&(a.plugin["transcript-v2"]=this.pluginOptions())),a},d.prototype.pluginOptions=function(){if(this.pluginType==="captions")return this.captionsOptions();if(this.pluginType==="transcript")return this.transcriptOptions();throw"Invalid plugin name."},d.prototype.captionsOptions=function(){var a;return a={},a.onByDefault=this._captionsDefault.state(),a},d.prototype.transcriptPosition=function(){return this.$root.find("[name=captions_transcript_position]:checked").val()},d.prototype.transcriptOptions=function(){var a;return a={},a.position=this.transcriptPosition(),a},d.prototype.defaultCaptions=function(){var b,c,d,e,f,g,h;b=[{start:0,end:5,text:["These captions are only an example."]},{start:5,end:10,text:["When you get real captions,","they'll be automatically enabled."]},{start:10,end:15,text:["Go ahead: upload an SRT file","or order a transcript!"]}],g=function(b,c){var d;return c==null&&(c=0),d=a.obj.clone(b),d.start=c+b.start,d.end=c+b.end,d},c=_.last(b).end,e=parseInt(this.video.duration()/c),f=[];for(d=h=0;0<=e?h<=e:h>=e;d=0<=e?++h:--h)f.push(g(b[0],d*c)),f.push(g(b[1],d*c)),f.push(g(b[2],d*c));return f},d.prototype.loadDefaultCaptions=function(){return this.plugin().insertCaptions(this.defaultCaptions()),this.plugin().show(),this.plugin().turnOn()},d.prototype.resizeForTranscript=function(){return this.pluginType==="transcript"&&(this.transcriptPosition()==="below"?this.video.videoWidth(this.customizePanel.maxVideoWidth(),{constrain:!0}):this.plugin()?this.customizePanel.maxVideoWidth()+parseInt(this.plugin().params.width,10)>960?this.video.width(this.customizePanel.maxVideoWidth(),{constrain:!0}):this.video.videoWidth(this.customizePanel.maxVideoWidth(),{constrain:!0}):this.video.videoWidth(this.customizePanel.maxVideoWidth(),{constrain:!0})),b("#embed").width(this.video.width()),b("#media_bar").height(this.video.videoHeight())},d.prototype.beforeSave=function(){var a,c,d;return this.isEnabled()&&((c=this.plugin())!=null?(d=c.captions)!=null?d.length:void 0:void 0)<1&&((a=this.plugin())!=null?a._on:void 0)?(b("#customize_save").mrIssue("#captions_default_on"),!1):!0},d}(CustomizePanelModule)})(Wistia,jQuery);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b){return window.TimelineModule=function(c){function d(){this.resizeTimetrackToFit=__bind(this.resizeTimetrackToFit,this);var a,c,e,f,g;d.__super__.constructor.apply(this,arguments),this.$jamjar_body=this.$(".timeline_jamjar").empty(),this.$timeline=b("<div>").appendTo(this.$jamjar_body),this.$timetrack=b(".timeline-timetrack-wrapper").empty(),this.$timetrack.length||(this.$timetrack=b("<div>").addClass("timeline-timetrack-wrapper").prependTo(b("#sub_media_bar_wrapper"))),this.$timetrackInner=b("<div>").appendTo(this.$timetrack),this.hideTimetrackInstant(),this.emailProviderInfo=window.customizeBootstrappedEmailProviderInfo,c=this.fromStringyCustomizeOptions(this.customizePanel.savedCustomizeOptions),a=this.customizeOptionsWithStrippedProviderListIfInactive(c),window.timelineView=this.timelineView=new Timeline.TimelineDetailView(this.$timeline,this.$timetrackInner,a,this.customizePanel.video,this.emailProviderInfo,typeof WistiaContext!="undefined"&&WistiaContext!==null?(e=WistiaContext.account)!=null?(f=e.features)!=null?(g=f.feature_set)!=null?g.marketing_tools:void 0:void 0:void 0:void 0),this.hidePluginsIfVisible(),this.resizeTimetrackToFit(),this.fetchEmailProviderLists()}return __extends(d,c),d.prototype.name="timeline",d.prototype.$=function(){var a;return(a=this.$root).find.apply(a,arguments)},d.prototype.fetchEmailProviderLists=function(){var c=this;if(this.emailProviderInfo.configured)return b.getJSON("/account/integrations/lists",{integration_id:this.emailProviderInfo.integration_id},function(b){return c.emailProviderInfo=a.obj.merge(c.emailProviderInfo,b),c.timelineView.setEmailProviderInfo(c.emailProviderInfo)})},d.prototype.hidePluginsIfVisible=function(){var a,b;(b=this.customizePanel.video.plugin["requireEmail-v1"])&&b.isOpen()&&b.close();if(a=this.customizePanel.video.plugin["postRoll-v1"])return a.close()},d.prototype.beforeClose=function(){return this.isClosing?!1:this.isClosing=!0},d.prototype.afterClose=function(){return this.isClosing=!1},d.prototype.onFocus=function(){return this.showTimetrack(),this.hidePluginsIfVisible()},d.prototype.onBlur=function(){return this.hideTimetrack(),this.close(),!0},d.prototype.setupBindings=function(){return this.customizePanel.video.bind("control-on",this.resizeTimetrackToFit),this.customizePanel.video.bind("control-off",this.resizeTimetrackToFit),this.customizePanel.video.bind("widthchange",this.resizeTimetrackToFit),this.customizePanel.video.bind("heightchange",this.resizeTimetrackToFit)},d.prototype.resizeTimetrackToFit=function(){var a,b,c,d,e,f;return a=55,e=this.customizePanel.video,f=e.width(),d=function(a){return e.options[a]==null||e.options[a]===!0},b=d("smallPlayButton")?a:0,c=d("volumeControl")?a:0,c+=d("fullscreenButton")?a:0,this.$timetrack.css({width:f,paddingLeft:b,paddingRight:c})},d.prototype.showTimetrack=function(){var a=this;return this.$timetrack.animate({height:24},250,function(){return a.$timetrack.css({overflow:""})})},d.prototype.showTimetrackInstant=function(){return this.$timetrack.css({height:24,overflow:""})},d.prototype.hideTimetrack=function(){var a=this;return this.$timetrack.animate({height:0},250,function(){return a.$timetrack.css({overflow:"hidden"})})},d.prototype.hideTimetrackInstant=function(){return this.$timetrack.css({height:0,overflow:"hidden"})},d.prototype.customizeOptions=function(){return this.toStringyCustomizeOptions(this.timelineView.customizeOptions())},d.prototype.embedOptions=function(){return this.timelineView.embedOptions()},d.prototype.customizeOptionsWithStrippedProviderListIfInactive=function(b){var c;return c=a.obj.clone(b),this.emailProviderInfo.configured?(c.require_email_provider!==this.emailProviderInfo.var_name&&(c.require_email_list=""),c):c},d.prototype.fromStringyCustomizeOptions=function(a){var b;return b=function(a){var c,d,e,f;if(_.isString(a))return a==="true"||a==="checked"?!0:a==="false"||a==="unchecked"?!1:!_.isNaN(d=parseFloat(a))&&""+d===a?d:a;if(_.isArray(a))return _.map(a,b);if(_.isObject(a)){e={};for(c in a)f=a[c],e[c]=b(f);return e}return a},b(a)},d.prototype.toStringyCustomizeOptions=function(a){var b;return b=function(a){var c,d,e;if(_.isBoolean(a))return a?"true":"false";if(_.isNumber(a))return""+a;if(_.isArray(a))return _.map(a,b);if(_.isObject(a)){d={};for(c in a)e=a[c],d[c]=b(e);return d}return a},b(a)},d}(CustomizePanelModule)})(Wistia,jQuery),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.vdom=a()}}(function(){var a,b,c;return function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var j=typeof require=="function"&&require;if(!h&&j)return j(g,!0);if(f)return f(g,!0);var k=new Error("Cannot find module '"+g+"'");throw k.code="MODULE_NOT_FOUND",k}var l=b[g]={exports:{}};a[g][0].call(l.exports,function(b){var c=a[g][1][b];return e(c?c:b)},l,l.exports,d,a,b,c)}return b[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b,c){((function(c){var d=a("virtual-dom"),e=a("virtual-dom/virtual-hyperscript/svg"),f=a("dom-delegator"),g=a("value-event/base-event"),h=a("value-event/event"),i=a("value-event/value"),j=a("value-event/key"),k=a("value-event/click"),l=a("value-event/submit"),m=a("ev-store");b.exports={h:d.h,svg:e,create:d.create,diff:d.diff,patch:d.patch,DOMDelegator:f,globalDOMDelegator:f({defaultEvents:!1}),baseEvent:g,event:h,value:i,key:j,click:k,submit:l,EvStore:m,nextTick:c.nextTick}})).call(this,a("_process"))},{_process:68,"dom-delegator":4,"ev-store":16,"value-event/base-event":19,"value-event/click":20,"value-event/event":21,"value-event/key":22,"value-event/submit":28,"value-event/value":29,"virtual-dom":33,"virtual-dom/virtual-hyperscript/svg":54}],2:[function(a,b,c){function e(a,b,c){var e=d(a),f=e[b];f?Array.isArray(f)?f.indexOf(c)===-1&&f.push(c):f!==c&&(e[b]=[f,c]):e[b]=c}var d=a("ev-store");b.exports=e},{"ev-store":6}],3:[function(a,b,c){function k(a){if(this instanceof k)a=a||d,this.target=a.documentElement,this.events={},this.rawEventListeners={},this.globalListeners={};else return new k(a)}function l(a,b){function e(b){var e=c[a]||[];if(e.length>0){var f=new i(b);f.currentTarget=d,o(e,f)}m(b.target,b,a)}var c=b.globalListeners,d=b.target;return e}function m(a,b,c){var d=n(a,c);if(d&&d.handlers.length>0){var e=new i(b);e.currentTarget=d.currentTarget,o(d.handlers,e);if(e._bubbles){var f=d.currentTarget.parentNode;m(f,b,c)}}}function n(a,b){if(a===null||typeof a=="undefined")return null;var c=e(a),d=c[b],f=c.event;if(!d&&!f)return n(a.parentNode,b);var g=[].concat(d||[],f||[]);return new p(a,g)}function o(a,b){a.forEach(function(c){if(typeof c=="function")c(b);else if(typeof c.handleEvent=="function")c.handleEvent(b);else if(c.type==="dom-delegator-handle")j(c).func(b);else throw new Error("dom-delegator: unknown handler found: "+JSON.stringify(a))})}function p(a,b){this.currentTarget=a,this.handlers=b}function q(){this.type="dom-delegator-handle"}var d=a("global/document"),e=a("ev-store"),f=a("weakmap-shim/create-store"),g=a("./add-event.js"),h=a("./remove-event.js"),i=a("./proxy-event.js"),j=f();b.exports=k,k.prototype.addEventListener=g,k.prototype.removeEventListener=h,k.allocateHandle=function(a){var b=new q;return j(b).func=a,b},k.transformHandle=function(a,b){var c=j(a).func;return this.allocateHandle(function(a){b(a,c)})},k.prototype.addGlobalEventListener=function(a,b){var c=this.globalListeners[a]||[];c.indexOf(b)===-1&&c.push(b),this.globalListeners[a]=c},k.prototype.removeGlobalEventListener=function(a,b){var c=this.globalListeners[a]||[],d=c.indexOf(b);d!==-1&&c.splice(d,1)},k.prototype.listenTo=function(a){a in this.events||(this.events[a]=0),this.events[a]++;if(this.events[a]!==1)return;var b=this.rawEventListeners[a];b||(b=this.rawEventListeners[a]=l(a,this)),this.target.addEventListener(a,b,!0)},k.prototype.unlistenTo=function(a){a in this.events||(this.events[a]=0);if(this.events[a]===0)throw new Error("already unlistened to event.");this.events[a]--;if(this.events[a]!==0)return;var b=this.rawEventListeners[a];if(!b)throw new Error("dom-delegator#unlistenTo: cannot unlisten to "+a);this.target.removeEventListener(a,b,!0)}},{"./add-event.js":2,"./proxy-event.js":14,"./remove-event.js":15,"ev-store":6,"global/document":9,"weakmap-shim/create-store":12}],4:[function(a,b,c){function m(a){a=a||{};var b=a.document||f,c=b[j];c||(c=b[j]=e());var d=k.delegators[c];d||(d=k.delegators[c]=new g(b));if(a.defaultEvents!==!1)for(var h=0;h<l.length;h++)d.listenTo(l[h]);return d}var d=a("individual"),e=a("cuid"),f=a("global/document"),g=a("./dom-delegator.js"),h="13",i="__DOM_DELEGATOR_CACHE@"+h,j="__DOM_DELEGATOR_CACHE_TOKEN@"+h,k=d(i,{delegators:{}}),l=["blur","change","click","contextmenu","dblclick","error","focus","focusin","focusout","input","keydown","keypress","keyup","load","mousedown","mouseup","resize","select","submit","touchcancel","touchend","touchstart","unload"];b.exports=m,m.allocateHandle=g.allocateHandle,m.transformHandle=g.transformHandle},{"./dom-delegator.js":3,cuid:5,"global/document":9,individual:10}],5:[function(a,b,c){(function(a){"use strict";var c="cuid",d=0,e=4,f=36,g=Math.pow(f,e),h=function(a,b){var c="000000000"+a;return c.substr(c.length-b)},i=function(){return h((Math.random()*g<<0).toString(f),e)},j=function(){return d=d<g?d:0,d++,d-1},k=function(){var a="c",b=(new Date).getTime().toString(f),c,d=k.fingerprint(),g=i()+i();return c=h(j().toString(f),e),a+b+c+d+g};k.slug=function(){var a=(new Date).getTime().toString(36),b,c=k.fingerprint().slice(0,1)+k.fingerprint().slice(-1),d=i().slice(-2);return b=j().toString(36).slice(-4),a.slice(-2)+b+c+d},k.globalCount=function(){var a=function b(){var a,b=0;for(a in window)b++;return b}();return k.globalCount=function(){return a},a},k.fingerprint=function(){return h((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+k.globalCount().toString(36),4)},a.register?a.register(c,k):typeof b!="undefined"?b.exports=k:a[c]=k})(this.applitude||this)},{}],6:[function(a,b,c){function g(a){var b=a[f];return b||(b=a[f]={}),b}"use strict";var d=a("individual/one-version"),e="7";d("ev-store",e);var f="__EV_STORE_KEY@"+e;b.exports=g},{"individual/one-version":8}],7:[function(a,b,c){((function(a){function d(a,b){return a in c?c[a]:(c[a]=b,b)}"use strict";var c=typeof window!="undefined"?window:typeof a!="undefined"?a:{};b.exports=d})).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],8:[function(a,b,c){function e(a,b,c){var e="__INDIVIDUAL_ONE_VERSION_"+a,f=e+"_ENFORCE_SINGLETON",g=d(f,b);if(g!==b)throw new Error("Can only have one copy of "+a+".\n"+"You already have version "+g+" installed.\n"+"This means you cannot install version "+b);return d(e,c)}"use strict";var d=a("./index.js");b.exports=e},{"./index.js":7}],9:[function(a,b,c){((function(c){var d=typeof c!="undefined"?c:typeof window!="undefined"?window:{},e=a("min-document");if(typeof document!="undefined")b.exports=document;else{var f=d["__GLOBAL_DOCUMENT_CACHE@4"];f||(f=d["__GLOBAL_DOCUMENT_CACHE@4"]=e),b.exports=f}})).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"min-document":67}],10:[function(a,b,c){((function(a){function d(a,b){return c[a]?c[a]:(Object.defineProperty(c,a,{value:b,configurable:!0}),b)}var c=typeof window!="undefined"?window:typeof a!="undefined"?a:{};b.exports=d})).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],11:[function(a,b,c){typeof Object.create=="function"?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],12:[function(a,b,c){function e(){var a={};return function(b){if(typeof b=="object"&&b!==null||typeof b=="function"){var c=b.valueOf(a);return c&&c.identity===a?c:d(b,a)}throw new Error("Weakmap-shim: Key must be object")}}var d=a("./hidden-store.js");b.exports=e},{"./hidden-store.js":13}],13:[function(a,b,c){function d(a,b){var c={identity:b},d=a.valueOf;return Object.defineProperty(a,"valueOf",{value:function(a){return a!==b?d.apply(this,arguments):c},writable:!0}),c}b.exports=d},{}],14:[function(a,b,c){function j(a){if(!(this instanceof j))return new j(a);if(h.test(a.type))return new l(a);if(i.test(a.type))return new k(a);for(var b=0;b<e.length;b++){var c=e[b];this[c]=a[c]}this._rawEvent=a,this._bubbles=!1}function k(a){for(var b=0;b<e.length;b++){var c=e[b];this[c]=a[c]}for(var d=0;d<g.length;d++){var f=g[d];this[f]=a[f]}this._rawEvent=a}function l(a){for(var b=0;b<e.length;b++){var c=e[b];this[c]=a[c]}for(var d=0;d<f.length;d++){var g=f[d];this[g]=a[g]}this._rawEvent=a}var d=a("inherits"),e=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"],f=["char","charCode","key","keyCode"],g=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"],h=/^key|input/,i=/^(?:mouse|pointer|contextmenu)|click/;b.exports=j,j.prototype.preventDefault=function(){this._rawEvent.preventDefault()},j.prototype.startPropagation=function(){this._bubbles=!0},d(k,j),d(l,j)},{inherits:11}],15:[function(a,b,c){function e(a,b,c){var e=d(a),f=e[b];if(!f)return;if(Array.isArray(f)){var g=f.indexOf(c);g!==-1&&f.splice(g,1)}else f===c&&(e[b]=null)}var d=a("ev-store");b.exports=e},{"ev-store":6}],16:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6,"individual/one-version":18}],17:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],18:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"./index.js":17,dup:8}],19:[function(a,b,c){function e(a){function b(a,b,f){var g={fn:a,data:b!==undefined?b:{},opts:f||{},handleEvent:e};return a&&a.type==="dom-delegator-handle"?d.transformHandle(a,c.bind(g)):g}function c(b,c){return this.opts.startPropagation&&b.startPropagation&&b.startPropagation(),a.call(this,b,c)}function e(b){function d(a){typeof c.fn=="function"?c.fn(a):c.fn.write(a)}var c=this;c.opts.startPropagation&&b.startPropagation&&b.startPropagation(),a.call(c,b,d)}return b}var d=a("dom-delegator");b.exports=e},{"dom-delegator":4}],20:[function(a,b,c){function e(a,b){var c=this.opts;if(!c.ctrl&&a.ctrlKey)return;if(!c.meta&&a.metaKey)return;if(!c.rightClick&&a.which===2)return;this.opts.preventDefault&&a.preventDefault&&a.preventDefault(),b(this.data)}var d=a("./base-event.js");b.exports=d(e)},{"./base-event.js":19}],21:[function(a,b,c){function e(a,b){b(this.data)}var d=a("./base-event.js");b.exports=d(e)},{"./base-event.js":19}],22:[function(a,b,c){function e(a,b){var c=this.opts.key;a.keyCode===c&&b(this.data)}var d=a("./base-event.js");b.exports=d(e)},{"./base-event.js":19}],23:[function(a,b,c){function e(a,b){"length"in a||(a=[a]),a=d.call(a);while(a.length){var c=a.shift(),e=b(c);if(e)return e;c.childNodes&&c.childNodes.length&&(a=d.call(c.childNodes).concat(a))}}var d=Array.prototype.slice;b.exports=e},{}],24:[function(a,b,c){function f(a){var b={};return a.name&&(b[a.name]=a),d(a,function(a){a.name&&(b[a.name]=a)}),b}function g(a){var b=f(a);return e(b)}var d=a("dom-walk"),e=a("./index.js");b.exports=g},{"./index.js":25,"dom-walk":23}],25:[function(a,b,c){function d(a){return Object.keys(a).reduce(function(b,c){var d=a[c];return b[c]=e(d),b},{})}function e(a){if(typeof a=="function")return a();if(g(a)){var b=h(a),c=b.filter(function(a){return a.checked})[0]||null;return c?c.value:null}if(Array.isArray(a))return a.map(e).filter(j);if(a.tagName===undefined&&a.nodeType===undefined)return d(a);if(a.tagName==="INPUT"&&f(a))return a.hasAttribute("value")?a.checked?a.value:null:a.checked;if(a.tagName==="INPUT")return a.value;if(a.tagName==="TEXTAREA")return a.value;if(a.tagName==="SELECT")return a.value}function f(a){return a.type==="checkbox"||a.type==="radio"}function g(a){if(a.tagName||a.nodeType)return!1;var b=h(a);return b.some(function(a){return a.tagName==="INPUT"&&a.type==="radio"})}function h(a){return Array.isArray(a)?a:Object.keys(a).map(i,a)}function i(a){return this[a]}function j(a){return a!==null}b.exports=d},{}],26:[function(a,b,c){function d(a){return a!==null&&(typeof a=="object"||typeof a=="function")}b.exports=d},{}],27:[function(a,b,c){function e(){var a={};for(var b=0;b<arguments.length;b++){var c=arguments[b];if(!d(c))continue;for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}return a}var d=a("./has-keys");b.exports=e},{"./has-keys":26}],28:[function(a,b,c){function h(a,b){var c=a.target,f=a.type==="submit"&&c.tagName==="FORM"||a.type==="click"&&c.tagName==="BUTTON"||a.type==="click"&&c.type==="submit"||c.type==="text"&&a.keyCode===g&&a.type==="keydown";if(!f){a.startPropagation&&a.startPropagation();return}var h=e(a.currentTarget),i=d(h,this.data);a.preventDefault&&a.preventDefault(),b(i)}var d=a("xtend"),e=a("form-data-set/element"),f=a("./base-event.js"),g=13;b.exports=f(h)},{"./base-event.js":19,"form-data-set/element":24,xtend:27}],29:[function(a,b,c){function g(a,b){var c=e(a.currentTarget),f=d(c,this.data);b(f)}var d=a("xtend"),e=a("form-data-set/element"),f=a("./base-event.js");b.exports=f(g)},{"./base-event.js":19,"form-data-set/element":24,xtend:27}],30:[function(a,b,c){var d=a("./vdom/create-element.js");b.exports=d},{"./vdom/create-element.js":43}],31:[function(a,b,c){var d=a("./vtree/diff.js");b.exports=d},{"./vtree/diff.js":66}],32:[function(a,b,c){var d=a("./virtual-hyperscript/index.js");b.exports=d},{"./virtual-hyperscript/index.js":51}],33:[function(a,b,c){var d=a("./diff.js"),e=a("./patch.js"),f=a("./h.js"),g=a("./create-element.js");b.exports={diff:d,patch:e,h:f,create:g}},{"./create-element.js":30,"./diff.js":31,"./h.js":32,"./patch.js":41}],34:[function(a,b,c){b.exports=function d(a){var b=String.prototype.split,c=/()??/.exec("")[1]===a,d;return d=function(d,e,f){if(Object.prototype.toString.call(e)!=="[object RegExp]")return b.call(d,e,f);var g=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),i=0,e=new RegExp(e.source,h+"g"),j,k,l,m;d+="",c||(j=new RegExp("^"+e.source+"$(?!\\s)",h)),f=f===a?-1>>>0:f>>>0;while(k=e.exec(d)){l=k.index+k[0].length;if(l>i){g.push(d.slice(i,k.index)),!c&&k.length>1&&k[0].replace(j,function(){for(var b=1;b<arguments.length-2;b++)arguments[b]===a&&(k[b]=a)}),k.length>1&&k.index<d.length&&Array.prototype.push.apply(g,k.slice(1)),m=k[0].length,i=l;if(g.length>=f)break}e.lastIndex===k.index&&e.lastIndex++}return i===d.length?(m||!e.test(""))&&g.push(""):g.push(d.slice(i)),g.length>f?g.slice(0,f):g},d}()},{}],35:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6,"individual/one-version":37}],36:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],37:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"./index.js":36,dup:8}],38:[function(a,b,c){arguments[4][9][0].apply(c,arguments)},{dup:9,"min-document":67}],39:[function(a,b,c){"use strict",b.exports=function(a){return typeof a=="object"&&a!==null}},{}],40:[function(a,b,c){function f(a){return e.call(a)==="[object Array]"}var d=Array.isArray,e=Object.prototype.toString;b.exports=d||f},{}],41:[function(a,b,c){var d=a("./vdom/patch.js");b.exports=d},{"./vdom/patch.js":46}],42:[function(a,b,c){function f(a,b,c){for(var f in b){var i=b[f];i===undefined?g(a,f,i,c):e(i)?(g(a,f,i,c),i.hook&&i.hook(a,f,c?c[f]:undefined)):d(i)?h(a,b,c,f,i):a[f]=i}}function g(a,b,c,d){if(d){var f=d[b];if(!e(f))if(b==="attributes")for(var g in f)a.removeAttribute
(g);else if(b==="style")for(var h in f)a.style[h]="";else typeof f=="string"?a[b]="":a[b]=null;else f.unhook&&f.unhook(a,b,c)}}function h(a,b,c,e,f){var g=c?c[e]:undefined;if(e==="attributes"){for(var h in f){var j=f[h];j===undefined?a.removeAttribute(h):a.setAttribute(h,j)}return}if(g&&d(g)&&i(g)!==i(f)){a[e]=f;return}d(a[e])||(a[e]={});var k=e==="style"?"":undefined;for(var l in f){var m=f[l];a[e][l]=m===undefined?k:m}}function i(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);if(a.__proto__)return a.__proto__;if(a.constructor)return a.constructor.prototype}var d=a("is-object"),e=a("../vnode/is-vhook.js");b.exports=f},{"../vnode/is-vhook.js":57,"is-object":39}],43:[function(a,b,c){function j(a,b){var c=b?b.document||d:d,k=b?b.warn:null;a=i(a).a;if(h(a))return a.init();if(g(a))return c.createTextNode(a.text);if(!f(a))return k&&k("Item is not a valid virtual dom node",a),null;var l=a.namespace===null?c.createElement(a.tagName):c.createElementNS(a.namespace,a.tagName),m=a.properties;e(l,m);var n=a.children;for(var o=0;o<n.length;o++){var p=j(n[o],b);p&&l.appendChild(p)}return l}var d=a("global/document"),e=a("./apply-properties"),f=a("../vnode/is-vnode.js"),g=a("../vnode/is-vtext.js"),h=a("../vnode/is-widget.js"),i=a("../vnode/handle-thunk.js");b.exports=j},{"../vnode/handle-thunk.js":55,"../vnode/is-vnode.js":58,"../vnode/is-vtext.js":59,"../vnode/is-widget.js":60,"./apply-properties":42,"global/document":38}],44:[function(a,b,c){function e(a,b,c,d){return!c||c.length===0?{}:(c.sort(h),f(a,b,c,d,0))}function f(a,b,c,e,h){e=e||{};if(a){g(c,h,h)&&(e[h]=a);var i=b.children;if(i){var j=a.childNodes;for(var k=0;k<b.children.length;k++){h+=1;var l=i[k]||d,m=h+(l.count||0);g(c,h,m)&&f(j[k],l,c,e,h),h=m}}}return e}function g(a,b,c){if(a.length===0)return!1;var d=0,e=a.length-1,f,g;while(d<=e){f=(e+d)/2>>0,g=a[f];if(d===e)return g>=b&&g<=c;if(g<b)d=f+1;else if(g>c)e=f-1;else return!0}return!1}function h(a,b){return a>b?1:-1}var d={};b.exports=e},{}],45:[function(a,b,c){function i(a,b,c){var e=a.type,g=a.vNode,h=a.patch;switch(e){case f.REMOVE:return j(b,g);case f.INSERT:return k(b,h,c);case f.VTEXT:return l(b,g,h,c);case f.WIDGET:return m(b,g,h,c);case f.VNODE:return n(b,g,h,c);case f.ORDER:return p(b,h),b;case f.PROPS:return d(b,h,g.properties),b;case f.THUNK:return q(b,c.patch(b,h,c));default:return b}}function j(a,b){var c=a.parentNode;return c&&c.removeChild(a),o(a,b),null}function k(a,b,c){var d=g(b,c);return a&&a.appendChild(d),a}function l(a,b,c,d){var e;if(a.nodeType===3)a.replaceData(0,a.length,c.text),e=a;else{var f=a.parentNode;e=g(c,d),f&&f.replaceChild(e,a)}return e}function m(a,b,c,d){var e=h(b,c),f;e?f=c.update(b,a)||a:f=g(c,d);var i=a.parentNode;return i&&f!==a&&i.replaceChild(f,a),e||o(a,b),f}function n(a,b,c,d){var e=a.parentNode,f=g(c,d);return e&&e.replaceChild(f,a),f}function o(a,b){typeof b.destroy=="function"&&e(b)&&b.destroy(a)}function p(a,b){var c=[],d=a.childNodes,e=d.length,f,g=b.reverse;for(f=0;f<e;f++)c.push(a.childNodes[f]);var h=0,i,j,k,l,m,n;for(f=0;f<e;){i=b[f],l=1;if(i!==undefined&&i!==f){while(b[f+l]===i+l)l++;g[f]>f+l&&h++,j=c[i],k=d[f+h]||null,m=0;while(j!==k&&m++<l)a.insertBefore(j,k),j=c[i+m];i+l<f&&h--}f in b.removes&&h++,f+=l}}function q(a,b){return a&&b&&a!==b&&a.parentNode&&(console.log(a),a.parentNode.replaceChild(b,a)),b}var d=a("./apply-properties"),e=a("../vnode/is-widget.js"),f=a("../vnode/vpatch.js"),g=a("./create-element"),h=a("./update-widget");b.exports=i},{"../vnode/is-widget.js":60,"../vnode/vpatch.js":63,"./apply-properties":42,"./create-element":43,"./update-widget":47}],46:[function(a,b,c){function h(a,b){return i(a,b)}function i(a,b,c){var e=k(b);if(e.length===0)return a;var g=f(a,b.a,e),h=a.ownerDocument;c||(c={patch:i},h!==d&&(c.document=h));for(var l=0;l<e.length;l++){var m=e[l];a=j(a,g[m],b[m],c)}return a}function j(a,b,c,d){if(!b)return a;var f;if(e(c))for(var h=0;h<c.length;h++)f=g(c[h],b,d),b===a&&(a=f);else f=g(c,b,d),b===a&&(a=f);return a}function k(a){var b=[];for(var c in a)c!=="a"&&b.push(Number(c));return b}var d=a("global/document"),e=a("x-is-array"),f=a("./dom-index"),g=a("./patch-op");b.exports=h},{"./dom-index":44,"./patch-op":45,"global/document":38,"x-is-array":40}],47:[function(a,b,c){function e(a,b){return d(a)&&d(b)?"name"in a&&"name"in b?a.id===b.id:a.init===b.init:!1}var d=a("../vnode/is-widget.js");b.exports=e},{"../vnode/is-widget.js":60}],48:[function(a,b,c){function d(a,b){if(this instanceof d)this.namespace=a,this.value=b;else return new d(a,b)}"use strict",b.exports=d,d.prototype.hook=function(a,b,c){if(c&&c.type==="AttributeHook"&&c.value===this.value&&c.namespace===this.namespace)return;a.setAttributeNS(this.namespace,b,this.value)},d.prototype.unhook=function(a,b,c){if(c&&c.type==="AttributeHook"&&c.namespace===this.namespace)return;var d=b.indexOf(":"),e=d>-1?b.substr(d+1):b;a.removeAttributeNS(this.namespace,e)},d.prototype.type="AttributeHook"},{}],49:[function(a,b,c){function e(a){if(this instanceof e)this.value=a;else return new e(a)}"use strict";var d=a("ev-store");b.exports=e,e.prototype.hook=function(a,b){var c=d(a),e=b.substr(3);c[e]=this.value},e.prototype.unhook=function(a,b){var c=d(a),e=b.substr(3);c[e]=undefined}},{"ev-store":35}],50:[function(a,b,c){function d(a){if(this instanceof d)this.value=a;else return new d(a)}"use strict",b.exports=d,d.prototype.hook=function(a,b){a[b]!==this.value&&(a[b]=this.value)}},{}],51:[function(a,b,c){function o(a,b,c){var d=[],f,g,h,i;return!c&&s(b)&&(c=b,g={}),g=g||b||{},f=l(a,g),g.hasOwnProperty("key")&&(h=g.key,g.key=undefined),g.hasOwnProperty("namespace")&&(i=g.namespace,g.namespace=undefined),f==="INPUT"&&!i&&g.hasOwnProperty("value")&&g.value!==undefined&&!j(g.value)&&(g.value=m(g.value)),q(g),c!==undefined&&c!==null&&p(c,d,f,g),new e(f,g,d,h,i)}function p(a,b,c,e){if(typeof a=="string")b.push(new f(a));else if(r(a))b.push(a);else{if(!d(a)){if(a===null||a===undefined)return;throw t({foreignObject:a,parentVnode:{tagName:c,properties:e}})}for(var g=0;g<a.length;g++)p(a[g],b,c,e)}}function q(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];if(j(c))continue;b.substr(0,3)==="ev-"&&(a[b]=n(c))}}function r(a){return g(a)||h(a)||i(a)||k(a)}function s(a){return typeof a=="string"||d(a)||r(a)}function t(a){var b=new Error;return b.type="virtual-hyperscript.unexpected.virtual-element",b.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+u(a.foreignObject)+".\n"+"The parent vnode is:\n"+u(a.parentVnode),"\nSuggested fix: change your `h(..., [ ... ])` callsite.",b.foreignObject=a.foreignObject,b.parentVnode=a.parentVnode,b}function u(a){try{return JSON.stringify(a,null,"    ")}catch(b){return String(a)}}"use strict";var d=a("x-is-array"),e=a("../vnode/vnode.js"),f=a("../vnode/vtext.js"),g=a("../vnode/is-vnode"),h=a("../vnode/is-vtext"),i=a("../vnode/is-widget"),j=a("../vnode/is-vhook"),k=a("../vnode/is-thunk"),l=a("./parse-tag.js"),m=a("./hooks/soft-set-hook.js"),n=a("./hooks/ev-hook.js");b.exports=o},{"../vnode/is-thunk":56,"../vnode/is-vhook":57,"../vnode/is-vnode":58,"../vnode/is-vtext":59,"../vnode/is-widget":60,"../vnode/vnode.js":62,"../vnode/vtext.js":64,"./hooks/ev-hook.js":49,"./hooks/soft-set-hook.js":50,"./parse-tag.js":52,"x-is-array":40}],52:[function(a,b,c){function g(a,b){if(!a)return"DIV";var c=!b.hasOwnProperty("id"),g=d(a,e),h=null;f.test(g[1])&&(h="DIV");var i,j,k,l;for(l=0;l<g.length;l++){j=g[l];if(!j)continue;k=j.charAt(0),h?k==="."?(i=i||[],i.push(j.substring(1,j.length))):k==="#"&&c&&(b.id=j.substring(1,j.length)):h=j}return i&&(b.className&&i.push(b.className),b.className=i.join(" ")),b.namespace?h:h.toUpperCase()}"use strict";var d=a("browser-split"),e=/([\.#]?[a-zA-Z0-9_:-]+)/,f=/^\.|#/;b.exports=g},{"browser-split":34}],53:[function(a,b,c){function i(a){if(h.hasOwnProperty(a))return h[a]}"use strict";var d=null,e="http://www.w3.org/2001/xml-events",f="http://www.w3.org/1999/xlink",g="http://www.w3.org/XML/1998/namespace",h={about:d,"accent-height":d,accumulate:d,additive:d,"alignment-baseline":d,alphabetic:d,amplitude:d,"arabic-form":d,ascent:d,attributeName:d,attributeType:d,azimuth:d,bandwidth:d,baseFrequency:d,baseProfile:d,"baseline-shift":d,bbox:d,begin:d,bias:d,by:d,calcMode:d,"cap-height":d,"class":d,clip:d,"clip-path":d,"clip-rule":d,clipPathUnits:d,color:d,"color-interpolation":d,"color-interpolation-filters":d,"color-profile":d,"color-rendering":d,content:d,contentScriptType:d,contentStyleType:d,cursor:d,cx:d,cy:d,d:d,datatype:d,defaultAction:d,descent:d,diffuseConstant:d,direction:d,display:d,divisor:d,"dominant-baseline":d,dur:d,dx:d,dy:d,edgeMode:d,editable:d,elevation:d,"enable-background":d,end:d,"ev:event":e,event:d,exponent:d,externalResourcesRequired:d,fill:d,"fill-opacity":d,"fill-rule":d,filter:d,filterRes:d,filterUnits:d,"flood-color":d,"flood-opacity":d,focusHighlight:d,focusable:d,"font-family":d,"font-size":d,"font-size-adjust":d,"font-stretch":d,"font-style":d,"font-variant":d,"font-weight":d,format:d,from:d,fx:d,fy:d,g1:d,g2:d,"glyph-name":d,"glyph-orientation-horizontal":d,"glyph-orientation-vertical":d,glyphRef:d,gradientTransform:d,gradientUnits:d,handler:d,hanging:d,height:d,"horiz-adv-x":d,"horiz-origin-x":d,"horiz-origin-y":d,id:d,ideographic:d,"image-rendering":d,"in":d,in2:d,initialVisibility:d,intercept:d,k:d,k1:d,k2:d,k3:d,k4:d,kernelMatrix:d,kernelUnitLength:d,kerning:d,keyPoints:d,keySplines:d,keyTimes:d,lang:d,lengthAdjust:d,"letter-spacing":d,"lighting-color":d,limitingConeAngle:d,local:d,"marker-end":d,"marker-mid":d,"marker-start":d,markerHeight:d,markerUnits:d,markerWidth:d,mask:d,maskContentUnits:d,maskUnits:d,mathematical:d,max:d,media:d,mediaCharacterEncoding:d,mediaContentEncodings:d,mediaSize:d,mediaTime:d,method:d,min:d,mode:d,name:d,"nav-down":d,"nav-down-left":d,"nav-down-right":d,"nav-left":d,"nav-next":d,"nav-prev":d,"nav-right":d,"nav-up":d,"nav-up-left":d,"nav-up-right":d,numOctaves:d,observer:d,offset:d,opacity:d,operator:d,order:d,orient:d,orientation:d,origin:d,overflow:d,overlay:d,"overline-position":d,"overline-thickness":d,"panose-1":d,path:d,pathLength:d,patternContentUnits:d,patternTransform:d,patternUnits:d,phase:d,playbackOrder:d,"pointer-events":d,points:d,pointsAtX:d,pointsAtY:d,pointsAtZ:d,preserveAlpha:d,preserveAspectRatio:d,primitiveUnits:d,propagate:d,property:d,r:d,radius:d,refX:d,refY:d,rel:d,"rendering-intent":d,repeatCount:d,repeatDur:d,requiredExtensions:d,requiredFeatures:d,requiredFonts:d,requiredFormats:d,resource:d,restart:d,result:d,rev:d,role:d,rotate:d,rx:d,ry:d,scale:d,seed:d,"shape-rendering":d,slope:d,snapshotTime:d,spacing:d,specularConstant:d,specularExponent:d,spreadMethod:d,startOffset:d,stdDeviation:d,stemh:d,stemv:d,stitchTiles:d,"stop-color":d,"stop-opacity":d,"strikethrough-position":d,"strikethrough-thickness":d,string:d,stroke:d,"stroke-dasharray":d,"stroke-dashoffset":d,"stroke-linecap":d,"stroke-linejoin":d,"stroke-miterlimit":d,"stroke-opacity":d,"stroke-width":d,surfaceScale:d,syncBehavior:d,syncBehaviorDefault:d,syncMaster:d,syncTolerance:d,syncToleranceDefault:d,systemLanguage:d,tableValues:d,target:d,targetX:d,targetY:d,"text-anchor":d,"text-decoration":d,"text-rendering":d,textLength:d,timelineBegin:d,title:d,to:d,transform:d,transformBehavior:d,type:d,"typeof":d,u1:d,u2:d,"underline-position":d,"underline-thickness":d,unicode:d,"unicode-bidi":d,"unicode-range":d,"units-per-em":d,"v-alphabetic":d,"v-hanging":d,"v-ideographic":d,"v-mathematical":d,values:d,version:d,"vert-adv-y":d,"vert-origin-x":d,"vert-origin-y":d,viewBox:d,viewTarget:d,visibility:d,width:d,widths:d,"word-spacing":d,"writing-mode":d,x:d,"x-height":d,x1:d,x2:d,xChannelSelector:d,"xlink:actuate":f,"xlink:arcrole":f,"xlink:href":f,"xlink:role":f,"xlink:show":f,"xlink:title":f,"xlink:type":f,"xml:base":g,"xml:id":g,"xml:lang":g,"xml:space":g,y:d,y1:d,y2:d,yChannelSelector:d,z:d,zoomAndPan:d};b.exports=i},{}],54:[function(a,b,c){function i(a,b,c){!c&&j(b)&&(c=b,b={}),b=b||{},b.namespace=h;var d=b.attributes||(b.attributes={});for(var i in b){if(!b.hasOwnProperty(i))continue;var k=f(i);if(k===undefined)continue;var l=b[i];if(typeof l!="string"&&typeof l!="number"&&typeof l!="boolean")continue;if(k!==null){b[i]=g(k,l);continue}d[i]=l,b[i]=undefined}return e(a,b,c)}function j(a){return typeof a=="string"||d(a)}"use strict";var d=a("x-is-array"),e=a("./index.js"),f=a("./svg-attribute-namespace"),g=a("./hooks/attribute-hook"),h="http://www.w3.org/2000/svg";b.exports=i},{"./hooks/attribute-hook":48,"./index.js":51,"./svg-attribute-namespace":53,"x-is-array":40}],55:[function(a,b,c){function h(a,b){var c=a,d=b;return g(b)&&(d=i(b,a)),g(a)&&(c=i(a,null)),{a:c,b:d}}function i(a,b){var c=a.vnode;c||(c=a.vnode=a.render(b));if(!(d(c)||e(c)||f(c)))throw new Error("thunk did not return a valid node");return c}var d=a("./is-vnode"),e=a("./is-vtext"),f=a("./is-widget"),g=a("./is-thunk");b.exports=h},{"./is-thunk":56,"./is-vnode":58,"./is-vtext":59,"./is-widget":60}],56:[function(a,b,c){function d(a){return a&&a.type==="Thunk"}b.exports=d},{}],57:[function(a,b,c){function d(a){return a&&(typeof a.hook=="function"&&!a.hasOwnProperty("hook")||typeof a.unhook=="function"&&!a.hasOwnProperty("unhook"))}b.exports=d},{}],58:[function(a,b,c){function e(a){return a&&a.type==="VirtualNode"&&a.version===d}var d=a("./version");b.exports=e},{"./version":61}],59:[function(a,b,c){function e(a){return a&&a.type==="VirtualText"&&a.version===d}var d=a("./version");b.exports=e},{"./version":61}],60:[function(a,b,c){function d(a){return a&&a.type==="Widget"}b.exports=d},{}],61:[function(a,b,c){b.exports="1"},{}],62:[function(a,b,c){function k(a,b,c,d,k){this.tagName=a,this.properties=b||i,this.children=c||j,this.key=d!=null?String(d):undefined,this.namespace=typeof k=="string"?k:null;var l=c&&c.length||0,m=0,n=!1,o=!1,p=!1,q;for(var r in b)if(b.hasOwnProperty(r)){var s=b[r];h(s)&&s.unhook&&(q||(q={}),q[r]=s)}for(var t=0;t<l;t++){var u=c[t];e(u)?(m+=u.count||0,!n&&u.hasWidgets&&(n=!0),!o&&u.hasThunks&&(o=!0),!p&&(u.hooks||u.descendantHooks)&&(p=!0)):!n&&f(u)?typeof u.destroy=="function"&&(n=!0):!o&&g(u)&&(o=!0)}this.count=l+m,this.hasWidgets=n,this.hasThunks=o,this.hooks=q,this.descendantHooks=p}var d=a("./version"),e=a("./is-vnode"),f=a("./is-widget"),g=a("./is-thunk"),h=a("./is-vhook");b.exports=k;var i={},j=[];k.prototype.version=d,k.prototype.type="VirtualNode"},{"./is-thunk":56,"./is-vhook":57,"./is-vnode":58,"./is-widget":60,"./version":61}],63:[function(a,b,c){function e(a,b,c){this.type=Number(a),this.vNode=b,this.patch=c}var d=a("./version");e.NONE=0,e.VTEXT=1,e.VNODE=2,e.WIDGET=3,e.PROPS=4,e.ORDER=5,e.INSERT=6,e.REMOVE=7,e.THUNK=8,b.exports=e,e.prototype.version=d,e.prototype.type="VirtualPatch"},{"./version":61}],64:[function(a,b,c){function e(a){this.text=String(a)}var d=a("./version");b.exports=e,e.prototype.version=d,e.prototype.type="VirtualText"},{"./version":61}],65:[function(a,b,c){function f(a,b){var c;for(var h in a){h in b||(c=c||{},c[h]=undefined);var i=a[h],j=b[h];if(i===j)continue;if(d(i)&&d(j))if(g(j)!==g(i))c=c||{},c[h]=j;else if(e(j))c=c||{},c[h]=j;else{var k=f(i,j);k&&(c=c||{},c[h]=k)}else c=c||{},c[h]=j}for(var l in b)l in a||(c=c||{},c[l]=b[l]);return c}function g(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);if(a.__proto__)return a.__proto__;if(a.constructor)return a.constructor.prototype}var d=a("is-object"),e=a("../vnode/is-vhook");b.exports=f},{"../vnode/is-vhook":57,"is-object":39}],66:[function(a,b,c){function l(a,b){var c={a:a};return m(a,b,c,0),c}function m(a,b,c,d){if(a===b)return;var j=c[d],l=!1;if(i(a)||i(b))q(a,b,c,d);else if(b==null)h(a)||(o(a,c,d),j=c[d]),j=w(j,new e(e.REMOVE,a,b));else if(f(b))if(f(a))if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var m=k(a.properties,b.properties);m&&(j=w(j,new e(e.PROPS,a,m))),j=n(a,b,c,j,d)}else j=w(j,new e(e.VNODE,a,b)),l=!0;else j=w(j,new e(e.VNODE,a,b)),l=!0;else g(b)?g(a)?a.text!==b.text&&(j=w(j,new e(e.VTEXT,a,b))):(j=w(j,new e(e.VTEXT,a,b)),l=!0):h(b)&&(h(a)||(l=!0),j=w(j,new e(e.WIDGET,a,b)));j&&(c[d]=j),l&&o(a,c,d)}function n(a,b,c,d,g){var h=a.children,i=u(h,b.children),j=h.length,k=i.length,l=j>k?j:k;for(var n=0;n<l;n++){var o=h[n],p=i[n];g+=1,o?m(o,p,c,g):p&&(d=w(d,new e(e.INSERT,null,p))),f(o)&&o.count&&(g+=o.count)}return i.moves&&(d=w(d,new e(e.ORDER,a,i.moves))),d}function o(a,b,c){s(a,b,c),p(a,b,c)}function p(a,b,c){if(h(a))typeof a.destroy=="function"&&(b[c]=w(b[c],new e(e.REMOVE,a,null)));else if(f(a)&&(a.hasWidgets||a.hasThunks)){var d=a.children,g=d.length;for(var j=0;j<g;j++){var k=d[j];c+=1,p(k,b,c),f(k)&&k.count&&(c+=k.count)}}else i(a)&&q(a,null,b,c)}function q(a,b,c,d){var f=j(a,b),g=l(f.a,f.b);r(g)&&(c[d]=new e(e.THUNK,null,g))}function r(a){for(var b in a)if(b!=="a")return!0;return!1}function s(a,b,c){if(f(a)){a.hooks&&(b[c]=w(b[c],new e(e.PROPS,a,t(a.hooks))));if(a.descendantHooks||a.hasThunks){var d=a.children,g=d.length;for(var h=0;h<g;h++){var j=d[h];c+=1,s(j,b,c),f(j)&&j.count&&(c+=j.count)}}}else i(a)&&q(a,null,b,c)}function t(a){var b={};for(var c in a)b[c]=undefined;return b}function u(a,b){var c=v(b);if(!c)return b;var d=v(a);if(!d)return b;var e={},f={};for(var g in c)e[c[g]]=d[g];for(var h in d)f[d[h]]=c[h];var i=a.length,j=b.length,k=i>j?i:j,l=[],m=0,n=0,o=0,p={},q=p.removes={},r=p.reverse={},s=!1;while(m<k){var t=f[n];if(t!==undefined)l[n]=b[t],t!==o&&(p[t]=o,r[o]=t,s=!0),o++;else if(n in f)l[n]=undefined,q[n]=o++,s=!0;else{while(e[m]!==undefined)m++;if(m<k){var u=b[m];u&&(l[n]=u,m!==o&&(s=!0,p[m]=o,r[o]=m),o++),m++}}n++}return s&&(l.moves=p),l}function v(a){var b,c;for(b=0;b<a.length;b++){var d=a[b];d.key!==undefined&&(c=c||{},c[d.key]=b)}return c}function w(a,b){return a?(d(a)?a.push(b):a=[a,b],a):b}var d=a("x-is-array"),e=a("../vnode/vpatch"),f=a("../vnode/is-vnode"),g=a("../vnode/is-vtext"),h=a("../vnode/is-widget"),i=a("../vnode/is-thunk"),j=a("../vnode/handle-thunk"),k=a("./diff-props");b.exports=l},{"../vnode/handle-thunk":55,"../vnode/is-thunk":56,"../vnode/is-vnode":58,"../vnode/is-vtext":59,"../vnode/is-widget":60,"../vnode/vpatch":63,"./diff-props":65,"x-is-array":40}],67:[function(a,b,c){},{}],68:[function(a,b,c){function g(){if(f)return;f=!0;var a,b=e.length;while(b){a=e,e=[];var c=-1;while(++c<b)a[c]();b=e.length}f=!1}function h(){}var d=b.exports={},e=[],f=!1;d.nextTick=function(a){e.push(a),f||setTimeout(g,0)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.on=h,d.addListener=h,d.once=h,d.off=h,d.removeListener=h,d.removeAllListeners=h,d.emit=h,d.binding=function(a){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(a){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}]},{},[1])(1)}),window.Timeline={},function(a,b,c){return b.BaseModel=function(){function a(a){var b,c,d;a==null&&(a={}),d=this.constructor.defaultParams;for(c in d)b=d[c],this[c]=a[c]!=null?a[c]:b;this.uuid=a.uuid!=null?a.uuid:this.constructor.uuid()}return a.defaultParams={},a.withDefaults=function(){var a;return a=function(b){return _.isArray(b)?_.map(b,a):_.isObject(b)&&b.constructor===Object?_.reduce(b,function(b,c,d){return b[d]=a(c),b},{}):b},new this(a(this.defaultParams))},a.uuid=function(){var a;return a=0,function(){return a++}}(),a.prototype.update=function(a){var b;return b=function(a,c){var d,e;for(d in c)e=c[d],_.isObject(a[d])&&a[d].constructor===Object&&_.isObject(e)&&e.constructor===Object?b(a[d],e):_.isObject(a[d])&&e===void 0?delete a[d]:a[d]=e;return a},new this.constructor(b(b({},this),a))},a}()}(Wistia,Timeline,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c,d){return b.BaseView=function(a){function e(a){a==null&&(a={}),_.extend(this,this.constructor.defaultParams,a),this.uuid=a.uuid!=null?a.uuid:this.constructor.uuid()}return __extends(e,a),e.defaultParams={},e.prototype.template=d.h("div","`template` on "+e.constructor.name+" should be overridden"),e.prototype.$=function(){var a;return(a=this.$el).find.apply(a,arguments)},e.prototype.render=function(){var a,e,f;b.BaseView.__renderStackDepth+=1,b.BaseView.__renderStackDepth===1&&(b.BaseView.__activeElementBeforeRender=document.activeElement);try{return a=this.template(),this.$el!=null&&this.$el.length>0?(f=this.$el[0].__wistia_vdom_rendered_vtree,e=d.diff(f||this.$el[0],a),this.$el=c(d.patch(this.$el[0],e))):this.$el=c(d.create(a)),this.$el[0].__wistia_vdom_rendered_vtree=a}finally{b.BaseView.__renderStackDepth-=1}},e.__renderStackDepth=0,e.prototype.setElem=function(a){return this.$el!=null&&this.$el.empty(),this.$el=a,this},e.prototype.appendTo=function(a){return this.$el==null&&this.render(),a.append(this.$el),this},e.prototype.dispatch=function(a,c){return _.isString(a)&&(a=this[a]),new b.VdomEventHook(d.event(a,c))},e.prototype.dispatchWith=function(a){return new b.VdomEventHook(a)},e.prototype.vdomInit=function(){return this.render(),this.$el[0]},e.prototype.vdomUpdate=function(a,b){return this.vdomInit()},e.prototype.vdomDestroy=function(a){return this.$el=null},e.prototype.vdomWidget=function(){var a=this;return this._vdomWidget||(this._vdomWidget={type:"Widget",init:function(){return a.vdomInit.apply(a,arguments)},update:function(){return a.vdomUpdate.apply(a,arguments)},destroy:function(){return a.vdomDestroy.apply(a,arguments)}})},e}(b.BaseModel),b.VdomEventHook=function(){function a(a){this.cb=a}return a.prototype.hook=function(a,b){return d.EvStore(a)[b]=this.cb,d.globalDOMDelegator.listenTo(b)},a.prototype.unhook=function(a,b){return d.EvStore(a)[b]=void 0},a}(),b.VdomAutofocusHook=function(){function a(){}return a.prototype.hook=function(a,c){var e;return e=b.BaseView.__activeElementBeforeRender===a,d.nextTick(function(){if(e&&document.activeElement!==a)return a.focus()})},a}(),b.VdomFocusMoveCursorHook=function(){function a(a){this.cursorPos=a!=null?a:null}return a.prototype.hook=function(a,b){var c,e=this;if(this.cursorPos==null)return;return c=function(a,b){var c,d;try{if(a.selectionStart!=null)return a.focus(),a.setSelectionRange(b,b);if(a.createTextRange!=null)return d=a.createTextRange(),d.move("character",b),d.select()}catch(e){return c=e,console.log("Failure moving cursor to ",cursorPos," on ",a),console.log(c.message),console.log(c.stack)}},c(a,this.cursorPos),d.nextTick(function(){return c(a,e.cursorPos)})},a}()})(Wistia,Timeline,jQuery,vdom);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c){var d;return b.EventModel=function(a){function b(){return d=b.__super__.constructor.apply(this,arguments),d}return __extends(b,a),b.pluginName=null,b.hasOptions=!1,b.hasDuration=!1,b.uniquePerTimeline=!1,b.editFields=[],b.prototype.isValid=function(){return _.isEmpty(this.invalidParams())},b.prototype.invalidParams=function(){return[]},b.prototype.shortDisplayName=function(){return"Event"},b.defaultCustomizeOptions=function(){return{}},b.defaultEmbedOptions=function(){return{}},b.existingFromCustomizeOptions=function(a){return[]},b.newFromCustomizeOptions=function(a){return new this(this.paramsFromCustomizeOptions(a))},b.paramsFromCustomizeOptions=function(a){return _.reduce(this.editFields,function(b,c){return c.customizeOption!=null&&a[c.customizeOption]!=null&&(b[c.param]=a[c.customizeOption]),b},{})},b.prototype.customizeOptions=function(){var a,b,c,d,e;b={},e=this.constructor.editFields;for(c=0,d=e.length;c<d;c++)a=e[c],a.customizeOption!=null&&(b[a.customizeOption]=this[a.param]);return b},b.prototype.pluginOptions=function(){return null},b.prototype.embedOptions=function(){var a;return this.constructor.pluginName!=null?(a={plugin:{}},a.plugin[this.constructor.pluginName]=this.pluginOptions(),a):{}},b.prototype.pluginName=function(){return this.constructor.pluginName},b.prototype.isPluginEvent=function(){return this.pluginName()!==null},b.prototype.previewPluginOptions=function(){return this.pluginOptions()},b.prototype.addPlugin=function(a){var b;return b=this.pluginName(),b!=null&&!a.plugin[b]?(a.addPlugin(b,this.previewPluginOptions()),a.plugin[b]):null},b.prototype.removePlugin=function(a){var b;if(this.isPluginEvent())return(b=a.plugin[this.pluginName()])!=null?typeof b.remove=="function"?b.remove():void 0:void 0},b.prototype.rebuildPlugin=function(a){return this.removePlugin(a),this.addPlugin(a)},b.prototype.showEmbedPreview=function(a){if(this.isPluginEvent())return this.rebuildPlugin(a)},b.prototype.updateEmbedPreview=function(a,b,c){return this.showEmbedPreview(a)},b.prototype.dismissEmbedPreview=function(a){if(this.isPluginEvent())return this.removePlugin(a)},b.prototype.removeEmbedPreview=function(a){return this.dismissEmbedPreview(a)},b}(b.BaseModel),b.startField={name:"Start",param:"time",type:"time",required:"true",hideFromDetail:!0}})(Wistia,Timeline,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c){var d;return b.CallToActionEvent=function(c){function e(){return d=e.__super__.constructor.apply(this,arguments),d}return __extends(e,c),e.pluginName="postRoll-v1",e.hasOptions=!0,e.uniquePerTimeline=!0,e.defaultParams={time:"end",type:"text",text:"",textURL:"",image:"",imageURL:"",html:"",rewatch:!1,allowSkip:!0},e.editFields=[b.startField,{name:"Type",param:"type",type:"select",options:[{label:"Text",value:"text"},{label:"Image",value:"image"},{label:"HTML",value:"html"}],required:!0,customizeOption:"post_roll_type"},{name:"Text",param:"text",type:"textarea",placeholder:"Here's a link to click! →",showOnlyIf:function(){return this.type==="text"},customizeOption:"post_roll_text"},{name:"Link",param:"textURL",type:"text",placeholder:"http://wistia.com",customizeOption:"post_roll_text_url",showOnlyIf:function(){return this.type==="text"}},{name:"Image",param:"image",type:"image",customizeOption:"post_roll_image",showOnlyIf:function(){return this.type==="image"}},{name:"Link",param:"imageURL",type:"text",placeholder:"http://wistia.com",customizeOption:"post_roll_image_url",showOnlyIf:function(){return this.type==="image"}},{name:"HTML",param:"html",type:"textarea",customizeOption:"post_roll_html",showOnlyIf:function(){return this.type==="html"}},{name:"",param:"rewatch",type:"checkbox",optionLabel:"Show Rewatch Button",showOnlyIf:function(){return this.time==="end"}},{name:"",param:"allowSkip",type:"checkbox",optionLabel:"Show Skip Button",disabled:function(){return!0},showOnlyIf:function(){return this.time!=="end"}}],e.prototype.shortDisplayName=function(){return"Call To Action: "+(this.text||"")},e.prototype.customizeOptions=function(){var a;return a=e.__super__.customizeOptions.call(this),a.post_roll_on=!0,a.post_roll_time=this.time,a["post_roll_"+this.type+"_rewatch"]=this.rewatch,this.conversionOpportunityId!=null&&(a.post_roll_conversion_opportunity_id=this.conversionOpportunityId),a},e.paramsFromCustomizeOptions=function(a){var b;return b=e.__super__.constructor.paramsFromCustomizeOptions.apply(this,arguments),b.time=a.post_roll_time,b.rewatch=a["post_roll_"+b.type+"_rewatch"],b.conversionOpportunityId=String(a.post_roll_conversion_opportunity_id),b},e.existingFromCustomizeOptions=function(a){return a.post_roll_on===!0?[this.newFromCustomizeOptions(a)]:[]},e.prototype.pluginOptions=function(){var a;a={rewatch:this.time==="end"?this.rewatch:void 0,autoSize:!0,style:{backgroundColor:"#303030"}};switch(this.time){case"start":a.time="before";break;case"end":a.time="end";break;default:a.time=this.time}switch(this.type){case"text":a.text=this.text||"Here's a link to click! →",a.link=this.textURL||"http://wistia.com";break;case"image":a.image=this.image!=null?this.image:void 0,a.link=this.imageURL||"http://wistia.com",delete a.autoSize;break;case"html":a.raw=this.html}return a},e.prototype.showEmbedPreview=function(a){var b,c;e.__super__.showEmbedPreview.apply(this,arguments),c=a.plugin[this.pluginName()];try{return c!=null?c.show():void 0}catch(d){return b=d,console.log("invalid CTA or something!",this),console.log(b.message),console.log(b.stack)}},e.prototype.updateEmbedPreview=function(b,c,d){var e,f,g,h,i,j,k,l;f=b.plugin[this.pluginName()],h=""+b.uuid+"/cta_preview";if(f==null)return a.clearTimeouts(h),this.showEmbedPreview(b);if(d.time!=null){switch(this.time){case"start":j=["before",0],g=j[0],i=j[1];break;case"end":k=["end",b.duration()],g=k[0],i=k[1];break;default:l=[this.time,this.time],g=l[0],i=l[1]}return f.params.time=g,f.params.showOnce=!1,f.params.rewatch=this.type==="text"&&this.time==="end"&&this.rewatch,f.params.allowSkip=this.time!=="end",b.time(i),b.state()==="playing"&&b.pause(),a.clearTimeouts(h),a.timeout(h,function(){var b;a.clearTimeouts(h);try{return f.show()}catch(c){return b=c,console.log("invalid CTA or something!",this),console.log(b.message),console.log(b.stack)}},150)}return d.text!=null&&this.type==="text"?f.updateText(this.text):d.textURL!=null&&this.type==="text"?f.updateUrl(this.textURL):d.image!=null?f.updateImage(this.image):d.imageURL!=null&&this.type==="image"?f.updateUrl(this.imageURL):d.html!=null&&this.type==="html"?f.updateRaw(this.html):d.rewatch!=null?(e=this.rewatch?"showRewatch":"hideRewatch",f[e]()):(a.clearTimeouts(h),this.showEmbedPreview(b))},e}(b.EventModel)})(Wistia,Timeline,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c){var d;return b.CameraLookEvent=function(a){function b(){return d=b.__super__.constructor.apply(this,arguments),d}return __extends(b,a),b.pluginName="cameraLook-v1",b.defaultParams={time:"start",heading:0,pitch:0},b.editFields=[{name:"Start",param:"time",type:"time",required:"true",hideFromDetail:!0,customizeOption:"time"},{name:"Heading",param:"heading",placeholder:"0",required:!0,customizeOption:"heading"},{name:"Pitch",param:"pitch",placeholder:"0",required:!0,customizeOption:"pitch"}],b.prototype.shortDisplayName=function(){return"Camera Look"},b.prototype.pluginOptions=function(){return[{time:this.time,pitch:this.pitch,heading:this.heading}]},b.prototype.showEmbedPreview=function(a){var c;return b.__super__.showEmbedPreview.apply(this,arguments),c=a.plugin[this.pluginName()],this.seekVideoToTime(a),this.rebuildLooks(a)},b.prototype.removeEmbedPreview=function(a){return this.rebuildLooks(a)},b.prototype.updateEmbedPreview=function(a,b,c){var d;return d=a.plugin[this.pluginName()],d==null?this.showEmbedPreview(a):(c.time!=null&&this.seekVideoToTime(a),c.pitch!=null&&a.cameraLookAt(null,c.pitch),c.heading!=null&&a.cameraLookAt(c.heading,null),this.rebuildLooks(a))},b.prototype.seekVideoToTime=function(a){switch(this.time){case"start":a.time(0);break;case"end":a.time(a.duration());break;default:a.time(this.time)}return a.state()==="playing"&&a.pause(),a.suspend()},b.prototype.rebuildLooks=function(a){var b;if(!(b=a.plugin[this.pluginName()]))return;return b.rebuildLooks(window.timelineView.customizeOptions().camera_look)},b.prototype.customizeOptions=function(){var a;return a=b.__super__.customizeOptions.apply(this,arguments),a.time=this.time,{camera_look:[b.__super__.customizeOptions.apply(this,arguments)]}},b.existingFromCustomizeOptions=function(a){var b=this;return _.compact(_.map(a.camera_look||[],function(a){var c;try{return new b(a)}catch(d){return c=d,null}}))},b}(b.EventModel)})(Wistia,Timeline,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c){return b.LinkEvent=function(a){function c(a){c.__super__.constructor.apply(this,arguments),this.duration=Math.max(0,this.duration)}return __extends(c,a),c.pluginName="midrollLink-v1",c.hasOptions=!0,c.hasDuration=!0,c.defaultParams={time:0,duration:4,text:"",url:"http://wistia.com",conversion_opportunity_id:null},c.prototype.end=function(){return this.time+this.duration},c.editFields=[b.startField,{name:"Text",param:"text",placeholder:"Here's a link to click!",customizeOption:"text"},{name:"URL",param:"url",selectOnFocus:!0,customizeOption:"url"},{param:"duration",type:"time",required:!0,showInPositionColumn:!0,customizeOption:"duration",toDerivedValue:function(){return this.duration+this.time},fromDerivedValue:function(a){
return a-this.time}}],c.prototype.shortDisplayName=function(){return"Annotation: "+(this.text||"")},c.prototype.invalidParams=function(){return _.compact([this.time!=null&&this.time>=0?null:"start",this.duration!=null&&this.duration>0?null:"duration",this.text!=null&&this.text.length>0?null:"text"])},c.prototype.customizeOptions=function(){var a;return a=c.__super__.customizeOptions.call(this),a.time=this.time,this.conversion_opportunity_id!=null&&(a.conversion_opportunity_id=this.conversion_opportunity_id),{midroll_links:[a]}},c.existingFromCustomizeOptions=function(a){var b=this;return _.compact(_.map(a.midroll_links||[],function(a){var c;try{return new b(a)}catch(d){return c=d,console.log("Could not create LinkEvent with options:",a),null}}))},c.prototype.simpleLinkSpec=function(){return{time:this.time,duration:this.duration,text:this.text||"Here's a link to click!",url:this.url}},c.prototype.previewLinkSpec=function(){var a;return a=this.simpleLinkSpec(),a.userData=this.uuid,a.time=Math.max(0,a.time-.01),a.duration=a.duration+.02,a},c.prototype.savableLinkSpec=function(){return this.simpleLinkSpec()},c.prototype.previewPluginOptions=function(){return{links:[this.previewLinkSpec()]}},c.prototype.pluginOptions=function(){return{links:[this.savableLinkSpec()]}},c.prototype.embedOptions=function(){var a;return a=c.__super__.embedOptions.apply(this,arguments),a.branding=!1,a},c.prototype.showEmbedPreview=function(a){var b,c,d,e=this;return((c=a.options)!=null?c.branding:void 0)&&(d=window.customizePanel)!=null&&d.rebuild(),b=a.plugin[this.pluginName()]||this.rebuildPlugin(a),a.plugin(this.pluginName(),function(){return e.replaceOrAddPluginLink(a),e.seekToPreviewTime(a,e.time),a._implExec("previewControls")})},c.prototype.updateEmbedPreview=function(a,b,c){var d,e,f;return d=a.plugin[this.pluginName()],d==null?this.showEmbedPreview(a):(c.time!=null?(f=this.time,e=this.time<b.time):c.duration!=null&&(f=this.time+this.duration,e=this.duration>b.duration),f!=null?e?(this.replaceOrAddPluginLink(a),this.seekToPreviewTime(a,f)):(this.seekToPreviewTime(a,f),this.replaceOrAddPluginLink(a)):this.replaceOrAddPluginLink(a))},c.prototype.dismissEmbedPreview=function(a){},c.prototype.removeEmbedPreview=function(a){var b,c=this;if(!(b=a.plugin[this.pluginName()]))return;return b.removeLinkWhere(function(a){return a.userData===c.uuid})},c.prototype.replaceOrAddPluginLink=function(a){var b,c,d=this;if(!(c=a.plugin[this.pluginName()]))return;return b=this.previewLinkSpec(),this.conversion_opportunity_id!=null&&c.removeLinkWhere(function(a){return a.userData==null&&(new RegExp("_"+d.conversion_opportunity_id+"$")).test(a.conversionOpportunityKey)}),c.replaceLinkWhere(function(a){return a.userData===d.uuid},b)||c.addLink(b),a._implExec("previewControls")},c.prototype.seekToPreviewTime=function(a,b){var c;c=Math.max(.01,b),a.time(c);if(a.state==="playing")return a.pause},c}(b.EventModel)})(Wistia,Timeline,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c){var d,e;return b.TurnstileEvent=function(a){function c(){return e=c.__super__.constructor.apply(this,arguments),e}return __extends(c,a),c.pluginName="requireEmail-v1",c.hasOptions=!0,c.uniquePerTimeline=!0,c.defaultParams={time:"start",allowSkip:!1,askName:!1,upperText:"Enter your email address to view this video.",lowerText:"",conversionOpportunityId:null,provider:null,list:null},c.editFields=[b.startField,{name:"Names",param:"askName",type:"checkbox",optionLabel:"Ask for first and last name",customizeOption:"require_email_ask_name"},{name:"Skip",param:"allowSkip",type:"checkbox",optionLabel:"Allow viewers to skip",customizeOption:"require_email_allow_skip"},{name:"Upper Text",param:"upperText",type:"textarea",maxlength:100,customizeOption:"require_email_upper_text"},{name:"Lower Text",param:"lowerText",type:"textarea",maxlength:200,customizeOption:"require_email_lower_text"},{name:"List",param:"list",type:"email_provider_list"}],c.prototype.shortDisplayName=function(){return"Turnstile"},c.defaultCustomizeOptions=function(){return{require_email_on:!1}},c.paramsFromCustomizeOptions=function(a){var b;b=c.__super__.constructor.paramsFromCustomizeOptions.apply(this,arguments);switch(a.require_email_time_type){case"before":b.time="start";break;case"end":b.time="end";break;default:b.time=a.require_email_time}return a.require_email_provider&&(b.provider=a.require_email_provider),a.require_email_list&&(b.list=String(a.require_email_list)),b.conversionOpportunityId=String(a.require_email_conversion_opportunity_id),b},c.existingFromCustomizeOptions=function(a){return a.require_email_on===!0?[this.newFromCustomizeOptions(a)]:[]},c.prototype.customizeOptions=function(){var a;a=c.__super__.customizeOptions.call(this),a.require_email_on=!0,this.conversionOpportunityId!=null&&(a.require_email_conversion_opportunity_id=this.conversionOpportunityId),this.provider!=null&&(a.require_email_provider=this.provider),this.list!=null&&(a.require_email_list=this.list);switch(this.time){case"start":a.require_email_time_type="before";break;case"end":a.require_email_time_type="end";break;default:a.require_email_time_type="time",a.require_email_time=this.time}return a},c.prototype.pluginOptions=function(){var a;a={allowSkip:this.allowSkip,askName:this.askName,topText:this.upperText,bottomText:this.lowerText},this.provider!=null&&(a.provider=this.provider),this.list!=null&&(a.list=this.list);switch(this.time){case"start":a.time="before";break;case"end":a.time="end";break;default:a.time=""+this.time}return a},c.prototype.showEmbedPreview=function(a){var b;c.__super__.showEmbedPreview.apply(this,arguments),b=a.plugin[this.pluginName()],_.isNumber(this.time)&&(a.time(this.time),a.state()==="playing"&&a.pause());if(b!=null)return b.open()},c.prototype.updateEmbedPreview=function(a,b,c){var e,f,g,h,i,j;e=a.plugin[this.pluginName()];if(e==null)return this.showEmbedPreview(a);if(c.time!=null)if(d(b.time==="end",this.time==="end"))e=this.rebuildPlugin(a);else{switch(this.time){case"start":h=["before",0],f=h[0],g=h[1];break;case"end":i=["end",a.duration()],f=i[0],g=i[1];break;default:j=[this.time,this.time],f=j[0],g=j[1]}e.params.time=f,a.time(g),a.state()==="playing"&&a.pause(),a.suspend()}else c.allowSkip!=null?e[this.allowSkip?"showSkip":"hideSkip"]():c.upperText!=null?e.updateTopText(this.upperText):c.lowerText!=null?e.updateBottomText(this.lowerText):e=this.rebuildPlugin(a);if(!e.isOpen())return e.open()},c}(b.EventModel),d=function(a,b){return(!!a^!!b)===1}})(Wistia,Timeline,jQuery);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c,d){var e,f;return b.TimeFieldView=function(a){function c(a){this.onInputEditing=__bind(this.onInputEditing,this),this.state=new this.constructor.State(a),c.__super__.constructor.apply(this,arguments)}return __extends(c,a),c.State=b.TimeFieldViewState=function(a){function c(a){a==null&&(a={}),a.currentTime!=null&&(a.currentTimeInDeciseconds=a.currentTime*10),this.resolutions=a.resolutions||b.TimeFieldView.Resolutions._defaultWithDeciseconds,c.__super__.constructor.apply(this,arguments),this.currentTimeInDeciseconds=Math.max(0,Math.min(this.currentTimeInDeciseconds,this.maxSeconds*10)),this.resolutionsToShow=this._resolutionsToShow()}return __extends(c,a),c.defaultParams={maxSeconds:30,currentTimeInDeciseconds:10,currentFocus:null},c.prototype.maxDeciseconds=function(){return this.maxSeconds*10},c.prototype.currentTimeInSeconds=function(){return this.currentTimeInDeciseconds/10},c.prototype._resolutionsToShow=function(){var a,b,c,d;return d=this.currentTimeInDeciseconds,b=this.maxDeciseconds(),c=b,a=[],_.compact(_.map(this.resolutions,function(a,e){var f,g,h,i,j;return j=Math.floor(d/a.deciseconds),f=a.deciseconds<=b,i=f||a.showIfNotEditable,i?(g=Math.floor(c/a.deciseconds),c!==b&&(g-=1),h=(j/10>=1||e===0||g/10<1?"":"0")+j,d-=j*a.deciseconds,c=a.deciseconds,{name:a.name,deciseconds:a.deciseconds,separator:a.separator,canEdit:f,value:j,maxValue:g,paddedStringValue:h,unrepresentedCurrentTime:d,nextLargerResMaxDeciseconds:c}):null}))},c.prototype.updateForKeypress=function(a,b,c,d){var e,g,h,i,j,k,l,m,n,o,p,q,r,s;p=this.resolutionsToShow[b];if(a.code===38||a.code===40)return q=a.shift?10:1,a.code===40&&(q*=-1),this.update({currentTimeInDeciseconds:this.currentTimeInDeciseconds+q*p.deciseconds,currentFocus:{resIndex:b,cursorPos:d}});if(48<=(r=a.code)&&r<=57)return n=a.code-48,o=""+n,j=f(c,d,o),i=parseInt(j),typeof i!="number"||i!==i?null:(l=i*p.deciseconds,m=this.currentTimeInDeciseconds-p.value*p.deciseconds+l,(e=this.cursorMoveForwardFrom(b,d))?(k=e[0],h=e[1]):(s=[b,d],k=s[0],h=s[1]),this.update({currentTimeInDeciseconds:m,currentFocus:{cursorPos:h,resIndex:k}}));if(a.code===8){if(e=this.cursorMoveBackwardFrom(b,d)){k=e[0],h=e[1],p=this.resolutionsToShow[k],c=p.paddedStringValue,j=f(c,h,"0"),i=parseInt(j);if(typeof i=="number"&&i===i)return l=i*p.deciseconds,m=this.currentTimeInDeciseconds-p.value*p.deciseconds+l,g=this.update({currentTimeInDeciseconds:m,currentFocus:{cursorPos:h,resIndex:k}}),g}}else if(a.code===37){if(e=this.cursorMoveBackwardFrom(b,d))return k=e[0],h=e[1],this.update({currentFocus:{resIndex:k,cursorPos:h}})}else if(a.code===39)if(e=this.cursorMoveForwardFrom(b,d))return k=e[0],h=e[1],this.update({currentFocus:{resIndex:k,cursorPos:h}});return null},c.prototype.cursorMoveForwardFrom=function(a,b){var c,d,e,f,g,h,i,j;i=[a,b+1],g=i[0],f=i[1],h=this.resolutionsToShow[g],c=f>=h.paddedStringValue.length,e=a<this.resolutionsToShow.length-1;if(c){if(e)return j=[a+1,0],g=j[0],f=j[1],[g,f];d=f>h.paddedStringValue.length;if(d)return null}return[g,f]},c.prototype.cursorMoveBackwardFrom=function(a,b){var c,d,e,f,g;return g=[a,b-1],f=g[0],e=g[1],c=e<0,d=a>0,c?d?(f=a-1,e=this.resolutionsToShow[f].paddedStringValue.length-1,[f,e]):null:[f,e]},c}(b.BaseModel),c.prototype.updateState=function(a){return this.state=this.state.update(a)},c.prototype.setCurrentTimeInSeconds=function(a){return _.isNumber(a)&&(this.state=this.state.update({currentTimeInDeciseconds:a*10})),this.state.currentTimeInSeconds()},c.prototype.deriveTimeInDecisecondsFromInputs=function(){var a,b,c,d,e,f,g;c=0,g=this.state.resolutionsToShow;for(e=0,f=g.length;e<f;e++)d=g[e],a=this.$("input.res-"+d.name),b=parseInt(a.val()),_.isNaN(b)?c+=d.value*d.deciseconds:c+=b*d.deciseconds;return c},c.prototype.onInputEditing=function(){var a;return a=this.state.currentTimeInDeciseconds,this.state=this.state.update({currentTimeInDeciseconds:Math.min(this.deriveTimeInDecisecondsFromInputs(),this.state.maxDeciseconds())}),this.state.currentTimeInDeciseconds!==a&&typeof this.onUpdate=="function"&&this.onUpdate(this.state.currentTimeInSeconds()),this.render()},c.prototype.template=function(){var a,c=this;return a=d.h,a(".timefield",[a(".hovertarget",_.flatten(_.map(this.state.resolutionsToShow,function(d,f){var g,i,j,k,l;return i=d.separator?d.separator:":",g=d.maxValue/10>=1?"double":"single",[f!==0?a("span.sep",[i]):null,a("input.numeric.res-"+d.name+"."+g+"-digit",{type:"text",disabled:d.canEdit===!1,value:d.paddedStringValue,min:"0",max:d.maxValue,focus:c.dispatchWith(function(a){var b;if(((b=c.state.currentFocus)!=null?b.resIndex:void 0)!==f)return c.updateState({currentFocus:{resIndex:f,cursorPos:null}})}),keydown:c.dispatchWith(function(a){var b,d,g,h,i;d=a.currentTarget.value,g={code:a.which,ctrl:a.ctrlKey,shift:a.shiftKey,alt:a.altKey},b=e(a.currentTarget),h=c.state.updateForKeypress(g,f,d,b);if(h!=null)return i=c.state,c.state=h,i.currentTimeInDeciseconds!==c.state.currentTimeInDeciseconds&&typeof c.onUpdate=="function"&&c.onUpdate(c.state.currentTimeInSeconds()),c.render(),a.preventDefault()}),input:c.dispatchWith(function(a){return c.updateState({currentFocus:{resIndex:f,cursorPos:e(a.currentTarget)}}),c.onInputEditing()}),blur:((j=c.state.currentFocus)!=null?j.resIndex:void 0)===f?c.dispatch(function(){return c.updateState({currentFocus:null}),c.render()}):void 0,autofocus:((k=c.state.currentFocus)!=null?k.resIndex:void 0)===f?new b.VdomAutofocusHook:void 0,cursor:((l=c.state.currentFocus)!=null?l.resIndex:void 0)===f?new b.VdomFocusMoveCursorHook(c.state.currentFocus.cursorPos):void 0})]})))])},c.Resolutions=function(){function a(){}return a._default=[{name:"hour",deciseconds:36e3,showIfNotEditable:!1},{name:"minute",deciseconds:600,showIfNotEditable:!0},{name:"second",deciseconds:10,showIfNotEditable:!0}],a._defaultWithDeciseconds=[{name:"hour",deciseconds:36e3,showIfNotEditable:!1},{name:"minute",deciseconds:600,showIfNotEditable:!0},{name:"second",deciseconds:10,showIfNotEditable:!0},{name:"decisecond",deciseconds:1,showIfNotEditable:!1,separator:"."}],a._defaultWithDays=[{name:"day",deciseconds:864e3,showIfNotEditable:!1},{name:"hour",deciseconds:36e3,showIfNotEditable:!1,separator:"days"},{name:"minute",deciseconds:600,showIfNotEditable:!0},{name:"second",deciseconds:10,showIfNotEditable:!0}],a}(),c}.call(this,b.BaseView),e=function(a){var b,c;if(document.activeElement!==a)return null;try{if(a.selectionStart>=0)return a.selectionStart;if(document.selection)return c=document.selection.createRange(),-c.moveStart("character",-a.value.length);throw new Error("neither `element.selectionStart` nor `document.selection` found")}catch(d){return b=d,console.log("Failure retrieving cursor position",a),console.log(b.message),console.log(b.stack),null}},f=function(a,b,c){var d,e;return d=a.substr(0,b),e=a.substr(b+c.length),(d+c+e).substr(0,a.length)}})(Wistia,Timeline,jQuery,vdom);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c,d){return b.DetailEventView=function(a){function f(a){this.toggleEditing=__bind(this.toggleEditing,this),this.confirmButtonClicked=__bind(this.confirmButtonClicked,this),this.dismissButtonClicked=__bind(this.dismissButtonClicked,this),this.state=new this.constructor.State(a),f.__super__.constructor.apply(this,arguments),this.timefields={},this.imageUploaderWidgets={}}var e;return __extends(f,a),f.State=b.DetailEventViewState=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments),e}return __extends(b,a),b.defaultParams={event:null,editable:!0,isEditing:!0,maxSeconds:3599,dismissButtonText:"Remove",confirmButtonText:"Update"},b.prototype.updateEvent=function(a){return a.time!=null&&!this.event.constructor.hasDuration&&(a.time<=0?a.time="start":a.time>=this.maxSeconds&&(a.time="end")),this.update({event:this.event.update(a)})},b}(b.BaseModel),f.prototype.event=function(){return this.state.event},f.prototype.updateEvent=function(a,b){var c,d,e,f,g,h;e=this.state.event,f={},f[a]=b,d=this.state.updateEvent(f),c=((g=this.delegate)!=null?g.detailEventCanUpdate:void 0)!=null?this.delegate.detailEventCanUpdate(this,d.event,e,f):!0;if(c)return this.state=d,(h=this.delegate)!=null?typeof h.detailEventUpdated=="function"?h.detailEventUpdated(this,this.state.event,e,f):void 0:void 0},f.prototype.updateEventAndRender=function(a,b){if(this.state.event[a]!==b)return this.updateEvent(a,b),this.render()},f.prototype.dismissButtonClicked=function(){var a;return(a=this.delegate)!=null?a.detailEventClosed(this,this.state.event):void 0},f.prototype.confirmButtonClicked=function(){var a;return(a=this.delegate)!=null&&a.detailEventDoneEditing(this,this.state.event),this.stopEditing()},f.prototype.startEditing=function(){var a,b;if(this.state.isEditing)return;return(a=this.delegate)!=null&&typeof a.eventWillStartEditing=="function"&&a.eventWillStartEditing(this),this.state=this.state.update({isEditing:!0}),(b=this.delegate)!=null&&typeof b.eventDidStartEditing=="function"&&b.eventDidStartEditing(this),this.render()},f.prototype.stopEditing=function(){var a,b;if(!this.state.isEditing)return;return(a=this.delegate)!=null&&typeof a.eventWillStopEditing=="function"&&a.eventWillStopEditing(this),this.state=this.state.update({isEditing:!1}),(b=this.delegate)!=null&&typeof b.eventDidStopEditing=="function"&&b.eventDidStopEditing(this),this.render()},f.prototype.toggleEditing=function(){return this.state.isEditing?this.stopEditing():this.startEditing()},f.prototype.template=function(){var a,b,c,e,f,g=this;return e=d.h,f=this.state.event.invalidParams(),c=this.state.isEditing?"editing":"not-editing",a=this.state.isEditing?"up":"down",b=this.state.event.constructor.editFields,e(".event.detail-event."+c,[e(".header.with-collapse-button",[e(".position",[this.templateInputField(b[0],this.state.event)]),e(".description",{click:this.dispatch(this.state.isEditing?this.confirmButtonClicked:this.toggleEditing)},[e("button.collapse-button",{type:"button"},[e(".caret.left."+a)," ",e(".caret.right."+a)]),e(".summary",[this.state.event.shortDisplayName()])])]),e(".detail",[_.map(b,function(a){var b;return a.hideFromDetail===!0?null:(b=_.compact(["type-"+(a.type||"text"),_.contains(f,a.param)?"invalid":void 0,a.showOnlyIf!=null&&a.showOnlyIf.call(g.state.event)===!1?"hidden":void 0,a.showInPositionColumn?"as-position":void 0]),e(".field."+b.join("."),{attributes:{"data-field-param":a.param}},[g.templateInputLabel(a,g.state.event),g.templateInputField(a,g.state.event)]))}),e(".actions",[e("button.dismiss-button.white",{type:"button",disabled:this.state.isEditing?null:!0,click:this.dispatch(this.dismissButtonClicked)},[this.state.dismissButtonText]),e("button.confirm-button.white",{type:"button",disabled:this.state.isEditing?null:!0,click:this.dispatch(this.confirmButtonClicked)},[this.state.confirmButtonText])])])])},f.prototype.templateInputLabel=function(a,b){var c,e;c=d.h;switch(a.type){case"email_provider_list":e=this.delegate.emailProviderInfo;if(!e.configured)return e.user_can_update&&e.setup_url?c("label.label",["Integrate"]):null;switch(e.type){case"HubspotEmailProvider":case"MarketoEmailProvider":return c("label.label",[e.display_name]);case"OntraportEmailProvider":return c("label.label",[""+e.display_name+" Tag"]);default:return c("label.label",[""+e.display_name+" List"])}break;default:if(a.name!=null)return c("label.label",[a.name])}},f.prototype.templateInputField=function(a,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=this;p=d.h,o=this.state.isEditing?null:!0,_.isFunction(a.disabled)&&(o||(o=a.disabled.call(e))),m=p("option",{value:""},"---");switch(a.type){case"select":return u=a.required?[]:[m],p("select.input",{name:a.param,disabled:o,change:this.dispatchWith(function(b){var c;return c=b.currentTarget.value,C.updateEventAndRender(a.param,c)})},u.concat(_.map(a.options,function(b){return p("option",{value:b.value,selected:""+e[a.param]==""+b.value?"selected":null},[b.label])})));case"checkbox":return p("label.input.checkbox",[p("input",{type:"checkbox",name:a.param,checked:e[a.param]?"checked":null,disabled:o,change:this.dispatchWith(function(b){var c;return c=b.currentTarget.checked,C.updateEventAndRender(a.param,c)})}),p("span.option-label",[a.optionLabel])]);case"textarea":return q=function(b){var c;return c=b.currentTarget.value,C.updateEventAndRender(a.param,c)},p("textarea.input",{name:a.param,placeholder:a.placeholder||"",maxlength:a.maxlength||200,disabled:o,focus:a.selectOnFocus?this.dispatchWith(function(a){var b;return b=a.currentTarget,d.nextTick(function(){return c(b).select()})}):void 0,input:this.dispatchWith(q),change:this.dispatchWith(q)},[""+e[a.param]]);case"time":k=a.toDerivedValue!=null?a.toDerivedValue.call(e):e[a.param];switch(k){case"start":l=0;break;case"end":l=this.state.maxSeconds;break;default:l=k}return(y=this.timefields)[A=a.param]||(y[A]=new b.TimeFieldView({maxSeconds:this.state.maxSeconds,currentTime:l})),this.timefields[a.param].setCurrentTimeInSeconds(l),this.timefields[a.param].onUpdate=function(b){var c;return a.fromDerivedValue!=null?c=a.fromDerivedValue.call(e,b):c=b,C.updateEvent(a.param,c),C.render()},this.timefields[a.param].render(),this.timefields[a.param].vdomWidget();case"email_provider_list":return w=this.delegate.emailProviderInfo,h=w.configured,x=w.type,i=w.connected,t=w.lists,s=w.configured&&w.connected==null,x==="HubspotEmailProvider"||x==="MarketoEmailProvider"?(r=e.provider===w.var_name,p("label.input.checkbox",[p("input",{type:"checkbox",disabled:r,checked:r?"checked":null,change:this.dispatchWith(function(a){var b;return b=a.currentTarget.checked,C.updateEventAndRender("provider",b?w.var_name:"")})}),p("span.option-label",["Enabled"])])):h?(s?v=[p("option","Loading...")]:!s&&i&&(t!=null?t.length:void 0)>=0?v=[m].concat(_.map(t,function(b){var c,d;return c=b.id,d=b.name,p("option",{value:c,selected:""+e[a.param]==""+c?"selected":null},[d])})):v=[p("option","(error)")],p("select.input.email-provider-list",{name:a.param,disabled:o,change:this.dispatchWith(function(b){var c;return c=b.currentTarget.value,e.provider!==w.var_name&&C.updateEvent("provider",w.var_name),C.updateEvent(a.param,c),C.render()})},v)):w.user_can_update&&w.setup_url?p("a.email-provider-setup",{href:w.setup_url,target:"_blank"},["Setup an Email Provider"]):null;case"image":return g="event_image_upload_"+a.param+"_"+this.uuid,j=""+g+"_contaienr",n=this,(z=this.imageUploaderWidgets)[B=a.param]||(z[B]={type:"Widget",init:function(){var b=this;return this.container=d.create(p("span.image-uploader-container",[p("a.image-upload-button#"+g,{href:"#"},"Upload")])),this.button=c(this.container).find("a")[0],d.nextTick(function(){return b.uploader=new ImageUploader(b.button,{onSuccess:function(b){return n.updateEventAndRender(a.param,b.toString())}})}),this.container},destroy:function(){var a;return(a=this.uploader)!=null&&a.destroy(),this.uploader=null}});default:return q=function(b){var c;return c=b.currentTarget.value,C.updateEventAndRender(a.param,c)},p("input.input",{type:a.type||"text",name:a.param,placeholder:a.placeholder||"",value:e[a.param]||"",disabled:o,focus:a.selectOnFocus?this.dispatchWith(function(a){var b;return b=a.currentTarget,d.nextTick(function(){return c(b).select()})}):void 0,input:this.dispatchWith(q),change:this.dispatchWith(q)})}},f}.call(this,b.BaseView)})(Wistia,Timeline,jQuery,vdom);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c){return b.eventClasses=[b.CallToActionEvent,b.LinkEvent,b.TurnstileEvent,b.CameraLookEvent],b.TimelineDetailView=function(a){function c(a,c,d,e,f,g){var h=this;this.savedCustomizeOptions=d,this.video=e,this.emailProviderInfo=f,this.canAccessMktgTools=g,this.addEventButtonClicked=__bind(this.addEventButtonClicked,this),this.setElem(a),this.startBehavior=this.startBehaviorFromCustomizeOptions(this.savedCustomizeOptions),this.endBehavior=this.endBehaviorFromCustomizeOptions(this.savedCustomizeOptions),this.video.ready(function(){var a,d;return a=h,d=Math.floor(h.video.duration()),h.definedEventViews=_.map(_.flatten(_.map(b.eventClasses,function(a){return a.existingFromCustomizeOptions(h.savedCustomizeOptions)})),function(c){return new b.DetailEventView({delegate:a,maxSeconds:d,event:c,hasHeader:!0,isEditing:!1})}),h.sortEvents(),h.timetrackView=window.timetrackView=new Timeline.TimetrackView({delegate:a,representedLength:d,regions:h.trackRegionsFromEvents()}),h.timetrackView.setElem(c),h.render()})}return __extends(c,a),c.prototype.startBehaviorOptions=[{label:"Display thumbnail",value:"thumbnail"},{label:"Autoplay video",value:"autoplay"}],c.prototype.endBehaviorOptions=[{label:"Pause on the last frame",value:"default"},{label:"Reset to the first frame",value:"reset"},{label:"Loop the video",value:"loop"}],c.prototype.currentEvents=function(){return _.compact(_.map(this.definedEventViews,function(a){return a.state.event}))},c.prototype.canCreateEventType=function(a){return a.pluginName==="cameraLook-v1"?this.video.options.channel==="vr":a.uniquePerTimeline?_.any(this.currentEvents(),function(b){return b.constructor===a})?!1:!0:!0},c.prototype.newEventFromClassAtTime=function(a,b){var c,d;return typeof b!="string"&&(c=a.hasDuration?4:0,this.canAddEventAtTime(this.video.time(),c)?b=this.video.time():b=Math.floor(this.video.duration()/2)),d=a.newFromCustomizeOptions(this.savedCustomizeOptions),typeof a.defaultParams.time=="number"?d.update({time:b,duration:c}):d},c.prototype.addViewForNewEvent=function(a){return this.canCreateEventType(a.constructor)&&(_.each(this.definedEventViews,function(a){return typeof a.stopEditing=="function"?a.stopEditing():void 0}),this.definedEventViews.push(new b.DetailEventView({delegate:this,event:a,hasHeader:!0,isEditing:!0,maxSeconds:Math.floor(this.video.duration())})),this.sortEvents()),this.render(),this.timetrackView.selectRegionIndex(a.uuid),this.updateEmbedForUpdatedEvent(a)},c.prototype.addEventButtonClicked=function(a){var b,c;return b=a.eventClass,c=this.newEventFromClassAtTime(b,null),this.addViewForNewEvent(c)},c.prototype.eventWillStartEditing=function(a){var b;return b=_.filter(this.definedEventViews,function(b){return b!==a}),_.each(b,function(a){return typeof a.stopEditing=="function"?a.stopEditing():void 0}),this.updateEmbedForUpdatedEvent(a.state.event),this.timetrackView.selectRegionIndex(a.state.event.uuid)},c.prototype.eventDidStartEditing=function(a){return this.renderTimeline()},c.prototype.eventWillStopEditing=function(a){return this.updateEmbedForDismissedEvent(a.state.event),this.timetrackView.deselectRegionIndex(a.event.uuid)},c.prototype.eventDidStopEditing=function(a){return this.renderTimeline()},c.prototype.sortEvents=function(){return this.definedEventViews=_.sortBy(this.definedEventViews,function(a){var b;b=a.state.event.time;switch(b){case"start":return-Infinity;case"end":return Infinity;default:return b}})},c.prototype.detailEventClosed=function(a,b){return this.definedEventViews=_.filter(this.definedEventViews,function(b){return b!==a}),b.removeEmbedPreview(this.video),this.removeEventFromTimetrack(a.state.event),this.renderTimeline(),this.updateEmbedForDismissedEvent(a.state.event)},c.prototype.detailEventUpdated=function(a,b,c,d){return this.sortEvents(),this.render(),this.updateEmbedForUpdatedEvent(b,c,d)},c.prototype.detailEventCanUpdate=function(a,b,c,d){return d.time!=null||d.duration!=null?this.detailViewCanUpdateTiming(a,b.time,b.duration):!0},c.prototype.detailEventDoneEditing=function(a){return this.render(),this.updateEmbedForDismissedEvent(a.state.event)},c.prototype.trackSelectedRegion=function(a,b){var c;if((c=this.detailViewForEventUuid(b))==null)return;return _.each(this.definedEventViews,function(a){return typeof a.stopEditing=="function"?a.stopEditing():void 0}),c.startEditing()},c.prototype.trackDeselectedRegion=function(a,b){var c;if((c=this.detailViewForEventUuid(b))==null)return;return c.stopEditing()},c.prototype.trackRegionCanUpdate=function(a,b,c,d){var e,f,g,h;if((e=this.detailViewForEventUuid(b))==null)return;return h=1*this.video.duration()*d.headPos,f=c.hasSpan?1*this.video.duration()*(d.endPos-d.headPos):0,g=h+f,h<0||g>this.video.duration()?!1:this.detailViewCanUpdateTiming(e,h,f)},c.prototype.trackRegionUpdated=function(a,b,c,d){var e,f,g,h,i;if((e=this.detailViewForEventUuid(b))==null)return;return h=e.state.event,g=1*this.video.duration()*d.headPos,f=c.hasSpan?1*this.video.duration()*(d.endPos-d.headPos):0,c.headPos===d.headPos?(i={duration:f},e.state=e.state.updateEvent(i)):c.length()!==d.length()?(i={time:g,duration:f},e.state=e.state.updateEvent(i),this.sortEvents(),this.renderTimeline()):(i={time:g},e.state=e.state.updateEvent(i),this.sortEvents(),this.renderTimeline()),this.updateEmbedForUpdatedEvent(e.state.event,h,i),e.render()},c.prototype.canAddEventAtTime=function(a,b,c){var d;return b==null&&(b=0),c==null&&(c=.1),typeof a!="number"?!0:(d=a+b,!_.any(this.currentEvents(),function(b){var e,f;return e=!1,f=b.time+(b.duration||0),a-c<b.time?e||(e=d+c>=b.time):b.time<a-c&&(e||(e=f>=a-c)),e}))},c.prototype.detailViewForEventUuid=function(a){return _.first(_.filter(this.definedEventViews,function(b){var c;return String((c=b.state.event)!=null?c.uuid:void 0)===a}))},c.prototype.detailViewCanUpdateTiming=function(a,b,c){var d,e,f,g;c==null&&(c=0);switch(b){case"start":g=0;break;case"end":g=this.video.duration();break;default:g=b}return f=g+c,e=a.state.event,d=this.definedEventViews,!_.any(_.map(d,function(a){var b,c,d;return c=a.state.event,a.state.event.uuid===e.uuid?!1:(b=!1,c.duration!=null?(d=c.time+c.duration,g<c.time?b||(b=f>=c.time):g>c.time?b||(b=d>=g):b=!0):b||(b=g<c.time&&f>c.time),b)}))},c.prototype.anyDetailViewsAreEditing=function(){return _.some(this.definedEventViews,function(a){return a.state.isEditing})},c.prototype.setEmailProviderInfo=function(a){return this.emailProviderInfo=a,_.each(this.definedEventViews,function(a){if(a.state.event instanceof b.TurnstileEvent)return a.render()})},c.prototype.template=function(){var a,c,d=this;return c=vdom.h,a=this.anyDetailViewsAreEditing()?".one-is-editing":".none-are-editing",c(".timeline-detail"+a,_.flatten([c(".start.event.chooser-event",[c(".header",[c(".position",["Start"]),c(".description",[c("select.choose-behavior",{change:this.dispatchWith(function(a){var b;return b=a.currentTarget.value,d.startBehavior=b,d.renderTimeline()})},_.map(this.startBehaviorOptions,function(a){return c("option",{value:a.value,selected:d.startBehavior===a.value?!0:null},[a.label])}))])])]),this.canAccessMktgTools?[c("ul.events.defined",_.map(this.definedEventViews,function(a){return c("li",{key:a.uuid},[a.vdomWidget()])})),c(".event.add-event",[c(".header",[c(".position","+"),c(".description",[c("ul.add-events",_.map([[b.LinkEvent,"Add Annotation Link"],[b.CallToActionEvent,"Add Call To Action"],[b.TurnstileEvent,"Add Turnstile"],[b.CameraLookEvent,"Add Camera Look Event"]],function(a){var b,e;b=a[0],e=a[1];if(d.canCreateEventType(b))return c("li",[c("a.add-event-button",{href:"#",click:d.dispatch(d.addEventButtonClicked,{eventClass:b})},e)])}))])])])]:c(".no-access-upsell",["Interaction opportunities like Annotations, ","CTAs, and Turnstile are features of the Pro Plan. ",c("a.upgrade-link",{href:"/account/subscriptions",target:"_blank"},["See pricing and upgrade."])]),c(".end.event.chooser-event",[c(".header",[c(".position",["End"]),c(".description",[c("select.choose-behavior",{change:this.dispatchWith(function(a){var b;return b=a.currentTarget.value,d.endBehavior=b,d.renderTimeline()})},_.map(this.endBehaviorOptions,function(a){return c("option",{value:a.value,selected:d.endBehavior===a.value?!0:null},[a.label])}))])])])]))},c.prototype.render=function(){return c.__super__.render.apply(this,arguments),this.renderTimetrack()},c.prototype.renderTimeline=function(){return b.BaseView.prototype.render.call(this)},c.prototype.renderTimetrack=function(){if(this.timetrackView==null)return;return this.timetrackView.updateState({regions:this.trackRegionsFromEvents()}),this.timetrackView.render()},c.prototype.startBehaviorFromCustomizeOptions=function(a){switch(a.auto_play){case!0:return"autoplay";case!1:return"thumbnail";default:return"thumbnail"}},c.prototype.endBehaviorFromCustomizeOptions=function(a){switch(a.end_video_behavior){case"default":case"reset":case"loop":return a.end_video_behavior;default:return"default"}},c.prototype.startAndEndCustomizeOptions=function(){return{auto_play:this.startBehavior==="autoplay"?!0:!1,end_video_behavior:this.endBehavior}},c.prototype.startAndEndEmbedOptions=function(){return{autoPlay:this.startBehavior==="autoplay"?!0:!1,endVideoBehavior:this.endBehavior}},c.prototype.mergeOptions=function(a,b){var c,d;for(c in b)d=b[c],_.isArray(a[c])&&_.isArray(d)?a[c]=a[c].concat(d):_.isObject(a[c])&&_.isObject(d)?this.mergeOptions(a[c],d):a[c]=d;return a},c.prototype.customizeOptions=function(){var a,c,d,e=this;return d=this.startAndEndCustomizeOptions(),c=_.reduce(b.eventClasses,function(a,b){return e.mergeOptions(a,b.defaultCustomizeOptions())},d),a=_.reduce(this.currentEvents(),function(a,b){return e.mergeOptions(a,b.customizeOptions())},c),a},c.prototype.embedOptions=function(){var a,c,d,e=this;return d=this.startAndEndEmbedOptions(),c=_.reduce(b.eventClasses,function(a,b){return e.mergeOptions(a,b.defaultEmbedOptions())},d),a=_.reduce(this.currentEvents(),function(a,b){return e.mergeOptions
(a,b.embedOptions())},c),a},c.prototype.updateEmbedForUpdatedEvent=function(a,b,c){return b==null&&(b=null),c==null&&(c=null),b!=null&&c!=null?a.updateEmbedPreview(this.video,b,c):a.showEmbedPreview(this.video)},c.prototype.updateEmbedForDismissedEvent=function(a){if(a==null)return;return a.dismissEmbedPreview(this.video)},c.prototype.trackRegionsFromEvents=function(a){var c=this;return a==null&&(a=null),a==null&&(a=this.definedEventViews),_.reduce(a,function(a,d){var e,f,g,h;return f=d.state.event,f.time==="start"?h=0:f.time==="end"?h=1:h=1*f.time/c.video.duration(),e=h+1*f.duration/c.video.duration(),g=!!f.constructor.hasDuration,a[f.uuid]=new b.TrackRegion({headPos:h,endPos:e,hasSpan:g}),a},{})},c.prototype.removeEventFromTimetrack=function(a){var b;return b={},b[""+a.uuid]=void 0,this.timetrackView.updateState({regions:b}),this.timetrackView.render()},c}(b.BaseView)})(Wistia,Timeline,jQuery);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b,c,d){var e,f;return b.TimetrackView=function(a){function f(a){a==null&&(a={}),this.dragEnded=__bind(this.dragEnded,this),this.dragMoved=__bind(this.dragMoved,this),this.state=new this.constructor.State(a),this.registerDragHandlers(),f.__super__.constructor.apply(this,arguments)}var e;return __extends(f,a),f.State=b.TimetrackViewState=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments),e}return __extends(b,a),b.defaultParams={representedLength:10,regions:{},selectedRegionIndex:null,currentDrag:null},b}(b.BaseModel),f.prototype.updateState=function(a){return this.state=this.state.update(a)},f.prototype.selectRegionIndex=function(a){return this.updateState({selectedRegionIndex:""+a}),this.render()},f.prototype.deselectRegionIndex=function(a){if(this.state.selectedRegionIndex!==""+a)return;return this.updateState({selectedRegionIndex:null,currentDrag:null}),this.render()},f.prototype.render=function(){return f.__super__.render.apply(this,arguments),this.state.currentDrag!=null?this.registerDragHandlers():this.deregisterDragHandlers()},f.prototype.template=function(){var a,b,c,e=this;return b=d.h,c=d.svg,a=this.currentDrag!=null?".dragging":"",b(".timetrack"+a,_.flatten(_.map(this.state.regions,function(d,f){var g,i;return g=e.state.selectedRegionIndex===f?"selected":"not-selected",a=((i=e.state.currentDrag)!=null?i.target.regionIndex:void 0)===f?"dragging":"not-dragging",[b(".trackpoint.region-head."+g+"."+a,{key:""+f+"-head",attributes:{style:"left: "+d.headPos*100+"%"}},[c("svg",{viewBox:"0 0 16 23",mousedown:e.dispatchWith(function(a){return e.startDragFor(f,"headPos",e.startCoordsFrom(a))})},[c("path",{d:"M1,11.2L1,11.2c-0.6,1.1-1,2.5-1,3.9c0,4.4,3.6,8,8,8c4.4,0,8-3.6,8-8c0-1.4-0.5-2.7-1.2-3.8h0L8,0L1,11.2z"}),c("circle",{cx:8,cy:15,r:3})])]),b(".trackregion."+g+"."+a,{key:""+f+"-region",attributes:{style:"left: "+d.headPos*100+"%; width: "+(d.endPos-d.headPos)*100+"%"}},d.hasSpan?[b(".region-span",{mousedown:e.dispatchWith(function(a){return e.startDragFor(f,"wholeRegion",e.startCoordsFrom(a))})}),b(".region-end",{mousedown:e.dispatchWith(function(a){return e.startDragFor(f,"endPos",e.startCoordsFrom(a))})})]:[])]})))},f.prototype.startCoordsFrom=function(a){return{x:a.clientX,y:a.clientY}},f.prototype.startDragFor=function(a,d,e){var f,g,h;return c(document.body).addClass("timetrack-is-dragging"),f=this.state.selectedRegionIndex,this.updateState({selectedRegionIndex:a,currentDrag:new b.DragState({target:{regionIndex:a,whatToDrag:d,regionBeforeDrag:this.state.regions[a]},dragStartX:e.x,dragTargetX:e.x})}),a!==f&&(f!=null&&(g=this.delegate)!=null&&typeof g.trackDeselectedRegion=="function"&&g.trackDeselectedRegion(this,f),(h=this.delegate)!=null&&typeof h.trackSelectedRegion=="function"&&h.trackSelectedRegion(this,a)),this.render()},f.prototype.registerDragHandlers=function(){var a,b,d=this;if(this._hasRegisteredDragHandlers)return;return a=c(document),b=function(a){return function(b){return a(b),b.preventDefault()}},a.on("mousemove.timetrack",b(this.dragMoved)),a.on("mouseleave.timetrack",b(this.dragEnded)),a.on("mouseup.timetrack",b(this.dragEnded)),this._hasRegisteredDragHandlers=!0},f.prototype.deregisterDragHandlers=function(){return c(document).off(".timetrack"),this._hasRegisteredDragHandlers=!1},f.prototype.dragMoved=function(a){var b,c,d,e,f,g,h,i,j,k;if(this.state.currentDrag==null)return;if(this.state.currentDrag.dragTargetX===a.clientX)return;c=this.state.currentDrag.dragTo(a.clientX,0),h=c.target.regionIndex,e=1*c.draggedByX()/this.$el.width(),g=this.state.regions[h],i={};switch(c.target.whatToDrag){case"wholeRegion":case"headPos":d=c.target.regionBeforeDrag.headPos+e,i[h]=f=g.moveToHeadPos(d);break;case"endPos":d=c.target.regionBeforeDrag.endPos+e,i[h]=f=g.stretchEndToPos(d)}if(g.headPos===f.headPos&&g.endPos===f.endPos)return;b=((j=this.delegate)!=null?j.trackRegionCanUpdate:void 0)!=null?this.delegate.trackRegionCanUpdate(this,h,g,f):!0;if(b)return this.updateState({currentDrag:c,regions:i}),(k=this.delegate)!=null&&typeof k.trackRegionUpdated=="function"&&k.trackRegionUpdated(this,h,g,f),this.render()},f.prototype.dragEnded=function(a){if(this.state.currentDrag==null)return;return c(document.body).removeClass("timetrack-is-dragging"),this.updateState({currentDrag:null}),this.render()},f.prototype.posToRepresentedUnit=function(a){return a*this.state.representedLength},f.prototype.representedUnitToPos=function(a){return 1*a/this.state.representedLength},f}.call(this,b.BaseView),b.TrackRegion=function(a){function b(a){a==null&&(a={}),b.__super__.constructor.apply(this,arguments);if(this.endPos<this.headPos||!this.hasSpan)this.endPos=this.headPos}return __extends(b,a),b.defaultParams={headPos:0,endPos:.1,hasSpan:!0},b.prototype.length=function(){return this.endPos-this.headPos},b.prototype.moveToHeadPos=function(a){return a=e(0,1-this.length(),a),this.update({headPos:a,endPos:e(a,1,this.endPos+(a-this.headPos))})},b.prototype.stretchHeadToPos=function(a){return this.update({headPos:e(0,this.endPos,a)})},b.prototype.stretchEndToPos=function(a){return this.update({endPos:e(this.headPos,1,a)})},b}(b.BaseModel),b.DragState=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments),f}return __extends(b,a),b.defaultParams={target:null,startPos:0,dragStartX:0,dragStartY:0,dragTargetX:0,dragTargetY:0},b.prototype.dragTo=function(a,b){return b==null&&(b=this.dragTargetY),this.update({dragTargetX:a,dragTargetY:b})},b.prototype.draggedByX=function(){return this.dragTargetX-this.dragStartX},b.prototype.draggedByY=function(){return this.dragTargetY-this.dragStartY},b}(b.BaseModel),e=function(a,b,c){return Math.max(a,Math.min(b,c))}})(Wistia,Timeline,jQuery,vdom);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a,b){return window.BetaModule=function(a){function c(){this.embedOptions=__bind(this.embedOptions,this),this.$channel=b('input[name="channel"]')}return __extends(c,a),c.prototype.embedOptions=function(){var a;return a={},a.channel=this.$channel.val(),a},c}(CustomizePanelModule)})(Wistia,jQuery);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a){var b;if((b=a.plugin)!=null?!b.socialbar:!void 0)a.Plugin.SocialbarV1=function(b){function c(){c.__super__.constructor.call(this),this.pluginName="socialbar-v1"}return __extends(c,b),c.prototype.init=function(b,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this;c.__super__.init.call(this,b,d),this.target=this.playlist||this.video,f=this.target._opts,j=location.protocol==="https:"?"https:":"http:",this.params=a.extend({includeLinkback:!1,badgeUrl:"http://wistia.com",badgeImage:""+j+"//fast.wistia.com/images/badges/wistia_100x96_black.png",buttons:"",position:"below",tweetText:"{default}",uuid:a.seqId("wistia_","_socialbar"),pageUrl:d.pageUrl||f.canonicalUrl||((n=f.videoOptions)!=null?n.pageUrl:void 0)||f.pageUrl||location.href,pageTitle:d.pageTitle||f.canonicalTitle||((o=f.videoOptions)!=null?o.pageTitle:void 0)||f.pageTitle||document.title,ignoreQueryParams:!0,downloadType:"sd_mp4",height:((p=b._opts)!=null?p.version:void 0)==="v2"?23:null},this.options),this.params.tweetText!=="{default}"&&this.updateTweetText(this.params.tweetText);if((q=this.video)!=null?q._mediaData:void 0)this.params.badgeImage=a.remote.assetUrlWithCorrectHost(this.video._mediaData,this.params.badgeImage);(r=this.video)!=null&&r.hasData(function(){if(!u.params.pageTitle)return u.params.pageTitle=u.video.name()}),this.uuid=this.params.uuid,this.options.container?this.container=document.getElementById(this.options.container):this.container=b.grid[this.params.position],typeof this.params.buttons=="string"?this.buttons=this.params.buttons.split("-"):this.params.buttons instanceof Array?this.buttons=this.params.buttons:(this.buttons=function(){var a,b;a=this.params.buttons,b=[];for(e in a)i=a[e],i&&b.push(e);return b}.call(this),this.buttons=this.buttons.sort(function(a,b){return u.buttonOrder()[a]-u.buttonOrder()[b]})),this.params.logo&&this.buttons.unshift("wistia"),this.params.ignoreQueryParams&&!d.pageUrl&&!f.canonicalUrl&&(this.params.pageUrl=this.params.pageUrl.replace(/\?.*/,"")),k=this.params.uuid,h=encodeURIComponent(this.params.pageUrl),g=encodeURIComponent(this.params.pageTitle),this.elem=document.createElement("div"),this.elem.id=k,this.elem.className="wistia_socialbar",this.params.height&&(this.elem.style.height=""+this.params.height+"px");if((s=this.video)!=null?s.popover:void 0)this.elem.style.backgroundColor="#eee";this.container.appendChild(this.elem),this.refreshCss();if(this.video)this.video.hasData(function(){var a,b,c,d;c=u.buttons,d=[];for(a=0,b=c.length;a<b;a++)e=c[a],d.push(u.addButton(e));return d});else{t=this.buttons;for(l=0,m=t.length;l<m;l++)e=t[l],this.addButton(e)}return this.video?this.video.hasData(function(){return u.fit()}):this.fit(),this._onEnterFullscreen=function(){return u.elem.style.display="none",u.fit()},this.target.bind("enter-fullscreen",this._onEnterFullscreen),this._onCancelFullscreen=function(){return u.elem.style.display="block",u.fit()},this.target.bind("cancel-fullscreen",this._onCancelFullscreen),this.register(this)},c.prototype.fit=function(){return a.grid.fitVertical(this.target),a.grid.fitHorizontal(this.target)},c.prototype.height=function(){return this.elem?a.elem.height(this.elem):0},c.prototype.updateTweetText=function(a){var b;return this.params.tweetText=a.replace("{video_name}",((b=this.video)!=null?b.name():void 0)||"").replace("{page_title}",this.params.pageTitle)},c.prototype.addButton=function(b,c){var d,e,f,g,h;return c==null&&(c={}),this.isValidButton(b)&&(f=document.createElement("div"),f.className="socialbar_container",f.id=""+this.uuid+"_"+b+"_container",f.innerHTML=this.buttonCode()[b](),c.before?(e=this.buttonElem(c.before),a.elem.before(e,f)):c.after?(d=this.buttonElem(c.after),a.elem.after(d,f)):c.autoSort?(g=this.lastEnabledButtonBefore(b),this.buttonOrder()[b]===1?a.elem.prepend(this.elem,f):g?(h=this.buttonElem(g),a.elem.after(h,f)):a.elem.append(this.elem,f)):a.elem.append(this.elem,f),this.buttonScript()[b]()),this},c.prototype.removeButton=function(b){var c,d;return c=this.buttonElem(b),c&&(c.parentNode.removeChild(c),a.detect.browser.msie&&/iframe/i.test(c.childNodes[0].tagName)&&(d=c.childNodes[0],d.src="javascript:false",c.removeChild(d),d=null),c=null),b==="linkedIn"&&(window.IN=null),this},c.prototype.hasButton=function(a){return!!this.buttonElem(a)},c.prototype.buttonElem=function(a){return document.getElementById(""+this.uuid+"_"+a+"_container")},c.prototype.buttonIndex=function(a){var b,c,d,e,f;c=0,f=this.buttons;for(d=0,e=f.length;d<e;d++){b=f[d];if(b===a)return c;c++}return-1},c.prototype.isValidButton=function(a){return this.buttonCode()[a]!=null},c.prototype.remove=function(b){var d,e,f,g,h;b==null&&(b={}),this.target.unbind("enter-fullscreen",this._onEnterFullscreen),this.target.unbind("cancel-fullscreen",this._onCancelFullscreen),a.clearTimeouts(""+this.target.uuid+"."+this.pluginName+"."+this.uuid),h=this.buttons;for(f=0,g=h.length;f<g;f++)d=h[f],this.removeButton(d);return this.elem!=null&&(e=this.elem.parentNode)!=null&&(e.removeChild(this.elem),this.elem=null),c.__super__.remove.call(this,b)},c.prototype.refreshCss=function(){this.styleElem&&this.styleElem.parentNode&&(this.styleElem.parentNode.removeChild(this.styleElem),this.styleElem=null),this.styleElem=a.util.addInlineCss(this.elem,this.css())},c.prototype.buttonCode=function(){var b,c,d,e=this;return d=location.protocol==="https:"?"https:":"http:",c=encodeURIComponent(this.params.pageUrl),b=encodeURIComponent(this.params.pageTitle),{embed:function(){return'<a href="#" id="'+e.uuid+'_embed" class="socialbar_button">&nbsp;</a>\n<input type="text" id="'+e.uuid+'_embed_input" readonly="readonly" />'},videoStats:function(){return'<a href="#" id="'+e.uuid+'_videoStats" class="socialbar_button" target="_blank">&nbsp;</a>'},digg:function(){return'<div id="'+e.uuid+'_digg" class="socialbar_button">\n<a href="http://digg.com/submit?url='+c+'" class="DiggThisButton DiggCompact">&nbsp;</a>\n</div>'},twitter:function(){return('<iframe\nid="'+e.uuid+'_twitter"\nclass="socialbar_button"\nallowtransparency="true"\nframeborder="0"\nscrolling="no"\nsrc="'+d+"//platform.twitter.com/widgets/tweet_button.html?url="+c+"&count="+(e.params.showTweetCount?"horizontal":"none")+(e.params.tweetText==="{default}"?"&text="+b:"&text="+encodeURIComponent(e.params.tweetText))+'"\n></iframe>').replace(/\n/g," ")},facebook:function(){return'<div id="'+e.uuid+'_facebook" class="socialbar_button"></div>'},googlePlus:function(){return'<div id="'+e.uuid+'_googlePlus" class="socialbar_button"></div>'},stumbleUpon:function(){return('<iframe\nid="'+e.uuid+'_stumbleUpon"\nclass="socialbar_button"\nallowtransparency="true"\nframeborder="0"\nscrolling="no"\nframeborder="0"\nsrc="http://badge.stumbleupon.com/badge/embed/1/'+(c?"?url="+c:"")+'"\n></iframe>').replace(/\n/g," ")},linkedIn:function(){return'<div id="'+e.uuid+'_linkedIn" class="socialbar_button">\n</div>'},reddit:function(){return('<iframe\nid="'+e.uuid+'_reddit"\nclass="socialbar_button"\nallowtransparency="true"\nframeborder="0"\nscrolling="no"\nframeborder="0"\nsrc="'+a.proto()+"//www.reddit.com/static/button/button1.html?width=58&url="+c+'"\n></iframe>').replace(/\n/g," ")},tumblr:function(){return'<a href="http://www.tumblr.com/share/link?" id="'+e.uuid+'_tumblr" class="socialbar_button" title="Share on Tumblr">Share on Tumblr</a>'},email:function(){return'<a href="mailto:?subject='+b+"&body="+c+'" id="'+e.uuid+'_email" class="socialbar_button">&nbsp;</a>'},download:function(){return'<a href="#" id="'+e.uuid+'_download" class="socialbar_button">&nbsp;</a>'},wistia:function(){return'<a href="'+e.params.badgeUrl+'" id="'+e.uuid+'_wistia" class="socialbar_button" target="_blank"><img src="'+(e.params.logoImage||e.params.badgeImage)+'" border="0" alt="" /></a>'},playCount:function(){return'<div id="'+e.uuid+'_play_count" class="socialbar_button">\n  <div class="wistia_play_count_label">\n    Plays\n  </div><div class="wistia_play_count_box"></div>\n</div>'}}},c.prototype.buttonScript=function(){var b,c,d,e,f,g=this;return e=location.protocol==="https:"?"https:":"http:",c=encodeURIComponent(this.params.pageUrl),b=encodeURIComponent(this.params.pageTitle),f=function(b,c){return a.remote.script(b,function(){return c&&c(),a.timeout(""+g.target.uuid+"."+g.pluginName+"."+g.uuid+"."+a.seqId("fit_after_script"),function(){return g.fit()},500)})},d={pageUrl:this.params.pageUrl,pageTitle:this.params.pageTitle},{embed:function(){var a,b;a=document.getElementById(""+g.uuid+"_embed"),b=document.getElementById(""+g.uuid+"_embed_input"),g.target.ready(function(){return b.value=g.iframeEmbedCode(d).replace(/\n/g,"")}),a&&(a.onclick=function(){return b.className==="visible"?b.className="":(b.className="visible",b.focus(),b.select()),!1},b.onclick=function(){return b.select(),!1})},videoStats:function(){var a;a=document.getElementById(""+g.uuid+"_videoStats"),a.setAttribute("href",""+e+"//app.wistia.com/stats/"+g.target.hashedId())},digg:function(){f("http://widgets.digg.com/buttons.js")},twitter:function(){return g.refreshCss()},facebook:function(){return a.timeout(""+g.target.uuid+"."+g.pluginName+"."+g.uuid+".init_facebook",function(){return document.getElementById(""+g.uuid+"_facebook").innerHTML=('<iframe\nid="'+g.uuid+'_facebook"\nclass="socialbar_button"\nallowtransparency="true"\nframeborder="0"\nscrolling="no"\nsrc="'+e+"//www.facebook.com/plugins/like.php?href="+c+'&layout=button_count&show_faces=true&width=150&action=like&font=verdana&colorscheme=light&height=21"\n></iframe>').replace(/\n/g," ")})},googlePlus:function(){var a;a=document.createElement("g:plusone"),a.setAttribute("size","medium"),a.setAttribute("annotation","none"),a.setAttribute("href",g.params.pageUrl),document.getElementById(""+g.uuid+"_googlePlus").appendChild(a),f("https://apis.google.com/js/plusone.js")},stumbleUpon:function(){},linkedIn:function(){var a,b;b=document.getElementById(""+g.uuid+"_linkedIn"),a=document.createElement("script"),a.type="IN/Share",a.setAttribute("data-url",g.params.pageUrl),a.setAttribute("data-counter","right"),b.appendChild(a),f(""+e+"//platform.linkedin.com/in.js",function(){return window.IN.init()})},reddit:function(){},tumblr:function(){f("http://platform.tumblr.com/v1/share.js"),g.target.ready(function(){var a;a=document.getElementById(""+g.uuid+"_tumblr"),a.setAttribute("href",a.getAttribute("href")+("name="+b+"&url="+c+"&description="+encodeURIComponent(g.iframeEmbedCode(d))+"&caption="+b))})},email:function(){},download:function(){return g.video.ready(function(){var b,c,d,e,f,h,i,j;return j=g.video.asset({container:"mp4",width:[0,980],sortBy:"width asc"})||g.video.asset("mp4"),f=g.video.asset({container:"mp4",width:[980,1920],sortBy:"width desc, bitrate desc"})||g.video.asset("mp4"),i=g.video.asset("original"),g.params.downloadType==="sd_mp4"?b=j:g.params.downloadType==="hd_mp4"&&f?b=f:g.params.downloadType==="original"&&i?b=i:b=j,h=b.url.replace("http://embed.wistia.com","https://embed-ssl.wistia.com").replace("http://embed-0.wistia.com","https://embed-ssl.wistia.com"),e=""+a.util.unescapeHtml(g.video.name())+"."+b.ext,d=""+h+"?filename="+encodeURIComponent(e)+"&disposition=attachment",c=document.getElementById(""+g.uuid+"_download"),c.setAttribute("href",d)})},wistia:function(){var b;return b=document.getElementById(""+g.uuid+"_wistia").childNodes[0],b.onload=function(){return a.grid.fit(g.target,g.params.position)}},playCount:function(){var b;return b=document.getElementById(""+g.uuid+"_play_count"),a.remote.fetch("//"+a.constant.embedHost+"/embed/stats/"+g.video.hashedId(),{bust:"20131018e"},function(a){var c;if((a!=null?a.play_count:void 0)!=null)return c=a.play_count,c<1e3||(c<1e5?c=(""+(c/1e3).toFixed(1)+"K").replace(/\.0K$/,"K"):c<1e6?c=""+(c/1e3).toFixed(0)+"K":c<1e7?c=(""+(c/1e6).toFixed(2)+"M").replace(/(\.00M|0M)$/,"M"):c=(""+(c/1e6).toFixed(1)+"M").replace(/(\.0M)$/,"M")),b.innerHTML='<div class="wistia_play_count_label">Plays</div><div class="wistia_play_count_box">'+c+"</div>"})}}},c.prototype.buttonOrder=function(){return{playCount:1,embed:2,email:3,videoStats:4,download:5,twitter:6,reddit:7,tumblr:8,stumbleUpon:9,linkedIn:10,googlePlus:11,facebook:12,wistia:13}},c.prototype.lastEnabledButtonBefore=function(a){var b,c,d,e;c=null,e=this.buttonOrder();for(b in e){d=e[b];if(b===a)return c;this.hasButton(b)&&(c=b)}return c},c.prototype.css=function(){var b;return b=location.protocol==="https:"?"https:":"http:","#"+this.uuid+" {\ndisplay: block;\nheight: "+(this.params.height?""+this.params.height+"px":"auto")+";\nline-height: 22px;\nmargin: 0;\noverflow: hidden;\npadding: 3px 0 0 0;\nposition: static;\ntext-align: left;\n}\n#"+this.uuid+" img {\nborder: 0;\nmargin:0;\npadding:0;\nvertical-align:"+(/above|top/.test(this.params.position)?"middle":"top")+";\n}\n#"+this.uuid+" .socialbar_container {\ndisplay:inline;\n}\n#"+this.uuid+" .socialbar_button {\nborder: 0;\nborder-radius: 0;\ndisplay: inline-block;\n*display: inline;\nmargin: 0 8px 2px 0;\npadding: 0;\nposition: static;\nvertical-align: top;\nzoom: 1;\n}\n#"+this.uuid+"_embed_input {\nborder: 1px solid #ccc !important;\ncolor: #444;\ndisplay: none;\nfont-size: 10px;\nheight: 18px;\nline-height:18px;\nmargin:0 4px 0 0;\npadding: 0 !important;\nwidth: 120px;\n}\n#"+this.uuid+"_embed_input.visible {\ndisplay: inline-block;\n*display: inline;\nvertical-align: top;\nzoom:1;\n}\n#"+this.uuid+"_email {\nbackground: url("+b+"//"+a.remote.embedHost()+"/socialbar/images/socialbuttons_sprite.png) -63px 0;\nheight: 20px;\ntext-decoration:none !important;\nwidth: 57px;\n}\n#"+this.uuid+"_email:hover {\nbackground-position:-63px -20px;\n}\n#"+this.uuid+"_email:active {\nbackground-position:-63px -40px;\n}\n#"+this.uuid+"_download {\nbackground: url("+b+"//"+a.remote.embedHost()+"/socialbar/images/socialbuttons_sprite.png?bust=20121107) -175px 0;\nheight: 20px;\ntext-decoration:none !important;\nwidth: 80px;\n}\n#"+this.uuid+"_download:hover {\nbackground-position:-175px -20px;\n}\n#"+this.uuid+"_download:active {\nbackground-position:-175px -40px;\n}\n#"+this.uuid+"_embed {\nbackground: url("+b+"//"+a.remote.embedHost()+"/socialbar/images/socialbuttons_sprite.png);\nheight: 20px;\ntext-decoration:none !important;\nwidth: 63px;\n}\n#"+this.uuid+"_embed:hover {\nbackground-position:0 -20px;\n}\n#"+this.uuid+"_embed:active {\nbackground-position:0 -40px;\n}\n#"+this.uuid+"_videoStats {\nbackground: url("+b+"//"+a.remote.embedHost()+"/socialbar/images/socialbuttons_sprite.png) -120px 0;\nheight: 20px;\ntext-decoration:none !important;\nwidth: 55px;\n}\n#"+this.uuid+"_videoStats:hover {\nbackground-position:-120px -20px;\n}\n#"+this.uuid+"_videoStats:active {\nbackground-position:-120px -40px;\n}\n#"+this.uuid+"_facebook {\nheight:21px;\nwidth:150px;\n}\n#"+this.uuid+"_twitter {\nheight:20px;\nwidth:"+(this.params.showTweetCount?"90px":"56px")+";\n}\n#"+this.uuid+"_googlePlus {\nheight:23px;\nwidth:32px;\n}\n#"+this.uuid+"_digg {\nheight:23px;\nwidth:76px;\n}\n#"+this.uuid+"_reddit {\nheight:22px;\nmargin-top:1px;\nwidth:58px;\n}\n#"+this.uuid+"_stumbleUpon {\nheight:18px;\nwidth:74px;\n}\n#"+this.uuid+"_tumblr {\nbackground:url('http://platform.tumblr.com/v1/share_1.png') 0 0 no-repeat transparent;\nheight:20px;\noverflow:hidden;\ntext-indent:-9999px;\nwidth:81px;\n}\n#"+this.uuid+"_linkedIn {\nheight:21px;\n}\n#"+this.uuid+" #"+this.uuid+"_wistia {\nfloat:right;\nmargin-right:0;\n}\n#"+this.uuid+" #"+this.uuid+"_play_count .wistia_play_count_label {\ndisplay: inline-block;\n*display: inline;\nfont-family: verdana, sans-serif;\nfont-size: 12px;\nmargin-right: 5px;\nvertical-align: top;\nzoom: 1;\n}\n#"+this.uuid+" #"+this.uuid+"_play_count .wistia_play_count_box {\nbackground: #fff;\nborder: solid #c9c9c9 1px;\ncolor: #555;\ndisplay: inline-block;\n*display: inline;\nfont-family: verdana, sans-serif;\nfont-size: 11px;\nletter-spacing: 1px;\nline-height: 11px;\nmargin-top: 1px;\nmin-height: 11px;\nmin-width: 15px;\npadding: 2px 6px 3px 6px;\ntext-align: center;\ntext-decoration: none;\ntext-shadow: 0px 1px 1px #ffffff;\nvertical-align: top;\nzoom: 1;\n}"},c.prototype.iframeEmbedCode=function(b){var c,d,e,f,g,h,i,j,k,l,m;b==null&&(b={}),h=a._playlist&&this.target.playlist,l=a.extend({},this.target._mediaData),j=a.extend({},this.target._opts),h?m=a.url.parse("http://"+a.remote.externalEmbedHost()+"/embed/playlists/"+this.target.hashedId()):m=a.url.parse("http://"+a.remote.externalEmbedHost()+"/embed/iframe/"+this.target.hashedId()),m.params=a.extend({},this.target._opts),m.params.container!=null&&delete m.params.container,m.params.pageUrl!=null&&delete m.params.pageUrl,m.params.pageTitle!=null&&delete m.params.pageTitle,m.params.trackEmail!=null&&delete m.params.trackEmail;if(this.target._opts.version==="v2"||this.params._noEmbedOptions)m.params={};return k={},a.obj.eachLeaf(m.params,function(b,c){var d,e,f,g;d=!1;for(f=0,g=c.length;f<g;f++)e=c[f],/^_/.test(e)&&(d=!0);if(!d)return a.obj.set(k,c,b)}),m.params=k,j.canonicalUrl||(m.params.canonicalUrl=b.pageUrl||this.target._opts.pageUrl||location.href),j.canonicalTitle||(m.params.canonicalTitle=b.pageTitle||this.target._opts.pageTitle||document.title),h&&(a.obj.unset(this.target,"options.videoOptions.canonicalUrl"),a.obj.unset(this.target,"options.videoOptions.canonicalTitle")),d=this.target.width()-this.target.videoWidth(),c=this.target.height()-this.target.videoHeight(),g=480+d,h?f=Math.round((g-d)/this.target.aspectRatio()+c):f=Math.round((g-d)/this.target.aspect()+c),e={tagName:"iframe","class":h?"wistia_playlist":"wistia_embed",name:h?"wistia_playlist":"wistia_embed",src:m.absolute(),allowtransparency:!0,frameborder:0,scrolling:"no",width:g,height:f},k=a.generate.html(e),this.params.includeLinkback&&(i={tagName:"a","class":"wistia-linkback",href:this.params.pageUrl,childNodes:[this.params.pageTitle]},k+="<br/>"+a.generate.html(i)),k},c}(a.Plugin.Base),a.plugin.socialbar=function(b,c){return a.plugin._init("socialbarV1",b,c)};return a.plugin("socialbar-v1",a.plugin.socialbar)})(Wistia);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a){var b;if((b=a.plugin)!=null?!b.postRoll:!void 0)a.Plugin.PostRollV1=function(b){function c(){var a=this;c.__super__.constructor.call(this),this.pluginName="postRoll-v1",this.conversionOpportunityType="callToAction",this._fit==null&&(this._fit=function(){return a.fit()})}return __extends(c,b),c.prototype.init=function(b,d){var e=this;return c.__super__.init.call(this,b,d),this.params=a.obj.merge({},this.defaultParams(),this.params),this.uuid=this.params.uuid,this.video.hasData(function(){return e.refreshFontFaceCss(),e.inferParams(),e._show=function(){return e.show()},e.params.time==="end"?e.video.bind("end",e._show):e.params.time==="before"?e.video.ready(e._show):e.NUMBER_TIME_REGEXP.test(e.params.time)&&e.video.onCrossTime(e.params.time,e._show),e.video.bind("widthchange",e._fit),e.video.bind("heightchange",e._fit),e.register(e)})},c.prototype.NUMBER_TIME_REGEXP=/^\d+(\.\d*)?$/,c.prototype.fit=function(){var a,b,c;if(this.elem){this.elem.style.height=""+this.video.videoHeight()+"px",this.elem.style.width=""+this.video.videoWidth()+"px",(b=document.getElementById(""+this.uuid+"_image"))&&this.fitImage(b);if(this.params.autoSize){a=Math.round(this.video.videoHeight()/9),a=Math.min(72,Math.max(10,a)),this.elem.style.fontSize=""+a+"px",this.elem.style.lineHeight="1.2em";if(c=document.getElementById(""+this.uuid+"_link"))c.style.fontSize=""+a+"px",c.style.lineHeight="1.2em"}this.centerContent()}return this},c.prototype.fitImage=function(b){b.style.width=""+this.video.videoWidth()+"px",b.style.height="",a.elem.height(b)>this.video.videoHeight()&&(b.style.height=""+this.video.videoHeight()+"px",a.detect.browser.msie&&a.detect.browser.version<=8?b.style.width=""+this.video.videoWidth()+"px":b.style.width="");if(Math.abs(a.elem.width(b)-this.video.videoWidth())===1||Math.abs(a.elem.height(b)-this.video.videoHeight())===1)return b.style.width=""+this.video.videoWidth()+"px",b.style.height=""+this.video.videoHeight()+"px"},c.prototype.centerContent=function(){var b,c;c=document.getElementById(""+this.uuid+"_link")||document.getElementById(""+this.uuid+"_centered_content");if(c)return c.style.paddingTop=c.style.paddingBottom="0px",b=Math.round((a.elem.height(this.elem)-a.elem.height(c))/2),b=Math.max(0,b),c.style.paddingTop=c.style.paddingBottom=""+b+"px"},c.prototype.defaultParams=function(){return{raw:"",text:"",image:"",link:"",position:"top_inside",backgroundOpacity:.91,rewatch:this.options.time==="end"&&!!this.options.text,allowSkip:this.options.time!=null&&this.options.time!=="end"||!!this.video.nextVideo(),showOnce:this.options.time!=="end",autoSize:!1,conversionType:this.conversionOpportunityType,useBasicFont:!1,style:{backgroundColor:"#616161",color:"#ffffff",fontFamily:""+(this.options.useBasicFont?"Helvetica, Arial, sans-serif":"WistiaOpenSans, Helvetica, Arial, sans-serif"),fontSize:"48px",lineHeight:"1.2em",position:"relative",textAlign:"center"},uuid:a.seqId("wistia_","_postRoll"),preview:!1}},c.prototype.inferParams=function(){var b,c;this.params.text&&(this.params.text=this.params.text.replace(/\<br\s*\/\>/ig,"\n").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\n/g,"<br/>")),this.params.time==null&&(this.params.time="end"),this.params.raw&&(this.params.scriptTags=a.util.scriptTags(this.params.raw),this.params.cssTags=a.util.cssTags(this.params.raw),this.params.raw=a.util.removeCssTags(a.util.removeScriptTags(this.params.raw))),b=new a.Color(""+this.params.style.backgroundColor),a.detect.browser.msie&&(a.detect.browser.version<9||a.detect.browser.quirks)?this.params.style.backgroundColor="#"+b.toHex():this.params.style.backgroundColor=b.alpha(this.params.backgroundOpacity).toRgba();if(this.params.image)return this.params.image=this.params.image.replace(/http:\/\/prime-cdn\.wistia\.com\//,"http://embed.wistia.com/"),this.params.image=a.remote.assetUrlWithCorrectHost(this.video.data.media,this.params.image),c=new Image,c.src=this.params.image},c.prototype.show=function(){var b,c=this;if(this.params.showOnce&&this._showed)return;this._showed=!0,this.injectBaseCtaMarkup(),this.injectRewatchElem(),this.injectSkipElem();if(this.link=document.getElementById(""+this.uuid+"_link"))this.video._tracker.logConversionOpportunity(this._conversionOpportunityData()),this._onConversion==null&&(this._onConversion=function(){return c.onConversion.apply(c,arguments)}),a.elem.bind(this.link,"click",this._onConversion);return this.fit(),a.timeout(""+this.pluginName+"."+this.uuid+".delayed_center",this._fit,500),this._fit==null&&(this._fit=function(){return c.fit()}),this.params.image&&(b=new Image,b.src=this.params.image,b.onload=this._fit),a.plugin._allow3rdParty(this.video)&&(a.util.execScriptTags(this.params.scriptTags,this._fit),a.util.execCssTags(this.params.cssTags,this._fit)),a.EmbedLink.setupAll(this.elem),this.video.params.preview||this.video.suspend(),a.elem.animate(this.elem,{opacity:1},{time:700}),a.timeout(""+this.uuid+".close_on_timechange",function(){return c._closeOnTimechange==null&&(c._closeOnTimechange=function(){return c.close(),c.video.unbind}),c.video.bind("timechange",c._closeOnTimechange)},350)},c.prototype.injectBaseCtaMarkup=function(){return this.elem&&a.elem.remove(this.elem),this.elem=a.elem.fromObject({id:this.uuid,"class":"wistia-postroll",style:a.obj.merge({},this.params.style,{width:""+this.video.videoWidth()+"px",height:""+this.video.videoHeight()+"px",opacity:.01})}),a.elem.append(this.elem,this.baseCtaDomElems()),a.css(this.elem,this._css()),a.plugin._allow3rdParty(this.video)||a.elem.stripEventAttributes(this.elem),this.video.grid[this.params.position].appendChild(this.elem)},c.prototype.injectRewatchElem=function(){var b=this;return this.rewatchElem&&a.elem.remove(this.rewatchElem),this.rewatchElem=a.elem.fromObject({id:""+this.uuid+"_rewatch","class":"wistia_postroll_rewatch",title:"Watch again",style:{display:this.params.rewatch?"block":"none"}}),this._onRewatch==null&&(this._onRewatch=function(){return b.onRewatch.apply(b,arguments)}),a.elem.bind(this.rewatchElem,"click",this._onRewatch),this.elem.appendChild(this.rewatchElem)},c.prototype.injectSkipElem=function(){var b=this;return this.skipElem&&a.elem.remove(this.skipElem),this.skipElem=document.createElement("div"),this.skipElem=a.elem.fromObject({id:""+this.uuid+"_skip","class":"wistia_postroll_skip",title:"Skip",style:{display:this.params.allowSkip?"block":"none"}}),this._onSkip==null&&(this._onSkip=function(){return b.onSkip.apply(b,arguments)}),a.elem.bind(this.skipElem,"click",this._onSkip),this.elem.appendChild(this.skipElem)},c.prototype.refreshFontFaceCss=function(){var b,c,d=this;return c=a.css(this._fontFaceCss()),b=document.createElement("div"),b.style.display="block",b.style.fontSize="12px",b.style.fontFamily="WistiaOpenSans",b.style.fontWeight=300,b.style.position="absolute",b.style.left="-99999em",b.innerHTML=".",a.elem.
append(document.body,b),a.timeout(""+this.uuid+".postRoll-v1.refresh_font_face",function(){return b.style.fontWeight=600,a.timeout(""+d.uuid+".postRoll-v1.refresh_font_face",function(){return a.elem.remove(b),a.elem.remove(c)},500)},500)},c.prototype.close=function(){return a.elem.remove(this.elem),this.elem=null,this.video.suppressPlay(!1)},c.prototype.remove=function(b){return b==null&&(b={}),this.unbindAll(),a.clearTimeouts(""+this.video.uuid+"."+this.pluginName+"."+this.uuid),a.elem.remove(this.elem),c.__super__.remove.call(this,b)},c.prototype.unbindAll=function(){this._show&&this.video.removeReadyFn(this._show),this._show&&this.video.unbind("end",this._show),this._show&&this.video.unbindOnCrossTime(this._show);if(this._closeOnTimechange)return this.video.unbind("timechange",this._closeOnTimechange)},c.prototype.onConversion=function(){var b;return b=a.obj.merge({converted:!0,link:this.params.link},this._conversionOpportunityData()),this.video.trigger("conversion-postRoll",b),this.video._tracker.logConversionOpportunity(b)},c.prototype.onSkip=function(){return this.unbindAll(),this.close(),this.NUMBER_TIME_REGEXP.test(this.params.time)?this.video.resume({time:this.params.time,state:"playing"}):this.video.resume({state:"playing"}),!1},c.prototype.onRewatch=function(){return this.close(),this.video.resume({time:0,state:"playing"}),!1},c.prototype.updateText=function(a){var b,c;this.params.text=a.replace(/\<br\/\>/g,"\n").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\n/g,"<br/>");if(!(c=document.getElementById(""+this.uuid+"_text")))return this.show();c.innerHTML=this.params.text,this.fit();if(b=document.getElementById(""+this.uuid+"_image"))return b.setAttribute("alt",this.params.text)},c.prototype.updateUrl=function(a){var b;return this.params.url=a,(b=document.getElementById(""+this.uuid+"_link"))?b.setAttribute("href",a):this.show()},c.prototype.updateImage=function(a){var b;return this.params.image=a,(b=document.getElementById(""+this.uuid+"_image"))?(b.setAttribute("src",a),this.fit()):this.show()},c.prototype.updateRaw=function(b){var c,d,e=this;this.params.cssTags=a.util.cssTags(b),this.params.scriptTags=a.util.scriptTags(b),this.params.raw=a.util.removeCssTags(a.util.removeScriptTags(b)),d=document.getElementById(""+this.uuid+"_raw"),c=document.getElementById(""+this.uuid+"_centered_content");if(!d||!c)return this.show();c.innerHTML=this.params.raw,a.plugin._allow3rdParty(this.video)||a.elem.stripEventAttributes(c),this.fit();if(a.plugin._allow3rdParty(this.video)&&this.params.scriptTags)return a.util.execScriptTags(this.params.scriptTags,function(){return e.fit()}),a.util.execCssTags(this.params.cssTags,function(){return e.fit()})},c.prototype.showRewatch=function(){var a;return this.params.rewatch=!0,(a=document.getElementById(""+this.uuid+"_rewatch"))!=null?a.style.display="block":void 0},c.prototype.hideRewatch=function(){var a;return this.params.rewatch=!1,(a=document.getElementById(""+this.uuid+"_rewatch"))!=null?a.style.display="none":void 0},c.prototype._conversionOpportunityData=function(){var a;return this.params.time==="end"?a=this.video.duration():this.params.time==="before"?a=0:a=this.params.time,{co_key:this.params.conversionOpportunityKey,co_type:this.params.conversionType,time:a}},c.prototype.baseCtaDomElems=function(){return this.params.raw?a.elem.fromObject({id:""+this.uuid+"_raw",childNodes:[{id:""+this.uuid+"_centered_content",innerHTML:this.params.raw}]}):this.params.link&&this.params.image&&this.params.text?a.elem.fromObject({tagName:"a",href:this.params.link,id:""+this.uuid+"_link",target:"_blank",childNodes:[{tagName:"img",id:""+this.uuid+"_image",alt:this.params.text,src:this.params.image}]}):this.params.link&&this.params.text?a.elem.fromObject({tagName:"a",href:this.params.link,id:""+this.uuid+"_link",target:"_blank",childNodes:[{tagName:"span",id:""+this.uuid+"_text",innerHTML:this.params.text}]}):this.params.image&&this.params.text?a.elem.fromObject({id:""+this.uuid+"_centered_content",childNodes:[{id:""+this.uuid+"_image",tagName:"img",src:this.params.image}]}):this.params.image&&this.params.link?a.elem.fromObject({tagName:"a",href:this.params.link,id:""+this.uuid+"_link",target:"_blank",childNodes:[{tagName:"img",id:""+this.uuid+"_image",src:this.params.image}]}):this.params.image?a.elem.fromObject({id:""+this.uuid+"_centered_content",childNodes:[{tagName:"img",id:""+this.uuid+"_image",src:this.params.image}]}):this.params.text?a.elem.fromObject({id:""+this.uuid+"_centered_content",childNodes:[{tagName:"span",id:""+this.uuid+"_text",innerHTML:this.params.text}]}):a.elem.fromObject({id:""+this.uuid+"_centered_content"})},c.prototype._fontFaceCss=function(){return"@font-face {\nfont-family: 'WistiaOpenSans';\nfont-style: normal;\nfont-weight: 300;\nsrc: local('Open Sans Light'), local('OpenSans-Light'), url("+a.proto()+"//"+a.remote.embedHost()+"/fonts/WistiaOpenSansLight.woff) format('woff');\n}\n@font-face {\nfont-family: 'WistiaOpenSans';\nfont-style: normal;\nfont-weight: 600;\nsrc: local('Open Sans Semibold'), local('OpenSans-Semibold'), url("+a.proto()+"//"+a.remote.embedHost()+"/fonts/WistiaOpenSansSemiBold.woff) format('woff');\n}"},c.prototype._css=function(){return""+this._fontFaceCss()+"\n#"+this.uuid+" {\nbackground-image: radial-gradient(farthest-corner, rgba(0,0,0,.05), rgba(0,0,0,.2), rgba(0,0,0,0.9));\ncursor:default;\nopacity: 0;\nz-index: 1;\n}\n#"+this.uuid+".visible {\nopacity: 1;\n-webkit-transition: opacity .7s ease-in-out;\n-moz-transition: opacity .7s ease-in-out;\n-o-transition: opacity .7s ease-in-out;\n-ms-transition: opacity .7s ease-in-out;\ntransition: opacity .7s ease-in-out;\n}\n#"+this.uuid+"_centered_content {\n"+(this.params.style.color?"color:"+this.params.style.color+";":"")+"\ndisplay:inline-block;\n*display:inline;\noverflow:hidden;\nposition:relative;\nvertical-align:top;\nwidth:100%;\nzoom:1;\n-webkit-font-smoothing: antialiased;\n}\n#"+this.uuid+"_text {\ndisplay: block;\nmargin: auto;\nwidth: 80%;\n}\n#"+this.uuid+"_link, "+this.uuid+"_raw {\n"+(this.params.style.color?"color:"+this.params.style.color+";":"")+"\ndisplay:block;\nposition:relative;\ntext-decoration:none;\n-webkit-font-smoothing: antialiased;\n}\n#"+this.uuid+"_link:hover {\nbackground:rgba(255,255,255,.14);\n}\n#"+this.uuid+"_image {\nborder:0;\nvertical-align:top;\n}\n#"+this.uuid+"_rewatch {\nbackground:url("+a.proto()+"//"+a.remote.embedHost()+"/assets/images/turnstile/rewatch.png) no-repeat 0 0;\nbottom:15px;\ncursor:pointer;\nheight:29px;\nfilter:alpha(opacity=80);\nleft:19px;\nopacity:.8;\nposition:absolute;\nwidth:33px;\n}\n#"+this.uuid+"_rewatch:hover {\nfilter:alpha(opacity=100);\nopacity:1;\n}\n#"+this.uuid+"_skip {\nbackground:url("+a.proto()+"//"+a.remote.embedHost()+"/assets/images/turnstile/skip.png) no-repeat 0 0;\nbottom:15px;\ncursor:pointer;\ndisplay:block;\nheight:24px;\nfilter:alpha(opacity=80);\nopacity:.8;\nposition:absolute;\nright:19px;\nwidth:57px;\n}\n#"+this.uuid+"_skip:hover {\nfilter:alpha(opacity=100);\nopacity:1;\n}"},c}(a.Plugin.Base),a.plugin.postRoll=function(b,c){return a.plugin._init("postRollV1",b,c)};return a.plugin("postRoll-v1",a.plugin.postRoll)})(Wistia);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a){return a.Plugin.CaptionsV1=function(b){function c(b,d){var e=this;this.video=b,this.options=d!=null?d:{},this._freezeOuterScroll=__bind(this._freezeOuterScroll,this),this._removeCurrentLine=__bind(this._removeCurrentLine,this),this._repositionCcElem=__bind(this._repositionCcElem,this),this._showCaptionsContainerElem=__bind(this._showCaptionsContainerElem,this),this._hideCaptionsContainerElem=__bind(this._hideCaptionsContainerElem,this),this._hideCcButton=__bind(this._hideCcButton,this),this._showCcButton=__bind(this._showCcButton,this),this._toggleCcButtonVisibility=__bind(this._toggleCcButtonVisibility,this),this._fitOnResize=__bind(this._fitOnResize,this),this._clickCcButton=__bind(this._clickCcButton,this),this._hideOnMouseOut=__bind(this._hideOnMouseOut,this),this._buildCaptionsList=__bind(this._buildCaptionsList,this),this._setAndShowCaptionsFromEvent=__bind(this._setAndShowCaptionsFromEvent,this),this.insertCaptions=__bind(this.insertCaptions,this),this._setupIosTracks=__bind(this._setupIosTracks,this),c.__super__.constructor.apply(this,arguments),this.pluginName="captions-v1",this.uuid=a.seqId(),this.options=a.extend({onByDefault:!0},this.options),this.fetched=new a.StopGo,this.captions=[],this.currentLanguage=null,this._currentCaptionTrack=null,this._captionsListVisible=!1,this._setupCaptionContainer(),this._setupCcButton(),this._refreshCss(),this._unbindEvents(),this._bindEvents(),this._showElements(),this.video.hasData(function(){return e._fetchCaptionsData()}),this.offEl=this._captionListing(0,"off","Off"),this.fetched(function(){return e._buildCaptionsList(),e._setDefaultLanguage(e.preferredLanguages),e.options.onByDefault?e.turnOn():e.turnOff()}),this.register(this),this._tracker=this.video.tracker}return __extends(c,b),c.prototype._captionsEndpoint=function(){return""+Wistia.proto()+"//"+a.remote.appHost()+"/embed/captions/"+this.video.hashedId()+".json"},c.prototype._fetchCaptionsData=function(b){var c=this;return a.jsonp.get(this._captionsEndpoint(),{},function(a){return a.error?(typeof console!="undefined"&&console!==null&&console.log(a.error),c.hide(),c.fetched(!1)):(c.captions=a.captions,c.preferredLanguages=a.preferred_languages,c.fetched(!0))})},c.prototype._setupIosTracks=function(b){var c,d=this;if(this.video.embedType==="html5"&&a.detect.ios.version>0){if((c=this.video.elem())!=null?!c.textTracks:!void 0)return;return this._setupIosForReal==null&&(this._setupIosForReal=function(){var a,c,e,f;d.video._impl.wipeAllTextTrackCues(),f=d.captions;for(c=0,e=f.length;c<e;c++)a=f[c],d.video._impl.updateTextTrack(a);if(d.options.onByDefault&&b&&!d.video._impl.hasVisibleTrack())return d.video._impl.selectTextTrack(b)}),this.video._impl._currentAsset.muxed_subtitles?this.video._impl.wipeAllTextTrackCues():this._setupIosForReal(),this._onTextTrackChange==null&&(this._onTextTrackChange=function(){var b,c,e,f,g;if(d._blockTextTrackChange)return;d._blockTextTrackChange=!0;if(d.video._impl.hasForcedTrack())return;g=d.video.elem().textTracks;for(e=0,f=g.length;e<f;e++)c=g[e],c.cues&&!d.hasLanguage(c.language)?d.video._impl.wipeTextTrackCuesWithNote(c):c.language&&((b=d.captionForLanguage(c.language))?d.video._impl.updateTextTrack(b):d.video._impl.wipeTextTrackCuesWithNote(c)),d.video._impl.tapTextTrack(c);return a.timeout(""+d.video.uuid+".unblock_text_track_change",function(){return d._blockTextTrackChange=!1},2e3)}),this._debounceOnTextTrackChange==null&&(this._debounceOnTextTrackChange=function(){return a.timeout(""+d.video.uuid+".debounce_text_track_change",d._onTextTrackChange)}),a.elem.rebind(this.video.elem().textTracks,"change",this._debounceOnTextTrackChange)}return},c.prototype.hasLanguage=function(a){return!!this.captionForLanguage(a)},c.prototype.captionForLanguage=function(a){var b,c,d,e;e=this.captions;for(c=0,d=e.length;c<d;c++){b=e[c];if(b.language===a)return b}return null},c.prototype._showElements=function(){return this._toggleCcButtonVisibility()},c.prototype.turnOn=function(){return this._on=!0,this._hideAllLineVisibility(),a.elem.addClass(this.ccElem,"wistia_on"),this.ccElem.setAttribute("title","Turn off captions"),this._toggleCaptionChecked(this._currentCaptionElement()),this._bindLines(),this._setAllLineVisibility(),this},c.prototype.turnOff=function(){return this._on=!1,a.elem.removeClass(this.ccElem,"wistia_on"),this.ccElem.setAttribute("title","Turn on captions"),this._toggleCaptionChecked(this.offEl),this._unbindLines(),this._hideAllLineVisibility(),this},c.prototype.remove=function(a){return a==null&&(a={}),this._unbindEvents(),this._unbindLines(),this._destroyCaptionsList(),c.__super__.remove.call(this,a)},c.prototype.insertCaptions=function(a){return this.lines=a},c.prototype.hide=function(){var a;return(a=this.ccElem)!=null?a.style.display="none":void 0},c.prototype.show=function(){var a;return(a=this.ccElem)!=null?a.style.display="block":void 0},c.prototype._setCaptions=function(b){if(a.detect.iphone||a.detect.ipad)return;if(b!=null)return this._currentCaptionTrack=b,this.currentLanguage=this._currentCaptionTrack.language,this.insertCaptions(this._currentCaptionTrack.hash.lines),this._tracker.logCaptionSelection(this._captionSelectedData(this._currentCaptionTrack))},c.prototype._setDefaultLanguage=function(a){var b,c,d,e,f,g=this;f=[];for(d=0,e=a.length;d<e;d++){c=a[d];if(b=this._findByLanguage(this.captions,c)){this._setCaptions(b),this.video.embedded(function(){return g._setupIosTracks(b)});break}this._setCaptions(this.captions[0]),f.push(this.video.embedded(function(){return g._setupIosTracks(b)}))}return f},c.prototype._setAndShowCaptionsFromEvent=function(a){var b,c,d;return b=a.currentTarget,b!==this.offEl?(c=parseInt(b.getAttribute("data-id")),d=this._findById(this.captions,c),this._setCaptions(d),this.turnOn()):(this.turnOff(),this._tracker.logCaptionSelection(this._captionsTurnedOffData()))},c.prototype._setupCaptionContainer=function(){return this.lineWrapper=document.createElement("div"),this.lineWrapper.id=""+this.video.uuid+"_captions_line_wrapper",this.lineWrapper.className="wistia_captions_line_wrapper",this.video.grid.bottom_inside.appendChild(this.lineWrapper),this.captionsElem=document.createElement("div"),this.captionsElem.id=""+this.video.uuid+"_captions",this.captionsElem.className="wistia_captions",this.lineWrapper.appendChild(this.captionsElem)},c.prototype._setupCcButton=function(){return this.ccElem=document.createElement("div"),this.ccElem.id=""+this.video.uuid+"_cc_button",this.ccElem.className="wistia_cc_button wistia_hidden",this.ccElem.setAttribute("title","Turn on captions"),this.ccElem.innerHTML="CC",this.video.grid.top_inside.appendChild(this.ccElem)},c.prototype._captionsListContainer=function(){var a;return a=document.createElement("div"),a.id=""+this.video.uuid+"_captions_list_container",a.className="wistia_captions_list_container wistia_hidden",a},c.prototype._captionsListSpacer=function(){var a;return a=document.createElement("div"),a.id=""+this.video.uuid+"_captions_list_spacer",a},c.prototype._captionsList=function(){var a,b,c,d,e,f;this.captionsListEl=document.createElement("div"),this.captionsListEl.id=""+this.video.uuid+"_captions_list",this.captionsListEl.className="wistia_captions_list",this.captionsListEl.appendChild(this.offEl),f=this.captions;for(d=0,e=f.length;d<e;d++)a=f[d],b=a.english_name.toLowerCase(),c=a.language===this.currentLanguage,this.captionsListEl.appendChild(this._captionListing(a.id,b,a.native_name,c));return this.captionsListEl},c.prototype._captionListing=function(a,b,c,d){var e,f,g;return d==null&&(d=!1),f=document.createElement("div"),f.className=""+this.video.uuid+"_caption_li",f.setAttribute("data-id",a),g=document.createElement("div"),g.id=""+this.video.uuid+"_"+b+"_caption",g.className=""+this.video.uuid+"_caption_name",g.innerHTML=c,e=document.createElement("div"),d?e.className=""+this.video.uuid+"_caption_check":e.className=""+this.video.uuid+"_caption_check wistia_hidden",f.appendChild(e),f.appendChild(g),f},c.prototype._createLineElem=function(a){var b,c;b=document.createElement("div"),b.id=this._lineId(a),b.className="wistia_caption_line";if((c=this._currentCaptionTrack)!=null?c.right_to_left:void 0)b.dir="rtl";return b.innerHTML=a.text.join("<br/>"),b},c.prototype._buildCaptionsList=function(){return this.captionsListContainerEl=this._captionsListContainer(),this.captionsListContainerEl.appendChild(this._captionsListSpacer()),this.captionsListContainerEl.appendChild(this._captionsList()),this.video.grid.top_inside.appendChild(this.captionsListContainerEl),this._bindCaptionsList()},c.prototype._destroyCaptionsList=function(){return this._unbindCaptionsList(),a.elem.remove(this.ccElem),a.elem.remove(this.captionsListContainerEl),a.elem.remove(this.captionsElem),a.elem.remove(this.lineWrapper),a.elem.remove(this.lineElem)},c.prototype._bindCaptionsList=function(){var b,c,d,e;if(!this.captionsListEl)return;e=this.captionsListEl.children;for(c=0,d=e.length;c<d;c++)b=e[c],a.elem.bind(b,"click",this._setAndShowCaptionsFromEvent);return a.elem.bind(this.captionsListEl,"mouseleave",this._hideCaptionsContainerElem),a.elem.bind(this.captionsListEl,"mousewheel",this._freezeOuterScroll)},c.prototype._unbindCaptionsList=function(){var b,c,d,e;if(!this.captionsListEl)return;e=this.captionsListEl.children;for(c=0,d=e.length;c<d;c++)b=e[c],a.elem.unbind(b,"click",this._setAndShowCaptionsFromEvent);return a.elem.unbind(this.captionsListEl,"mouseleave",this._hideCaptionsContainerElem),a.elem.unbind(this.captionsListEl,"mousewheel",this._freezeOuterScroll)},c.prototype._bindEvents=function(){if(a.detect.iphone||a.detect.ipad)return;return this.video.bind("enter-fullscreen",this._toggleCcButtonVisibility),this.video.bind("cancel-fullscreen",this._hideOnMouseOut),a.elem.bind(this.video.grid.main,"mousemove",this._toggleCcButtonVisibility),a.elem.bind(this.video.grid.main,"mouseout",this._hideOnMouseOut),a.elem.bind(this.ccElem,"click",this._clickCcButton),this.video.bind("play",this._repositionCcElem),this.video.bind("afterrebuild",this._toggleCcButtonVisibility),this.video.bind("afterrebuild",this._removeCurrentLine),this.video.bind("widthchange",this._fitOnResize),this.video.bind("heightchange",this._fitOnResize),this.video.bind("show-controls",this._showCcButton),this.video.bind("hide-controls",this._hideCcButton)},c.prototype._unbindEvents=function(){this.video.elem()&&this._onTextTrackChange&&a.elem.unbind(this.video.elem().textTracks,"change",this._onTextTrackChange);if(a.detect.iphone||a.detect.ipad)return;return this.video.unbind("enter-fullscreen",this._toggleCcButtonVisibility),this.video.unbind("cancel-fullscreen",this._hideOnMouseOut),a.elem.unbind(this.video.grid.main,"mousemove",this._toggleCcButtonVisibility),a.elem.unbind(this.video.grid.main,"mouseout",this._hideOnMouseOut),a.elem.unbind(this.ccElem,"click",this._clickCcButton),this.video.unbind("play",this._repositionCcElem),this.video.unbind("afterrebuild",this._toggleCcButtonVisibility),this.video.unbind("afterrebuild",this._removeCurrentLine),this.video.unbind("widthchange",this._fitOnResize),this.video.unbind("heightchange",this._fitOnResize),this.video.unbind("show-controls",this._showCcButton),this.video.unbind("hide-controls",this._hideCcButton)},c.prototype._hideOnMouseOut=function(a){if(!this._shouldShowCcButton(a))return this._hideCcButton(),this._hideCaptionsContainerElem()},c.prototype._clickCcButton=function(a){return this._toggleCaptionsListVisibility(),!1},c.prototype._fitOnResize=function(){var b=this;return a.timeout(""+this.video.uuid+".captions-v1.fit_on_resize",function(){return b._refreshCss(),b.fit()},30)},c.prototype._bindLine=function(a){var b=this;return this._unbindLine(a),a.fn=function(c){return b._setLineVisibility(a,c)},this.video.bind("timechange",a.fn)},c.prototype._unbindLine=function(a){if(a.fn)return this.video.unbind("timechange",a.fn)},c.prototype._bindLines=function(){var a,b,c,d,e;if(this.lines){d=this.lines,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push(this._bindLine(a));return e}},c.prototype._unbindLines=function(){var a,b,c,d,e;if(this.lines){d=this.lines,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push(this._unbindLine(a));return e}},c.prototype._lineId=function(a){return(""+this.video.uuid+"_line_"+a.start+"_"+a.end).replace(/\./g,"_")},c.prototype._lineAtTime=function(a){var b,c,d,e;e=this.lines;for(c=0,d=e.length;c<d;c++){b=e[c];if(b.start<=a&&a<b.end)return b}return null},c.prototype._currentLine=function(){return this._lineAtTime(this.video.time())},c.prototype._toggleCaptionsListVisibility=function(){return a.elem.hasClass(this.captionsListContainerEl,"wistia_hidden")?this._showCaptionsContainerElem():this._hideCaptionsContainerElem()},c.prototype._toggleCaptionChecked=function(b){var c,d,e,f,g;if(b==null)return;d=b.children[0],g=this.captionsListEl.children;for(e=0,f=g.length;e<f;e++)c=g[e],a.elem.addClass(c.children[0],"wistia_hidden");return a.elem.hasClass(d,"wistia_hidden")?a.elem.removeClass(d,"wistia_hidden"):a.elem.addClass(d,"wistia_hidden")},c.prototype._toggleCcButtonVisibility=function(a){var b;return(typeof (b=this.video).inFullscreen=="function"?b.inFullscreen():void 0)?this.video._controlsVisible?this._showCcButton():this._hideCcButton():this._shouldShowCcButton(a)?this._showCcButton():this._hideCcButton()},c.prototype._showCcButton=function(){var b=this;return this._repositionCcElem(),a.elem.addClass(this.ccElem,"wistia_fade_transition"),a.elem.removeClass(this.ccElem,"wistia_hidden"),a.timeout(""+this.video.uuid+".captions-v1.unfade",function(){return a.elem.removeClass(b.ccElem,"wistia_fade_transition")},200)},c.prototype._hideCcButton=function(){var b=this;return this.captionsListEl&&a.elem.addClass(this.captionsListEl,"wistia_hidden"),a.elem.addClass(this.ccElem,"wistia_fade_transition"),a.elem.addClass(this.ccElem,"wistia_hidden"),a.timeout(""+this.video.uuid+".captions-v1.unfade",function(){return a.elem.removeClass(b.ccElem,"wistia_fade_transition")},200)},c.prototype._hideCaptionsContainerElem=function(){var b=this;return a.elem.hasClass(this.captionsListContainerEl,"wistia_hidden")||(a.elem.addClass(this.captionsListContainerEl,"wistia_fade_transition"),a.elem.addClass(this.captionsListContainerEl,"wistia_hidden"),a.timeout(""+this.video.uuid+".captions-v1.unfade",function(){return a.elem.removeClass(b.captionsListContainerEl,"wistia_fade_transition")},2e3)),this._captionsListVisible=!1},c.prototype._showCaptionsContainerElem=function(){var b=this;return a.elem.hasClass(this.captionsListContainerEl,"wistia_hidden")&&(a.elem.addClass(this.captionsListContainerEl,"wistia_fade_transition"),a.elem.removeClass(this.captionsListContainerEl,"wistia_hidden"),a.timeout(""+this.video.uuid+".captions-v1.unfade",function(){return a.elem.removeClass(b.captionsListContainerEl,"wistia_fade_transition")},2e3)),this._captionsListVisible=!0},c.prototype._repositionCcElem=function(a){var b,c,d;this.ccElem.style.top="";if(((b=this.video.data)!=null?(c=b.media)!=null?c.branding:void 0:void 0)||((d=this.video.params)!=null?d.branding:void 0))if(!this.video.params.controlsVisibleOnLoad||this.video.state()!=="beforeplay")return this.ccElem.style.top="24px"},c.prototype._shouldShowCcButton=function(b){return a.detect.iphone||a.detect.ipoad?!1:this.video.params.controlsVisibleOnLoad&&this.video.state()==="beforeplay"?!0:!this.video.params.controlsVisibleOnLoad&&this.video.state()==="beforeplay"?!1:b&&!a.elem.containsOffset(this.video.grid.main,b.pageX,b.pageY)?!1:b?!0:!1},c.prototype._showLine=function(b){return this.lineElem&&a.elem.remove(this.lineElem),this.lineElem=this._createLineElem(b),this.captionsElem.appendChild(this.lineElem),b.text.join("<br/>").replace(/\s+/g,"")===""?(this.lineElem.style.display="none",b.visible=!1):b.visible=!0,b.visible=!0},c.prototype._hideLine=function(b){var c;return c=document.getElementById(this._lineId(b)),c&&a.elem.remove(c),b.visible=!1},c.prototype._hideAllLineVisibility=function(){var a,b,c,d,e;if(this.lines){d=this.lines,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push(this._hideLine(a));return e}},c.prototype._setAllLineVisibility=function(){var a,b,c,d,e,f;b=this.video.time();if(this.lines){e=this.lines,f=[];for(c=0,d=e.length;c<d;c++)a=e[c],f.push(this._setLineVisibility(a,b));return f}},c.prototype._setLineVisibility=function(a,b){if(this._on){b==null&&(b=this.video.time());if(a.start<=b&&b<a.end){if(!a.visible)return this._showLine(a)}else if(a.visible)return this._hideLine(a)}else if(a.visible)return this._hideLine(a)},c.prototype._removeCurrentLine=function(b){return a.elem.remove(this.lineElem),this.lineElem=null},c.prototype._transitionCss=function(a,b){return"-webkit-transition: "+a+" "+b+"s ease-in-out;\n-moz-transition: "+a+" "+b+"s ease-in-out;\n-o-transition: "+a+" "+b+"s ease-in-out;\n-ms-transition: "+a+" "+b+"s ease-in-out;\ntransition: "+a+" "+b+"s ease-in-out;"},c.prototype._refreshCss=function(){var b,c;return a.elem.remove(this.styleElem),b=(new a.Color(this._bgColor())).alpha(.8),c=new a.Color(this._fontColor()),this.styleElem=a.util.addInlineCss(this.captionsElem,"#"+this.video.uuid+"_captions_line_wrapper {\nbottom: 38px;\nheight: 0;\nleft: 0;\npointer-events: none;\nposition: absolute;\nwidth: 100%;\n}\n#"+this.video.uuid+"_captions {\nbottom: 0;\nleft: 0;\ntext-align: center;\nposition: absolute;\nwidth: 100%;\n}\n#"+this.video.uuid+"_captions .wistia_caption_line, #"+this.video.uuid+"_captions_notification {\nbackground-color: "+b.toRgba()+";\ncolor: "+this._fontColor()+";\ndisplay: inline-block;\n*display: inline;\nfilter: "+b.toIeGradient()+";\nfont-family: Helvetica, Arial, Sans-Serif;\nfont-size: "+this._fontSize()+"px;\nline-height: 1.4em;\nmax-width: 80%;\npadding: .25em .6em;\ntext-align: center;\nvertical-align: top;\nzoom: 1;\n-webkit-font-smoothing: antialiased;\n}\n#"+this.video.uuid+"_cc_button.wistia_hidden {\nfilter: alpha(opacity=0);\nopacity: 0;\n}\n#"+this.video.uuid+"_cc_button {\nbackground: transparent url("+a.proto()+"//"+a.remote.embedHost()+"/assets/images/player-controls-CC-2x.png);\ncursor: pointer;\n"+(a.detect.iphone||a.detect.ipad||a.oldandroid?"display:none;":"")+"\nfilter: alpha(opacity=40);\nbackground-size: 73px;\nheight: 40px;\nleft: -5px;\nline-height:32px;\nopacity: .6;\nposition: absolute;\ntext-align: center;\ntext-indent: -999999em;\ntop: -1px;\nwidth: 70px;\nz-index: 2;\n-moz-user-select: none;\n-ms-user-select: none;\n-webkit-user-select: none;\n-webkit-touch-callout: none;\n-webkit-backface-visibility: hidden;\n}\n#"+this.video.uuid+"_cc_button.wistia_fade_transition {\n"+this._transitionCss("opacity",.2)+"\n}\n#"+this.video.uuid+"_cc_button.wistia_hidden {\nfilter: alpha(opacity=0);\nopacity: 0;\n}\n#"+this.video.uuid+"_cc_button:hover {\nfilter: alpha(opacity=50);\nopacity: 1;\n}\n#"+this.video.uuid+"_cc_button.wistia_on {\nfilter: alpha(opacity=80);\nopacity: 1;\n}\n#"+this.video.uuid+"_cc_button.wistia_on:hover {\nfilter: alpha(opacity=90);\nopacity: 1;\n}\n#"+this.video.uuid+"_captions_list_container {\nbackground-color: rgba(0,0,0, 0.3);\nfont-family: Helvetica, Arial, Sans-Serif;\nmargin-bottom: 32px;\noverflow: hidden;\nposition: absolute;\nwidth: 130px;\nz-index: 1;\n-moz-user-select: none;\n-ms-user-select: none;\n-webkit-user-select: none;\n-webkit-touch-callout: none;\n}\n#"+this.video.uuid+"_captions_list_container.wistia_hidden {\nfilter: alpha(opacity=0);\nopacity: 0;\ncursor: default;\n}\n#"+this.video.uuid+"_captions_list_spacer {\ndisplay: block;\nheight: 40px;\n}\n#"+this.video.uuid+"_captions_list {\ncursor: pointer;\ndisplay: block;\nlist-style: none;\nmax-height: "+this._captionsListHeight()+"px;\noverflow-y: scroll;\npadding-left: 0;\nwidth: 155px;\nmargin: 0;\nmargin-top: 5px;\n}\n#"+this.video.uuid+"_captions_list_container.wistia_fade_transition {\n"+this._transitionCss("opacity",.2)+"\n}\n#"+this.video.uuid+"_captions_list ."+this.video.uuid+"_caption_li {\ncolor: #ffffff;\nmargin: 0px;\npadding: 10px 0px 10px 0px;\nwidth: 100%;\n}\n#"+this.video.uuid+"_captions_list ."+this.video.uuid+"_caption_li:hover {\nbackground-color: rgba(0,0,0, 0.6);\n}\n#"+this.video.uuid+"_captions_list ."+this.video.uuid+"_caption_name {\ndisplay: inline-block;\nletter-spacing: 1px;\nlist-style: none;\n}\n#"+this.video.uuid+"_captions_list ."+this.video.uuid+"_caption_check {\ndisplay: inline-block;\nbackground: transparent url("+a.proto()+"//"+a.remote.embedHost()+"/assets/images/white-check-2x.png);\nbackground-repeat: no-repeat;\nbackground-size: 14px;\nheight: 13px;\nmargin: 0px 10px 0px 13px;\nwidth: 15px;\n}\n#"+this.video.uuid+"_captions_list ."+this.video.uuid+"_caption_check.wistia_hidden{\nfilter: alpha(opacity=0);\nopacity: 0;\n}")},c.prototype._bgColor=function(){return this.options.invertText?"#ffffff":"#000000"},c.prototype._fontColor=function(){return this.options.invertText?"#000000":"#ffffff"},c.prototype._fontSize=function(){return Math.min(Math.max(14,Math.round(this.video.videoHeight()/23)),36)},c.prototype._ccButtonOffset=function(){return this.video.data.media.branding||this.video.params.branding?{left:4,top:28}:{left:4,top:4}},c.prototype._captionsListHeight=function(){return this.video.videoHeight()-77},c.prototype._findById=function(a,b){var c,d,e;for(d=0,e=a.length;d<e;d++){c=a[d];if(c.id===b)return c}},c.prototype._findByLanguage=function(a,b){var c,d,e;for(d=0,e=a.length;d<e;d++){c=a[d];if(c.language===b)return c}},c.prototype._currentCaptionElement=function(){var a;return this._findCaptionElementById((a=this._currentCaptionTrack)!=null?a.id:void 0)},c.prototype._findCaptionElementById=function(a){var b,c,d,e;if(a==null)return null;c=this.captionsListEl.children;for(d=0,e=c.length;d<e;d++){b=c[d];if(b.getAttribute("data-id")===""+a)return b}},c.prototype._freezeOuterScroll=function(a){var b;if(this._captionsListVisible)return a.preventDefault(),b=a.currentTarget,b.scrollTop+=a.deltaY},c.prototype._captionSelectedData=function(a){var b;return b={caption_key:a.key,language:a.language,time:this.video.time(),enabled:!0},b},c.prototype._captionsTurnedOffData=function(){var a;return a={caption_key:this._currentCaptionTrack.key,language:this.currentLanguage,time:this.video.time(),enabled:!1},a},c}(Wistia.Plugin.Base),a.plugin("captions-v1",function(b,c){return new a.Plugin.CaptionsV1(b,c)})})(Wistia);var __hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a){var b;if((b=a.plugin)!=null?!b.transcript:!void 0)a.Plugin.TranscriptV2=function(b){function c(){c.__super__.constructor.call(this),this.pluginName="transcript-v2",this.loaded=new a.StopGo}return __extends(c,b),c.prototype.remove=function(a){var b;return a==null&&(a={}),this.video.hasTranscript=!1,this.elem!=null&&(b=this.elem.parentNode)!=null&&(b.removeChild(this.elem),this.elem=null),window.P3&&P3.JQuery&&P3.JQuery("#p3-transcript-container").remove(),window.P3&&this.p3Inst()&&P3.clear_instance(this.p3Inst().player_reference),c.__super__.remove.call(this,a)},c.prototype.fit=function(){var b,d;c.__super__.fit.call(this),b=75;if(this.params.container){if(window.P3&&P3.JQuery!=null)return P3.JQuery(this.elem).add("#"+this.uuid+" .p3-transcript-container").css({height:this.params.height,width:this.params.width}),this.elem&&P3.JQuery("#"+this.elem.id+"_content").width(this.params.width),P3.JQuery("#"+this.uuid+" .p3-transcript-main").css({height:parseInt(this.params.height,10)-b,width:this.params.width})}else if(/left|right/.test(this.params.position)){d=a.elem.height(this.video.grid.main);if(window.P3&&P3.JQuery!=null)return P3.JQuery(this.elem).add("#"+this.uuid+" .p3-transcript-container").css({height:d,width:this.params.width}),P3.JQuery("#"+this.uuid+" .p3-transcript-main").css({height:d-b,width:this.params.width})}else if(window.P3&&P3.JQuery!=null)return P3.JQuery(this.elem).add("#"+this.uuid+" .p3-transcript-container").css({height:this.params.height,width:P3.JQuery(this.video.grid.main).width()}),P3.JQuery("#"+this.uuid+" .p3-transcript-main").css({height:parseInt(this.params.height,10)-b,width:this.params.width})},c.prototype.changePosition=function(b){return this.params.position=b,this.inferWidth(),this.inferHeight(),this.params.container?a.elem.append(document.getElementById(this.params.container),this.elem):a.elem.append(this.video.grid[b],this.elem),this.fit()},c.prototype.inferWidth=function(){return/above|below/.test(this.params.position)?this.params.width="":this.params.width=this.options.width||"275px"},c.prototype.inferHeight=function(){return/left|right/.test(this.params.position)?this.params.height="100%":this.params.height=this.options.height||"200px"},c.prototype.init=function(b,d){var e=this;return c.__super__.init.call(this,b,d),this.params=a.extend({canDownload:!1,canCollapse:!1,scanView:!1,canClip:!1,collapseOnload:!1,canPrint:!0,skin:"frost",logo:!1,container:null,position:"below",uuid:a.seqId("wistia_","_transcript")},this.params),this.video.hasData(function(){var c;return e.inferWidth(),e.inferHeight(),e.video.hasTranscript=!0,e.uuid=e.params.uuid,/^\d+$/.test(e.params.width)?e.params.width+="px":/^\d+$/.test(e.params.height)&&(e.params.height+="px"),e.elem=document.createElement("div"),e.elem.id=e.uuid,e.content=document
.createElement("div"),e.elem.style.width=e.content.style.width=e.params.width,e.elem.style.height=e.content.style.height=e.params.height,e.elem.style.color="#333",e.content.id=""+e.uuid+"_content",e.elem.appendChild(e.content),e.params.container?document.getElementById(e.params.container).appendChild(e.elem):e.video.grid[e.params.position].appendChild(e.elem),a.util.addInlineCss(e.elem,"#"+e.uuid+"{overflow:hidden;}\n#"+e.uuid+" .p3-transcript-container{background:transparent;}\n#"+e.uuid+" .p3-transcript-main span{font-size:13px;}\n#"+e.uuid+" .p3-transcript-bottombar-logo{display:none;}\n#"+e.uuid+" .frost{border:0;}\n.p3-tooltip{"+(e.video.params.rawEmbed?void 0:"display:none;")+"}"),e.video.bind("p3_async_init",function(){return e.video.ready(function(){var a,b,c;c={file_id:e.params.videoId||e.video.data.media.transcript.videoId,platform_integration:!0,player_type:"wistia",transcript:{target:e.content.id,width:e.params.width,height:e.params.height,skin:e.params.skin,can_clip:e.params.canClip,can_print:e.params.canPrint,can_collapse:e.params.canCollapse,collapse_onload:e.params.collapseOnload,can_download:e.params.canDownload,scan_view:e.params.scanView}},b={},a=e.video.elem().id||e.video.elem().name,b[a]=c;if(e.video.embedType==="html5"||e.video.embedType==="romulus")c.html5_container_id=e.video.container.id;return P3.init(b,"UYfa5wZpYDDBCuSOhEVWRBhfg6WteHHy"),e.fit(),e.video.fit(),e.loaded(!0)})}),window.p3_window_wait=!1,window.p3_async_init=function(){var a,c,d;c=Wistia._data.video,d=[];for(a in c)b=c[a],b.hasTranscript?d.push(b.trigger("p3_async_init").unbind("p3_async_init")):d.push(void 0);return d},a.data("p3_load_state")?a.data("p3_load_state")==="loaded"&&e.video.trigger("p3_async_init").unbind("p3_async_init"):(a.data("p3_load_state","loading"),c=document.createElement("script"),c.async=!0,location.protocol==="https:"?c.src="https://s3.amazonaws.com/origin-p3.3playmedia.com/javascripts/p3.js?rand="+Math.random()*4294967296:c.src="http://p3.3playmedia.com/javascripts/p3.js?rand="+Math.random()*4294967296,e.elem.appendChild(c),c.onreadystatechange=c.onload=function(){return a.data("p3_load_state","loaded")}),e.fit(),e.delayedFit=function(){return e.fit()},e.video.bind("widthchange",e.delayedFit),e.video.bind("heightchange",e.delayedFit),e.afterRebuild||(e.afterRebuild=function(){return e.resetHandle()}),e.beforeRemove||(e.beforeRemove=function(){var a;return(a=e.p3Inst().player)!=null?a.stop_tracking():void 0}),e.video.unbind("afterrebuild",e.afterRebuild),e.video.bind("afterrebuild",e.afterRebuild),e.video.unbind("beforeremove",e.beforeRemove),e.video.bind("beforeremove",e.beforeRemove),e.video.bind("enter-fullscreen",function(){return e.elem.style.display="none",e.fit()}),e.video.bind("cancel-fullscreen",function(){return e.elem.style.display="block",e.fit()})}),this.register(this)},c.prototype.p3Inst=function(){var a;return a=this.video.elem().id||this.video.elem().name,P3.find_instance_by_player_reference(a)},c.prototype.resetHandle=function(){var a,b;return(a=this.p3Inst().player)!=null?(b=a["interface"])!=null?b.wistia_player=this.video.elem():void 0:void 0},c}(a.Plugin.Base),a.plugin.transcript=function(b,c){return a.plugin._init("transcriptV2",b,c)};return a.plugin("transcript-v2",a.plugin.transcript)})(Wistia),function(a){a.Kicksend={},a.Kicksend.mailcheck={threshold:3,suggest:function(a,b){a=a.toLowerCase();var c=this.splitEmail(a),d=this.findClosestDomain(c.domain,b);return d?{address:c.address,domain:d,full:c.address+"@"+d}:!1},findClosestDomain:function(a,b){var c,d=99,e=null;for(var f=0;f<b.length;f++){if(a===b[f])return!1;c=this.stringDistance(a,b[f]),c<d&&(d=c,e=b[f])}return d<=this.threshold&&e!==null?e:!1},stringDistance:function(a,b){if(a==null||a.length===0)return b==null||b.length===0?0:b.length;if(b==null||b.length===0)return a.length;var c=0,d=0,e=0,f=0,g=5;while(c+d<a.length&&c+e<b.length){if(a[c+d]==b[c+e])f++;else{d=0,e=0;for(var h=0;h<g;h++){if(c+h<a.length&&a[c+h]==b[c]){d=h;break}if(c+h<b.length&&a[c]==b[c+h]){e=h;break}}}c++}return(a.length+b.length)/2-f},splitEmail:function(a){var b=a.split("@");if(b.length<2)return!1;for(var c=0;c<b.length;c++)if(b[c]==="")return!1;return{domain:b.pop(),address:b.join("@")}}}}(Wistia);var __bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(a){var b;return((b=a.plugin)!=null?b.requireEmail:void 0)==null&&(a.Plugin.RequireEmailV1=function(b){function e(){this.suggestEmail=__bind(this.suggestEmail,this),e.__super__.constructor.call(this),this.pluginName="requireEmail-v1",this.conversionOpportunityType="turnstile",this.openGateAtEnd=null,this.openGateAtTime=null,this.lastTime=0}var c,d;return __extends(e,b),e.prototype.init=function(b,c){var d=this;return e.__super__.init.call(this,b,c),this.params=a.extend({uuid:a.seqId("wistia_","_requireEmail"),time:"before",style:{backgroundColor:"#303030"},firstNameExampleText:"First name",lastNameExampleText:"Last name",emailExampleText:"Your email",topText:"Enter your email address\n to view this video.",bottomText:"",errorColor:"#fff",sectionIndex:0,allowSkip:!1,askName:!1,videoIndex:0,alwaysShow:!1,conversionType:this.conversionOpportunityType,preview:!1},this.params),a.detect.oldandroid&&this.NUMBER_TIME_REGEXP.test(this.params.time)&&(this.params.allowSkip?(this.params.time="end",this.params.allowSkip=!1):this.params.time="before"),this.updateTopText(this.params.topText),this.updateBottomText(this.params.bottomText),this.params.time==="end"&&!this.options.topText?this.updateTopText("Thanks for watching!\n Please enter your email address."):this.options.topText||this.updateTopText("Enter your email address\n to view this video."),this.refreshFontFaceCss(),a._playlist&&(b!=null?b.playlist:void 0)?this.initPlaylist():this.initVideo(b),this.delayedFit=function(){return a.timeout(""+b.uuid+".requireEmail-v1.fit",function(){return d.fit()},50)},b.bind("widthchange",this.delayedFit),b.bind("heightchange",this.delayedFit),this.register(this)},e.prototype.NUMBER_TIME_REGEXP=/^\d+(\.\d*)?$/,e.prototype.savedEmail=function(){return this.video?this.video.email()||a.localStorage([this.video._attrs.pageUrl,"trackEmail"]):null},e.prototype.initPlaylist=function(){var b=this;return this.video=this.playlist.currentVideo(),this.savedEmail()&&!this.params.alwaysShow?(this.playlist.setEmail(this.savedEmail()),this):(this.onResize=function(){return b.playlist.ready(function(){return b.inferParams(),b.refreshCss()})},this.playlist.bind("widthchange",this.onResize),this.playlist.bind("heightchange",this.onResize),this.beforeEmbed=function(a,c){return b.removeFromVideo(),b.shouldShowTurnstile(a,c)&&(!b.savedEmail()||b.params.alwaysShow)?b.playlist.params.videoOptions.suppressPlay=!0:b.playlist.params.videoOptions.suppressPlay=!1},this.playlist.bind("beforeembed",this.beforeEmbed),this.playlistConversionFunc=function(c,d){/(pre|mid|post)-roll/.test(c)&&a.obj.set(b.playlist,"params.videoOptions.trackEmail",d)},this.afterEmbed=function(a,c){return b.video=b.playlist.currentVideo(),b.shouldShowTurnstile(a,c)?(b.initVideo(b.video,b.params),b.playlist.currentVideo().bind("conversion",b.playlistConversionFunc)):b.removeFromVideo()},this.playlist.bind("afterembed",this.afterEmbed),this.video&&(this.beforeEmbed(this.playlist._currentSectionIndex,this.playlist._currentVideoIndex),this.afterEmbed(this.playlist._currentSectionIndex,this.playlist._currentVideoIndex)),this)},e.prototype.shouldShowTurnstile=function(b,c){return a.obj.get(this.playlist,"params.videoOptions.trackEmail")?!1:b>this.params.sectionIndex||b===this.params.sectionIndex&&c>=this.params.videoIndex},e.prototype.initVideo=function(a,b){var c=this;this.inferParams();if(this.video.params.preview)return;if(this.savedEmail()&&!this.params.alwaysShow){this.video.email(this.savedEmail());return}if(this.params.alwaysShow||!this.savedEmail())this.video.bind("emailchange",function(){return c.close()}),this.params.time==="before"&&(a.suppressPlay(!0),a.pause()),this.params.time==="end"&&(this.openGateAtEnd=function(){var a;return c.savedEmail()&&!c.params.alwaysShow?typeof (a=c.target).setEmail=="function"?a.setEmail(c.savedEmail()):void 0:c.open()},a.bind("end",this.openGateAtEnd)),this.NUMBER_TIME_REGEXP.test(this.params.time)&&(this.openGateAtTime==null&&(this.openGateAtTime=function(a){var b;if(c.savedEmail()&&!c.params.alwaysShow){typeof (b=c.target).setEmail=="function"&&b.setEmail(c.savedEmail());return}if(c.NUMBER_TIME_REGEXP.test(c.params.time)&&a>=c.params.time){c.lastTime=a;if(!c.opening&&!c.isOpen())return c.opening=!0,c.close(function(){var a;return c.savedEmail()&&!c.params.alwaysShow?typeof (a=c.target).setEmail=="function"?a.setEmail(c.savedEmail()):void 0:(c.open(),c.opening=!1)})}}),a.rebind("secondchange",this.openGateAtTime)),this.params.time==="before"&&(this.openOnReady=function(){var a;if(c.savedEmail()&&!c.params.alwaysShow)return typeof (a=c.target).setEmail=="function"?a.setEmail(c.savedEmail()):void 0;if(!c.opening&&!c.isOpen())return c.open()},a.suppressPlay(!0),a.cancelFullscreen(),a.ready(this.openOnReady));return this},e.prototype.sanitize=function(b){return a.util.removeCssTags(a.util.removeScriptTags(b.replace(/\<br\s*\/?\>/ig,"\n").replace(/\n/g,"<br/>")))},e.prototype.inferParams=function(){var b,c;if((c=this.options.style)!=null?!c.fontSize:!void 0)this.params.style.fontSize=""+Math.min(60,Math.round(this.video.videoHeight()/10))+"px";return this.params.backgroundColor=new a.Color(this.params.style.backgroundColor),b=this.NUMBER_TIME_REGEXP.test(this.params.time)?1:.82,a.detect.browser.msie&&a.detect.browser.version<9?(this.params.style.backgroundColor="",this.params.style.filter=this.params.backgroundColor.clone().alpha(b).toIeGradient()):this.params.style.backgroundColor=this.params.backgroundColor.clone().alpha(b).toRgba(),this.options.buttonBackground||(this.params.buttonBackground=new a.Color("#"+this.video.playerColor())),this.params.buttonBackgroundHover||(this.params.buttonBackground.grayLevel()>.3?this.params.buttonBackgroundHover=this.params.buttonBackground.clone().darken(20):this.params.buttonBackgroundHover=this.params.buttonBackground.clone().lighten(10)),this.options.buttonBackgroundTextColor||(this.params.buttonBackground.grayLevel()>.7?this.params.buttonBackgroundTextColor=new a.Color("#333"):this.params.buttonBackgroundTextColor=new a.Color("#fff")),this.options.bigTextSize||(this.params.bigTextSize=Math.round(.77*parseInt(this.params.style.fontSize,10))),this.options.smallTextSize||(this.params.smallTextSize=Math.round(.39*parseInt(this.params.style.fontSize,10))),this.options.inputHeight||(this.params.inputHeight=Math.round(1.11*parseInt(this.params.style.fontSize,10))),this.options.inputWidth||(this.params.inputWidth=Math.round(.4*a.elem.width(this.target.grid.main))),this.options.sectionIndex||(this.params.sectionIndex=0),this.options.videoIndex||(this.params.videoIndex=0),this.params.topText=this.sanitize(this.params.topText),this.params.bottomText=this.sanitize(this.params.bottomText)},e.prototype.fit=function(){return this.elem&&(this.video.videoHeight(),this.inferParams(),this.refreshCss(),this.center()),this},e.prototype.center=function(){var b,c,d,e;if(this.elem&&(c=document.getElementById(""+this.params.uuid+"_vcenter"))!=null)return b=a.elem.height(this.elem),d=a.elem.height(c),e=Math.round((b-d)/2),c.style.marginTop=""+e+"px"},e.prototype.fixTextAboveVisibility=function(){var a;if(a=document.getElementById(""+this.params.uuid+"_text_above"))return this.params.topText?a.style.display="block":a.style.display="none"},e.prototype.fixTextBelowVisibility=function(){var a;if(a=document.getElementById(""+this.params.uuid+"_text_below"))return this.params.bottomText?a.style.display="block":a.style.display="none"},e.prototype.open=function(b){var c,d,e,f,g,h,i,j,k,l,m,n=this;this.instantClose(),this.video.params.preview||this.video.suspend(),this.elem=document.createElement("div"),this.elem.id=this.params.uuid,this.elem.className="wistia_require_email",this.elem.innerHTML=this.formHtml(),a.plugin._allow3rdParty(this.video)||a.elem.stripEventAttributes(this.elem),this.video.grid.top_inside.appendChild(this.elem),a.plugin._allow3rdParty(this.video)&&(a.util.execScriptTags(this.params.topTextScriptTags),a.util.execCssTags(this.params.topTextCssTags),a.util.execScriptTags(this.params.bottomTextScriptTags),a.util.execCssTags(this.params.bottomTextCssTags)),this.submitElem=document.getElementById(""+this.params.uuid+"_submit"),this.firstNameElem=document.getElementById(""+this.params.uuid+"_first_name"),this.lastNameElem=document.getElementById(""+this.params.uuid+"_last_name"),this.emailElem=document.getElementById(""+this.params.uuid+"_email"),this.errorElem=document.getElementById(""+this.params.uuid+"_error"),this.skipElem=document.getElementById(""+this.params.uuid+"_skip"),this.rewatchElem=document.getElementById(""+this.params.uuid+"_rewatch"),this.content=document.getElementById(""+this.params.uuid+"_content"),this.refreshCss(),e=this.params.style;for(c in e)d=e[c],this.content.style[c]=d;return this.fixTextAboveVisibility(),this.fixTextBelowVisibility(),this.fit(),this.content.className="",a.timeout("requireEmail."+this.uuid+".delayed_slide",function(){return n.content.className="visible"}),b&&a.timeout("requireEmail."+this.uuid+".open_callback",b,600),this.video._tracker.logConversionOpportunity(this._conversionOpportunityData()),this.submitElem.onclick=function(){return n.onSubmit.apply(n,arguments)},(f=this.firstNameElem)!=null&&(f.onfocus=function(){return n.onFocus(n.firstNameElem,n.params.firstNameExampleText)}),(g=this.firstNameElem)!=null&&(g.onblur=function(){return n.onBlur(n.firstNameElem,n.params.firstNameExampleText)}),(h=this.firstNameElem)!=null&&(h.onkeyup=function(){return n.onKeyup.apply(n,arguments)}),(i=this.lastNameElem)!=null&&(i.onfocus=function(){return n.onFocus(n.lastNameElem,n.params.lastNameExampleText)}),(j=this.lastNameElem)!=null&&(j.onblur=function(){return n.onBlur(n.lastNameElem,n.params.lastNameExampleText)}),(k=this.lastNameElem)!=null&&(k.onkeyup=function(){return n.onKeyup.apply(n,arguments)}),this.emailElem.onfocus=function(){return n.onFocus(n.emailElem,n.params.emailExampleText)},this.emailElem.onblur=function(){return n.onBlur(n.emailElem,n.params.emailExampleText)},this.emailElem.onkeyup=function(){return n.onKeyup.apply(n,arguments)},(l=this.skipElem)!=null&&(l.onclick=function(){return n.onSkip.apply(n,arguments)}),(m=this.rewatchElem)!=null?m.onclick=function(){return n.onRewatch.apply(n,arguments)}:void 0},e.prototype.isOpen=function(){return this.elem&&this.elem.parentNode&&!a.elem.isHidden(this.elem)},e.prototype.formHtml=function(){var a;return a=this.params.askName?'--><div id="'+this.params.uuid+'_name_inputs"><!--\n  --><input type="text" name="'+this.params.uuid+'_first_name" id="'+this.params.uuid+'_first_name" value="'+this.params.firstNameExampleText+'" class="example" /><!--\n  --><input type="text" name="'+this.params.uuid+'_last_name" id="'+this.params.uuid+'_last_name" value="'+this.params.lastNameExampleText+'" class="example" /><!--\n--></div><!--':"",'<div id="'+this.params.uuid+'_content">\n  <div id="'+this.params.uuid+'_vcenter">\n    <div id="'+this.params.uuid+'_hcenter">\n      <div id="'+this.params.uuid+'_block">\n        <div id="'+this.params.uuid+'_text_above">'+this.params.topText+'</div>\n        <div id="'+this.params.uuid+'_input_wrapper"><!--\n          '+a+'\n          --><input type="email" name="'+this.params.uuid+'_email" id="'+this.params.uuid+'_email" value="'+this.params.emailExampleText+'" class="example" /><!--\n          --><button id="'+this.params.uuid+'_submit">\n            '+(this.params.buttonText?this.params.buttonText:this.params.time==="end"?"Submit":"Play")+'\n          </button>\n        </div>\n        <div id="'+this.params.uuid+'_text_below">'+this.params.bottomText+'</div>\n        <div id="'+this.params.uuid+'_error">Error text</div>\n      </div>\n    </div>\n  </div>\n  <div id="'+this.params.uuid+'_skip" title="Skip" style="'+(this.params.allowSkip?"display:block;":"")+'">&nbsp;</div>\n  <div id="'+this.params.uuid+'_rewatch" title="Watch again" style="'+(this.params.time==="end"?"display:block;":"")+'">&nbsp;</div>\n</div>'},e.prototype.updateTopText=function(b){var c,d;this.params.topText=b,this.params.topTextScriptTags=a.util.scriptTags(b),this.params.topTextCssTags=a.util.cssTags(b),d=a.util.removeCssTags(a.util.removeScriptTags(this.sanitize(b)));if(c=document.getElementById(""+this.params.uuid+"_text_above"))return c.innerHTML=d,a.plugin._allow3rdParty(this.video)&&(a.util.execCssTags(this.params.topTextCssTags),a.util.execScriptTags(this.params.topTextScriptTags)),b?c.style.display="block":c.style.display="none",this.fit()},e.prototype.updateBottomText=function(b){var c,d;this.params.bottomText=b,this.params.bottomTextScriptTags=a.util.scriptTags(b),this.params.bottomTextCssTags=a.util.cssTags(b),c=a.util.removeCssTags(a.util.removeScriptTags(this.sanitize(b)));if(d=document.getElementById(""+this.params.uuid+"_text_below"))return d.innerHTML=c,a.plugin._allow3rdParty(this.video)&&(a.util.execCssTags(this.params.bottomTextCssTags),a.util.execScriptTags(this.params.bottomTextScriptTags)),b?d.style.display="block":d.style.display="none",this.fit()},e.prototype.showSkip=function(){var a;if(a=document.getElementById(""+this.params.uuid+"_skip"))return a.style.display="block"},e.prototype.hideSkip=function(){var a;if(a=document.getElementById(""+this.params.uuid+"_skip"))return a.style.display="none"},e.prototype.showRewatch=function(){var a;if(a=document.getElementById(""+this.params.uuid+"_rewatch"))return a.style.display="block"},e.prototype.hideRewatch=function(){var a;if(a=document.getElementById(""+this.params.uuid+"_rewatch"))return a.style.display="none"},e.prototype.refreshCss=function(){var b;return this.style&&(b=this.style.parentNode)&&(b.removeChild(this.style),this.style=null),this.elem&&(this.style=a.util.addInlineCss(this.elem,this.formCss())),this},e.prototype.refreshFontFaceCss=function(){var b,c,d=this;return c=a.css(this._fontFaceCss()),b=document.createElement("div"),b.style.display="block",b.style.fontSize="12px",b.style.fontFamily="WistiaOpenSans",b.style.fontWeight=300,b.style.position="absolute",b.style.left="-99999em",b.innerHTML=".",a.elem.append(document.body,b),a.timeout(""+this.uuid+".requireEmail-v1.refresh_font_face",function(){return b.style.fontWeight=600,a.timeout(""+d.uuid+".requireEmail-v1.refresh_font_face",function(){return b.style.fontWeight=700,a.timeout(""+d.uuid+".requireEmail-v1.refresh_font_face",function(){return a.elem.remove(b),a.elem.remove(c)},500)},500)},500)},e.prototype._fontFaceCss=function(){return"@font-face {\nfont-family: 'WistiaOpenSans';\nfont-style: normal;\nfont-weight: 300;\nsrc: local('Open Sans Light'), local('OpenSans-Light'), url("+a.proto()+"//"+a.remote.embedHost()+"/fonts/WistiaOpenSansLight.woff) format('woff');\n}\n@font-face {\nfont-family: 'WistiaOpenSans';\nfont-style: normal;\nfont-weight: 600;\nsrc: local('Open Sans Semibold'), local('OpenSans-Semibold'), url("+a.proto()+"//"+a.remote.embedHost()+"/fonts/WistiaOpenSansSemiBold.woff) format('woff');\n}\n@font-face {\nfont-family: 'WistiaOpenSans';\nfont-style: normal;\nfont-weight: 700;\nsrc: local('Open Sans Bold'), local('OpenSans-Bold'), url("+a.proto()+"//"+a.remote.embedHost()+"/fonts/WistiaOpenSansBold.woff) format('woff');\n}"},e.prototype.formCss=function(){var b,c,d,e,f;return d=0,e=Math.round(this.params.inputHeight*.2),b=Math.round(this.params.inputHeight*.5),c=this.params.buttonWidth?this.params.buttonWidth:Math.round(this.params.inputHeight*(this.params.time==="end"?2.65:2.1)),this.elem&&(f=document.getElementById(""+this.params.uuid+"_vcenter"))&&(d=Math.round((a.elem.height(this.elem)-a.elem.height(f))/2)),""+this._fontFaceCss()+"\n#"+this.params.uuid+" {\ncursor:default;\nheight:"+this.video.videoHeight()+"px;\nleft:0;\noverflow:hidden;\nposition:absolute;\ntop:0;\nwidth:"+this.video.videoWidth()+"px;\nz-index:1;\n}\n#"+this.params.uuid+"_content {\nbackground-image: radial-gradient(farthest-corner, rgba(0,0,0,.05), rgba(0,0,0,.2), rgba(0,0,0,0.9));\ncolor:#fff;\nfont-family:"+(this.params.useBasicFont?"Helvetica,Arial,sans-serif":"WistiaOpenSans,Helvetica,Arial,sans-serif")+";\nfont-weight:300;\nheight:100%;\nline-height:1em;\nposition:absolute;\ntop:0;\nwidth:100%;\n-webkit-transform: translateX(-"+a.elem.width(this.video.grid.center)+"px);\n-moz-transform: translateX(-"+a.elem.width(this.video.grid.center)+"px);\n-o-transform: translateX(-"+a.elem.width(this.video.grid.center)+"px);\n-ms-transform: translateX(-"+a.elem.width(this.video.grid.center)+"px);\ntransform: translateX(-"+a.elem.width(this.video.grid.center)+"px);\n}\n#"+this.params.uuid+"_content.visible {\n-webkit-transform: translateX(0px);\n-moz-transform: translateX(0px);\n-o-transform: translateX(0px);\n-ms-transform: translateX(0px);\ntransform: translateX(0px);\n"+(a.detect.iphone||a.detect.ipad?"":"-webkit-transition: -webkit-transform .6s ease-in-out;-moz-transition: -moz-transform .6s ease-in-out;-o-transition: -o-transform .6s ease-in-out;-ms-transition: -ms-transform .6s ease-in-out;transition: transform .6s ease-in-out;")+"\n}\n#"+this.params.uuid+"_content.hidden {\n-webkit-transform: translateX("+a.elem.width(this.video.grid.center)+"px);\n-moz-transform: translateX("+a.elem.width(this.video.grid.center)+"px);\n-o-transform: translateX("+a.elem.width(this.video.grid.center)+"px);\n-ms-transform: translateX("+a.elem.width(this.video.grid.center)+"px);\ntransform: translateX("+a.elem.width(this.video.grid.center)+"px);\n"+(a.detect.iphone||a.detect.ipad?"":"-webkit-transition: -webkit-transform .6s ease-in-out;-moz-transition: -moz-transform .6s ease-in-out;-o-transition: -o-transform .6s ease-in-out;-ms-transition: -ms-transform .6s ease-in-out;transition: transform .6s ease-in-out;")+"\n}\n#"+this.params.uuid+"_vcenter {\nmargin-top:"+d+"px;\n}\n#"+this.params.uuid+"_hcenter {\ntext-align:center;\n}\n#"+this.params.uuid+"_text_above {\nfont-size:"+this.params.bigTextSize+"px;\nfont-weight:bold;\nletter-spacing:1px;\nline-height:1.4em;\nwidth: 80%;\nmargin-left: auto;\nmargin-right: auto;\nmargin-bottom:"+Math.round(this.params.bigTextSize*.9)+"px;\n}\n#"+this.params.uuid+"_text_below {\nfont-size:"+this.params.smallTextSize+"px;\nfont-style:italic;\nline-height:1.5em;\nmargin-top:"+this.params.bigTextSize+"px;\n}\n#"+this.params.uuid+"_input_wrapper {\nfont-size:"+Math.round(this.params.inputHeight*.5)+"px;\nline-height:"+this.params.inputHeight+"px;\n}\n#"+this.params.uuid+"_error {\ncolor:"+this.params.errorColor+";\ndisplay:none;\nfont-size:"+this.params.smallTextSize+"px;\nfont-style:italic;\nline-height:1.6em;\nmargin-top:"+Math.round(this.params.smallTextSize)+"px;\ntext-align:center;\nwidth:100%;\n}\n#"+this.params.uuid+"_error a {\ncolor:#fff;\n}\n#"+this.params.uuid+"_skip {\nbackground:url("+a.proto()+"//"+a.remote.embedHost()+"/assets/images/turnstile/skip.png) no-repeat 0 0;\nbottom:15px;\ncursor:pointer;\ndisplay:none;\nheight:24px;\nfilter:alpha(opacity=80);\nopacity:.8;\nposition:absolute;\nright:19px;\nwidth:57px;\n}\n#"+this.params.uuid+"_skip:hover {\nfilter:alpha(opacity=100);\nopacity:1;\n}\n#"+this.params.uuid+"_rewatch {\nbackground:url("+a.proto()+"//"+a.remote.embedHost()+"/assets/images/turnstile/rewatch.png) no-repeat 0 0;\nbottom:15px;\ncursor:pointer;\ndisplay:none;\nheight:29px;\nfilter:alpha(opacity=80);\nleft:19px;\nopacity:.8;\nposition:absolute;\nwidth:33px;\n}\n#"+this.params.uuid+"_rewatch:hover {\nfilter:alpha(opacity=100);\nopacity:1;\n}\n#"+this.params.uuid+"_input_wrapper {\n  word-spacing: -0.25em;\n}\n#"+this.params.uuid+"_email,\n#"+this.params.uuid+"_first_name,\n#"+this.params.uuid+"_last_name {\n  border:0 !important;\n  border-radius:0;\n  height:"+this.params.inputHeight+"px;\n  font-size:"+Math.round(this.params.inputHeight*.4)+"px;\n  font-family:"+(this.params.useBasicFont?"Helvetica,Arial,sans-serif":"WistiaOpenSans,Helvetica,Arial,sans-serif")+";\n  line-height:"+Math.round(this.params.inputHeight*.6)+"px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 10px;\n  outline:none;\n  padding:0 "+e+"px !important;\n  box-sizing: border-box;\n  vertical-align:top;\n  color: #000;\n}\n#"+this.params.uuid+"_email {\n  width:"+this.params.inputWidth+"px;\n}\n#"+this.params.uuid+"_name_inputs {\n  display: block;\n}\n#"+this.params.uuid+"_first_name {\n  margin-right: 10px;\n}\n#"+this.params.uuid+"_first_name,\n#"+this.params.uuid+"_last_name {\n  width: "+Math.round((this.params.inputWidth+2*e+c)/2-5-2*e)+"px\n}\n#"+this.params.uuid+"_first_name.example,\n#"+this.params.uuid+"_last_name.example,\n#"+this.params.uuid+"_email.example {\n  color:#777;\n}\n#"+this.params.uuid+"_submit {\nbackground:#"+this.params.buttonBackground.toHex()+";\nborder:0;\nborder-radius:0;\ncolor:#"+this.params.buttonBackgroundTextColor.toHex()+";\ncursor:pointer;\ndisplay:inline-block;\n*display:inline;\nfont-family:"+(this.params.useBasicFont?"Helvetica,Arial,sans-serif":"WistiaOpenSans,Helvetica,Arial,sans-serif")+";\nfont-size:"+Math.round(this.params.inputHeight*.4)+"px;\nfont-weight:600;\nheight:"+this.params.inputHeight+"px;\nwidth: "+c+"px;\nletter-spacing:2px;\nline-height:"+this.params.inputHeight+"px;\nmargin:0;\n"+(this.params.buttonBackground.grayLevel()>.9?"margin-left:1px;":"")+"\noutline:none;\npadding: 0;\ntext-align:center;\ntext-shadow:none;\ntext-transform:uppercase;\nvertical-align:top;\nzoom:1;\n}\n#"+this.params.uuid+"_submit:hover {\nbackground:#"+this.params.buttonBackgroundHover.toHex()+";\n}"},e.prototype.onSubmit=function(){var b,c;if(this.validateEmail()){if(this.suggestEmail())return;a.localStorage([this.video._attrs.pageUrl,"trackEmail"],this.emailElem.value),this.playlist?this.playlist.setEmail(this.emailElem.value):this.video.email(this.emailElem.value),this.params.time==="before"?c="pre-roll-email":this.params.time==="end"?c="post-roll-email":this.NUMBER_TIME_REGEXP.test(this.params.time)&&(c="mid-roll-email"),b={email:this.emailElem.value},this.firstNameElem!=null&&this.firstNameElem.value!==this.params.firstNameExampleText&&(b.first_name=this.firstNameElem.value),this.lastNameElem!=null&&this.lastNameElem.value!==this.params.lastNameExampleText&&(b.last_name=this.lastNameElem.value),this.onConversion(b),this.video._tracker.log("conversion",c,b),this.video.trigger("conversion",c,b.email,b.first_name,b.last_name),a.jsonp.get(""+a.proto()+"//"+a.remote.appHost()+"/turnstile",this._dataForSubmit(),function(a){if(a&&a.error)return typeof console!="undefined"&&console!==null?console.log(a.error):void 0}),this.openGateAtTime&&this.video.unbind("secondchange",this.openGateAtTime),this.openGateAtEnd&&this.video.unbind("end",this.openGateAtEnd),this.close(),this.NUMBER_TIME_REGEXP.test(this.params.time)||this.params.time==="before"?this.video.resume().play():this.video.resume(),this._cleared=!0}return!1},e.prototype._dataForSubmit=function(){var a;return a={media_id:this.video.hashedId(),provider:this.params.provider,email:this.emailElem.value},this.params.list!=null&&(a.list=this.params.list),this.params.askName&&(this.firstNameElem.value!==this.params.firstNameExampleText&&(a.first_name=this.firstNameElem.value),this.lastNameElem.value!==this.params.lastNameExampleText&&(a.last_name=this.lastNameElem.value)),this.video.foreignData()&&(a.foreign_data=Wistia.JSON.stringify(this.video.foreignData())),a},e.prototype._conversionOpportunityData=function(){var a,b;return this.params.time==="end"?b=this.video.duration():this.params.time==="before"?b=0:b=this.params.time,a={co_key:this.params.conversionOpportunityKey,co_type:this.params.conversionType,time:b},a},e.prototype.onSkip=function(){return this.openGateAtTime&&this.video.unbind("secondchange",this.openGateAtTime),this.openGateAtEnd&&this.video.unbind("end",this.openGateAtEnd),this.NUMBER_TIME_REGEXP.test(this.params.time)?this.video.resume({time:this.params.time}).play():this.video.resume().play(),this.close(),!1},e.prototype.onRewatch=function(){return this.video.resume({time:0,state:"playing"}),this.close(),!1},e.prototype.onFocus=function(a,b){a.value===b&&(a.className="",a.value="")},e.prototype.onBlur=function(a,b){if(!a.value)return a.className="example",a.value=b},e.prototype.onKeyup=function(a){var b;a=window.event!=null?window.event:a,b=a.which||a.keyCode,b===13&&this.onSubmit();if(c)return this.validateEmail()},e.prototype.onConversion=function(b){var c;return c=a.obj.merge({converted:!0},b,this._conversionOpportunityData()),this.video._tracker.logConversionOpportunity(c)},c=!1,e.prototype.validateEmail=function(){var a,b,d,e,f;return a=(e=this.firstNameElem)!=null?e.value:void 0,b=(f=this.lastNameElem)!=null?f.value:void 0,d=!!a&&a!==this.params.firstNameExampleText&&!!b&&b!==this.params.lastNameExampleText,this.params.askName&&!d?(this.errorElem.innerHTML="Please enter your full name.",this.errorElem.style.display="block",!1):/.+\@.+\..+/.test(this.emailElem.value)?this.errorElem.innerHTML==="Please enter a valid email address."?(this.errorElem.innerHTML="&nbsp;",this.errorElem.style.display="none",!0):!0:(this.errorElem.innerHTML="Please enter a valid email address.",this.errorElem.style.display="block",c=!0,!1)},d=!1,e.prototype.suggestEmail=function(){var b,c,e,f=this;return d||a.detect.browser.msie&&a.detect.browser.quirks&&a.detect.browser.version<8?!1:(b=a.Kicksend.mailcheck.suggest(this.emailElem.value,this._commonDomains))?(d=!0,this.errorElem.innerHTML="Did you mean "+b.address+"@<strong>"+b.domain+"</strong>?&nbsp;\n<a href='#' id='"+this.uuid+"_suggestion_yes'>Yes</a>\n<a href='#' id='"+this.uuid+"_suggestion_no'>No</a>",this.errorElem.style.display="block",e=document.getElementById(""+this.uuid+"_suggestion_yes"),e.onclick=function(){return f.emailElem.value=b.full,f.errorElem.innerHTML="&nbsp;",f.errorElem.style.display="none",!1},c=document.getElementById(""+this.uuid+"_suggestion_no"),c.onclick=function(){return f.errorElem.innerHTML="&nbsp;",f.errorElem.style.display="none",!1},!0):!1},e.prototype._commonDomains=["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com"],e.prototype.close=function(b){var c,d,e,f,g,h,i=this;return(c=this.video)!=null&&typeof c.suppressPlay=="function"&&c.suppressPlay(!1),(d=this.playlist)!=null&&typeof d.suppressPlay=="function"&&d.suppressPlay(!1),(e=this.playlist)!=null&&(f=e.params)!=null&&(g=f.videoOptions)!=null&&(g.suppressPlay=!1),(h=this.content)!=null&&(h.className="hidden"),a.timeout(""+this.video.uuid+"."+this.pluginName+"."+this.uuid+".remove_after_close",function(){i.instantClose();if(b)return b()},600)},e.prototype.instantClose=function(){var a;if((this.elem&&(a=this.elem.parentNode))!=null)return a.removeChild(this.elem),this.elem=null},e.prototype.remove=function(a){return a==null&&(a={}),this.removeFromPlaylist(),this.removeFromVideo(),e.__super__.remove.call(this,a)},e.prototype.removeFromPlaylist=function(){if(this.playlist){this.playlist.unbind("beforeembed",this.beforeEmbed),this.playlist.unbind("afterembed",this.afterEmbed),this.playlist.unbind("widthchange",this.onResize),this.playlist.unbind("heightchange",this.onResize),this.playlist.params.videoOptions.suppressPlay=!1;if(this.playlist.currentVideo())return this.playlist.currentVideo().unbind("conversion",this.playlistConversionFunc),this.playlist.currentVideo().unbind("beforeremove",this.playlistSwitchFunc)}},e.prototype.removeFromVideo=function(){return this.video&&(this.video.suppressPlay(!1),this.openGateAtTime&&this.video.unbind("secondchange",this.openGateAtTime),this.openGateAtEnd&&this.video.unbind("end",this.openGateAtEnd),this.openOnReady&&this.video.removeReadyFn(this.openOnReady),a.clearTimeouts(""+this.video.uuid+"."+this.pluginName+"."+this.uuid)),this.instantClose()},e}(a.Plugin.Base),a.plugin.requireEmail=function(b,c){return a.plugin._init("requireEmailV1",b,c)}),a.plugin("requireEmail-v1",a.plugin.requireEmail)})(Wistia),window.SWFUpload==undefined&&(window.SWFUpload=function(a){this.initSWFUpload(a)}),SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings=a,this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(
),this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete SWFUpload.instances[this.movieName],b}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 2009-03-25",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.completeURL=function(a){if(typeof a!="string"||a.match(/^https?:\/\//i)||a.match(/^\//))return a;var b=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),c=window.location.pathname.lastIndexOf("/");return c<=0?path="/":path=window.location.pathname.substr(0,c)+"/",path+a},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(a,b){this.settings[a]=this.settings[a]==undefined?b:this.settings[a]},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,!this.settings.prevent_swf_caching||(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var a,b;if(document.getElementById(this.movieName)!==null)throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(a==undefined)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;b=document.createElement("div"),b.innerHTML=this.getFlashHTML(),a.parentNode.replaceChild(b.firstChild,a),window[this.movieName]==undefined&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var a=this.buildParamString(),b=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(b),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(a),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){this.movieElement==undefined&&(this.movieElement=document.getElementById(this.movieName));if(this.movieElement===null)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var a=this.settings.post_params,b=[];if(typeof a=="object")for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c.toString())+"="+encodeURIComponent(a[c].toString()));return b.join("&amp;")},SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var a=null;a=this.getMovieElement();if(a&&typeof a.CallFunction=="unknown"){for(var b in a)try{typeof a[b]=="function"&&(a[b]=null)}catch(c){}try{a.parentNode.removeChild(a)}catch(d){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(e){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler=="function").toString(),"\n","\t","file_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler=="function").toString(),"\n","\t","file_queued_handler assigned:       ",(typeof this.settings.file_queued_handler=="function").toString(),"\n","\t","file_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler=="function").toString(),"\n","\t","upload_start_handler assigned:      ",(typeof this.settings.upload_start_handler=="function").toString(),"\n","\t","upload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler=="function").toString(),"\n","\t","upload_error_handler assigned:      ",(typeof this.settings.upload_error_handler=="function").toString(),"\n","\t","upload_success_handler assigned:    ",(typeof this.settings.upload_success_handler=="function").toString(),"\n","\t","upload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler=="function").toString(),"\n","\t","debug_handler assigned:             ",(typeof this.settings.debug_handler=="function").toString(),"\n"].join(""))},SWFUpload.prototype.addSetting=function(a,b,c){return b==undefined?this.settings[a]=c:this.settings[a]=b},SWFUpload.prototype.getSetting=function(a){return this.settings[a]!=undefined?this.settings[a]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement(),returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}return returnValue!=undefined&&typeof returnValue.post=="object"&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])},SWFUpload.prototype.cancelUpload=function(a,b){b!==!1&&(b=!0),this.callFlash("CancelUpload",[a,b])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])},SWFUpload.prototype.getFile=function(a){return typeof a=="number"?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])},SWFUpload.prototype.addFileParam=function(a,b,c){return this.callFlash("AddFileParam",[a,b,c])},SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])},SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString(),this.callFlash("SetUploadURL",[a])},SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a,this.callFlash("SetPostParams",[a])},SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a,this.settings.file_types_description=b,this.callFlash("SetFileTypes",[a,b])},SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a,this.callFlash("SetFileSizeLimit",[a])},SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a,this.callFlash("SetFileUploadLimit",[a])},SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a,this.callFlash("SetFileQueueLimit",[a])},SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a,this.callFlash("SetFilePostName",[a])},SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a,this.callFlash("SetUseQueryString",[a])},SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a,this.callFlash("SetRequeueOnError",[a])},SWFUpload.prototype.setHTTPSuccess=function(a){typeof a=="string"&&(a=a.replace(" ","").split(",")),this.settings.http_success=a,this.callFlash("SetHTTPSuccess",[a])},SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a,this.callFlash("SetAssumeSuccessTimeout",[a])},SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a,this.callFlash("SetDebugEnabled",[a])},SWFUpload.prototype.setButtonImageURL=function(a){a==undefined&&(a=""),this.settings.button_image_url=a,this.callFlash("SetButtonImageURL",[a])},SWFUpload.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a,this.settings.button_height=b;var c=this.getMovieElement();c!=undefined&&(c.style.width=a+"px",c.style.height=b+"px"),this.callFlash("SetButtonDimensions",[a,b])},SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a,this.callFlash("SetButtonText",[a])},SWFUpload.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b,this.settings.button_text_left_padding=a,this.callFlash("SetButtonTextPadding",[a,b])},SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a,this.callFlash("SetButtonTextStyle",[a])},SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a,this.callFlash("SetButtonDisabled",[a])},SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a,this.callFlash("SetButtonAction",[a])},SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a,this.callFlash("SetButtonCursor",[a])},SWFUpload.prototype.queueEvent=function(a,b){b==undefined?b=[]:b instanceof Array||(b=[b]);var c=this;if(typeof this.settings[a]=="function")this.eventQueue.push(function(){this.settings[a].apply(this,b)}),setTimeout(function(){c.executeNextEvent()},0);else if(this.settings[a]!==null)throw"Event handler "+a+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;typeof a=="function"&&a.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(a){var b=/[$]([0-9a-f]{4})/i,c={},d;if(a!=undefined){for(var e in a.post)if(a.post.hasOwnProperty(e)){d=e;var f;while((f=b.exec(d))!==null)d=d.replace(f[0],String.fromCharCode(parseInt("0x"+f[1],16)));c[d]=a.post[e]}a.post=c}return a},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(a){return!1}},SWFUpload.prototype.flashReady=function(){var a=this.getMovieElement();if(!a){this.debug("Flash called back ready but the flash movie can't be found.");return}this.cleanUp(a),this.queueEvent("swfupload_loaded_handler")},SWFUpload.prototype.cleanUp=function(a){try{if(this.movieElement&&typeof a.CallFunction=="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var b in a)try{typeof a[b]=="function"&&(a[b]=null)}catch(c){}}}catch(d){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("file_queued_handler",a)},SWFUpload.prototype.fileQueueError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("file_queue_error_handler",[a,b,c])},SWFUpload.prototype.fileDialogComplete=function(a,b,c){this.queueEvent("file_dialog_complete_handler",[a,b,c])},SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("return_upload_start_handler",a)},SWFUpload.prototype.returnUploadStart=function(a){var b;if(typeof this.settings.upload_start_handler=="function")a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(this.settings.upload_start_handler!=undefined)throw"upload_start_handler must be a function";b===undefined&&(b=!0),b=!!b,this.callFlash("ReturnUploadStart",[b])},SWFUpload.prototype.uploadProgress=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_progress_handler",[a,b,c])},SWFUpload.prototype.uploadError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_error_handler",[a,b,c])},SWFUpload.prototype.uploadSuccess=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_success_handler",[a,b,c])},SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("upload_complete_handler",a)},SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)},SWFUpload.prototype.debugMessage=function(a){if(this.settings.debug){var b,c=[];if(typeof a=="object"&&typeof a.name=="string"&&typeof a.message=="string"){for(var d in a)a.hasOwnProperty(d)&&c.push(d+": "+a[d]);b=c.join("\n")||"",c=b.split("\n"),b="EXCEPTION: "+c.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(a)}},SWFUpload.Console={},SWFUpload.Console.writeLine=function(a){var b,c;try{b=document.getElementById("SWFUpload_Console"),b||(c=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(c),b=document.createElement("textarea"),b.id="SWFUpload_Console",b.style.fontFamily="monospace",b.setAttribute("wrap","off"),b.wrap="off",b.style.overflow="auto",b.style.width="700px",b.style.height="350px",b.style.margin="5px",c.appendChild(b)),b.value+=a+"\n",b.scrollTop=b.scrollHeight-b.clientHeight}catch(d){alert("Exception: "+d.name+" Message: "+d.message)}};var IntegrationStatus;IntegrationStatus=function(){function a(a){this.$el=a,this.$statusEndpoint=a.attr("data-source"),this.integrationId=a.attr("data-integration_id"),this.$connected=a.find(".status-indicator--success"),this.$connecting=a.find(".status-indicator--waiting"),this.$failed=a.find(".status-indicator--error")}return a.prototype.getStatus=function(){var a=this;return $.ajax({url:this.$statusEndpoint,type:"GET",data:{integration_id:this.integrationId},beforeSend:function(){return a._showConnecting()},success:function(b){b.connected===!0&&a._showConnected();if(b.connected===!1)return a._showFailed()},error:function(b,c,d){return statusBar.error("An error occurred: "+d.toLowerCase()+"."),a._showFailed()}})},a.prototype._showConnected=function(){return this._hideStatus(),this.$connected.show()},a.prototype._showConnecting=function(){return this._hideStatus(),this.$connecting.show()},a.prototype._showFailed=function(){return this._hideStatus(),this.$failed.show()},a.prototype._hideStatus=function(){return this.$connected.hide(),this.$connecting.hide(),this.$failed.hide()},a}(),$(function(){var a,b,c,d,e,f;e=$(".js-integration-status"),f=[];for(c=0,d=e.length;c<d;c++)b=e[c],a=new IntegrationStatus($(b)),f.push(a.getStatus());return f});var ExpandableSection,__bind=function(a,b){return function(){return a.apply(b,arguments)}};ExpandableSection=function(){function a(a){this._toggle=__bind(this._toggle,this),this._close=__bind(this._close,this),this._open=__bind(this._open,this),this.$drawer=a,this.$handle=a.siblings(".expandable-handle"),this.$handle.on("click",this._toggle)}return a.prototype._open=function(){return this.$drawer.addClass("is-open"),this.$handle.addClass("is-open")},a.prototype._close=function(){return this.$drawer.removeClass("is-open"),this.$handle.removeClass("is-open")},a.prototype._toggle=function(){return this.$drawer.hasClass("is-open")?this._close():this._open()},a}(),$(function(){var a,b,c,d,e;d=$(".expandable"),e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push(new ExpandableSection($(a)));return e})